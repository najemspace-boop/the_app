function vk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function lf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cm={exports:{}},vc={},Am={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function yk(){if(sw)return Xe;sw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function _(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,T={};function S(z,Z,se){this.props=z,this.context=Z,this.refs=T,this.updater=se||b}S.prototype.isReactComponent={},S.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=S.prototype;function P(z,Z,se){this.props=z,this.context=Z,this.refs=T,this.updater=se||b}var O=P.prototype=new k;O.constructor=P,j(O,S.prototype),O.isPureReactComponent=!0;var B=Array.isArray,K=Object.prototype.hasOwnProperty,J={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function C(z,Z,se){var fe,xe={},Ee=null,we=null;if(Z!=null)for(fe in Z.ref!==void 0&&(we=Z.ref),Z.key!==void 0&&(Ee=""+Z.key),Z)K.call(Z,fe)&&!R.hasOwnProperty(fe)&&(xe[fe]=Z[fe]);var ge=arguments.length-2;if(ge===1)xe.children=se;else if(1<ge){for(var Le=Array(ge),Ge=0;Ge<ge;Ge++)Le[Ge]=arguments[Ge+2];xe.children=Le}if(z&&z.defaultProps)for(fe in ge=z.defaultProps,ge)xe[fe]===void 0&&(xe[fe]=ge[fe]);return{$$typeof:t,type:z,key:Ee,ref:we,props:xe,_owner:J.current}}function D(z,Z){return{$$typeof:t,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function V(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(se){return Z[se]})}var U=/\/+/g;function M(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?V(""+z.key):Z.toString(36)}function oe(z,Z,se,fe,xe){var Ee=typeof z;(Ee==="undefined"||Ee==="boolean")&&(z=null);var we=!1;if(z===null)we=!0;else switch(Ee){case"string":case"number":we=!0;break;case"object":switch(z.$$typeof){case t:case e:we=!0}}if(we)return we=z,xe=xe(we),z=fe===""?"."+M(we,0):fe,B(xe)?(se="",z!=null&&(se=z.replace(U,"$&/")+"/"),oe(xe,Z,se,"",function(Ge){return Ge})):xe!=null&&(L(xe)&&(xe=D(xe,se+(!xe.key||we&&we.key===xe.key?"":(""+xe.key).replace(U,"$&/")+"/")+z)),Z.push(xe)),1;if(we=0,fe=fe===""?".":fe+":",B(z))for(var ge=0;ge<z.length;ge++){Ee=z[ge];var Le=fe+M(Ee,ge);we+=oe(Ee,Z,se,Le,xe)}else if(Le=_(z),typeof Le=="function")for(z=Le.call(z),ge=0;!(Ee=z.next()).done;)Ee=Ee.value,Le=fe+M(Ee,ge++),we+=oe(Ee,Z,se,Le,xe);else if(Ee==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return we}function _e(z,Z,se){if(z==null)return z;var fe=[],xe=0;return oe(z,fe,"","",function(Ee){return Z.call(se,Ee,xe++)}),fe}function ue(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(se){(z._status===0||z._status===-1)&&(z._status=1,z._result=se)},function(se){(z._status===0||z._status===-1)&&(z._status=2,z._result=se)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var he={current:null},Y={transition:null},Q={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:Y,ReactCurrentOwner:J};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:_e,forEach:function(z,Z,se){_e(z,function(){Z.apply(this,arguments)},se)},count:function(z){var Z=0;return _e(z,function(){Z++}),Z},toArray:function(z){return _e(z,function(Z){return Z})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Xe.Component=S,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=P,Xe.StrictMode=r,Xe.Suspense=f,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Xe.act=ne,Xe.cloneElement=function(z,Z,se){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var fe=j({},z.props),xe=z.key,Ee=z.ref,we=z._owner;if(Z!=null){if(Z.ref!==void 0&&(Ee=Z.ref,we=J.current),Z.key!==void 0&&(xe=""+Z.key),z.type&&z.type.defaultProps)var ge=z.type.defaultProps;for(Le in Z)K.call(Z,Le)&&!R.hasOwnProperty(Le)&&(fe[Le]=Z[Le]===void 0&&ge!==void 0?ge[Le]:Z[Le])}var Le=arguments.length-2;if(Le===1)fe.children=se;else if(1<Le){ge=Array(Le);for(var Ge=0;Ge<Le;Ge++)ge[Ge]=arguments[Ge+2];fe.children=ge}return{$$typeof:t,type:z.type,key:xe,ref:Ee,props:fe,_owner:we}},Xe.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Xe.createElement=C,Xe.createFactory=function(z){var Z=C.bind(null,z);return Z.type=z,Z},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(z){return{$$typeof:d,render:z}},Xe.isValidElement=L,Xe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:ue}},Xe.memo=function(z,Z){return{$$typeof:m,type:z,compare:Z===void 0?null:Z}},Xe.startTransition=function(z){var Z=Y.transition;Y.transition={};try{z()}finally{Y.transition=Z}},Xe.unstable_act=ne,Xe.useCallback=function(z,Z){return he.current.useCallback(z,Z)},Xe.useContext=function(z){return he.current.useContext(z)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(z){return he.current.useDeferredValue(z)},Xe.useEffect=function(z,Z){return he.current.useEffect(z,Z)},Xe.useId=function(){return he.current.useId()},Xe.useImperativeHandle=function(z,Z,se){return he.current.useImperativeHandle(z,Z,se)},Xe.useInsertionEffect=function(z,Z){return he.current.useInsertionEffect(z,Z)},Xe.useLayoutEffect=function(z,Z){return he.current.useLayoutEffect(z,Z)},Xe.useMemo=function(z,Z){return he.current.useMemo(z,Z)},Xe.useReducer=function(z,Z,se){return he.current.useReducer(z,Z,se)},Xe.useRef=function(z){return he.current.useRef(z)},Xe.useState=function(z){return he.current.useState(z)},Xe.useSyncExternalStore=function(z,Z,se){return he.current.useSyncExternalStore(z,Z,se)},Xe.useTransition=function(){return he.current.useTransition()},Xe.version="18.3.1",Xe}var iw;function cf(){return iw||(iw=1,Am.exports=yk()),Am.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function xk(){if(ow)return vc;ow=1;var t=cf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,m){var v,g={},_=null,b=null;m!==void 0&&(_=""+m),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(b=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(g[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)g[v]===void 0&&(g[v]=f[v]);return{$$typeof:e,type:d,key:_,ref:b,props:g,_owner:i.current}}return vc.Fragment=n,vc.jsx=c,vc.jsxs=c,vc}var aw;function wk(){return aw||(aw=1,Cm.exports=xk()),Cm.exports}var l=wk(),E=cf();const re=lf(E),dv=vk({__proto__:null,default:re},[E]);var Kd={},Rm={exports:{}},fr={},Pm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function _k(){return lw||(lw=1,(function(t){function e(Y,Q){var ne=Y.length;Y.push(Q);e:for(;0<ne;){var z=ne-1>>>1,Z=Y[z];if(0<i(Z,Q))Y[z]=Q,Y[ne]=Z,ne=z;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Q=Y[0],ne=Y.pop();if(ne!==Q){Y[0]=ne;e:for(var z=0,Z=Y.length,se=Z>>>1;z<se;){var fe=2*(z+1)-1,xe=Y[fe],Ee=fe+1,we=Y[Ee];if(0>i(xe,ne))Ee<Z&&0>i(we,xe)?(Y[z]=we,Y[Ee]=ne,z=Ee):(Y[z]=xe,Y[fe]=ne,z=fe);else if(Ee<Z&&0>i(we,ne))Y[z]=we,Y[Ee]=ne,z=Ee;else break e}}return Q}function i(Y,Q){var ne=Y.sortIndex-Q.sortIndex;return ne!==0?ne:Y.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],v=1,g=null,_=3,b=!1,j=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Y){for(var Q=n(m);Q!==null;){if(Q.callback===null)r(m);else if(Q.startTime<=Y)r(m),Q.sortIndex=Q.expirationTime,e(f,Q);else break;Q=n(m)}}function B(Y){if(T=!1,O(Y),!j)if(n(f)!==null)j=!0,ue(K);else{var Q=n(m);Q!==null&&he(B,Q.startTime-Y)}}function K(Y,Q){j=!1,T&&(T=!1,k(C),C=-1),b=!0;var ne=_;try{for(O(Q),g=n(f);g!==null&&(!(g.expirationTime>Q)||Y&&!V());){var z=g.callback;if(typeof z=="function"){g.callback=null,_=g.priorityLevel;var Z=z(g.expirationTime<=Q);Q=t.unstable_now(),typeof Z=="function"?g.callback=Z:g===n(f)&&r(f),O(Q)}else r(f);g=n(f)}if(g!==null)var se=!0;else{var fe=n(m);fe!==null&&he(B,fe.startTime-Q),se=!1}return se}finally{g=null,_=ne,b=!1}}var J=!1,R=null,C=-1,D=5,L=-1;function V(){return!(t.unstable_now()-L<D)}function U(){if(R!==null){var Y=t.unstable_now();L=Y;var Q=!0;try{Q=R(!0,Y)}finally{Q?M():(J=!1,R=null)}}else J=!1}var M;if(typeof P=="function")M=function(){P(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,_e=oe.port2;oe.port1.onmessage=U,M=function(){_e.postMessage(null)}}else M=function(){S(U,0)};function ue(Y){R=Y,J||(J=!0,M())}function he(Y,Q){C=S(function(){Y(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){j||b||(j=!0,ue(K))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var ne=_;_=Q;try{return Y()}finally{_=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=_;_=Y;try{return Q()}finally{_=ne}},t.unstable_scheduleCallback=function(Y,Q,ne){var z=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?z+ne:z):ne=z,Y){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ne+Z,Y={id:v++,callback:Q,priorityLevel:Y,startTime:ne,expirationTime:Z,sortIndex:-1},ne>z?(Y.sortIndex=ne,e(m,Y),n(f)===null&&Y===n(m)&&(T?(k(C),C=-1):T=!0,he(B,ne-z))):(Y.sortIndex=Z,e(f,Y),j||b||(j=!0,ue(K))),Y},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Y){var Q=_;return function(){var ne=_;_=Q;try{return Y.apply(this,arguments)}finally{_=ne}}}})(Dm)),Dm}var cw;function bk(){return cw||(cw=1,Pm.exports=_k()),Pm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function Ek(){if(uw)return fr;uw=1;var t=cf(),e=bk();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function _(s){return f.call(g,s)?!0:f.call(v,s)?!1:m.test(s)?g[s]=!0:(v[s]=!0,!1)}function b(s,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,o,u,p){if(o===null||typeof o>"u"||b(s,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function T(s,o,u,p,y,w,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=I}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new T(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];S[o]=new T(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new T(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new T(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new T(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new T(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new T(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new T(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new T(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(k,P);S[o]=new T(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(k,P);S[o]=new T(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(k,P);S[o]=new T(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new T(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new T(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,o,u,p){var y=S.hasOwnProperty(o)?S[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(j(o,u,y,p)&&(u=null),p||y===null?_(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):y.mustUseProperty?s[y.propertyName]=u===null?y.type===3?!1:"":u:(o=y.attributeName,p=y.attributeNamespace,u===null?s.removeAttribute(o):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,p?s.setAttributeNS(p,o,u):s.setAttribute(o,u))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),J=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),Y=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,z;function Z(s){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var se=!1;function fe(s,o){if(!s||se)return"";se=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var p=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){p=X}s.call(o.prototype)}else{try{throw Error()}catch(X){p=X}s()}}catch(X){if(X&&p&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),w=p.stack.split(`
`),I=y.length-1,F=w.length-1;1<=I&&0<=F&&y[I]!==w[F];)F--;for(;1<=I&&0<=F;I--,F--)if(y[I]!==w[F]){if(I!==1||F!==1)do if(I--,F--,0>F||y[I]!==w[F]){var $=`
`+y[I].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=I&&0<=F);break}}}finally{se=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Z(s):""}function xe(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=fe(s.type,!1),s;case 11:return s=fe(s.type.render,!1),s;case 1:return s=fe(s.type,!0),s;default:return""}}function Ee(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case J:return"Portal";case D:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case U:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case _e:return o=s.displayName||null,o!==null?o:Ee(s.type)||"Memo";case ue:o=s._payload,s=s._init;try{return Ee(s(o))}catch{}}return null}function we(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Le(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ge(s){var o=Le(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,w=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(I){p=""+I,w.call(this,I)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function $e(s){s._valueTracker||(s._valueTracker=Ge(s))}function ve(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return s&&(p=Le(s)?s.checked?"true":"false":s.value),s=p,s!==u?(o.setValue(s),!0):!1}function qe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ze(s,o){var u=o.checked;return ne({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function wt(s,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=ge(o.value!=null?o.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function qt(s,o){o=o.checked,o!=null&&O(s,"checked",o,!1)}function vt(s,o){qt(s,o);var u=ge(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ft(s,o.type,u):o.hasOwnProperty("defaultValue")&&ft(s,o.type,ge(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function on(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ft(s,o,u){(o!=="number"||qe(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Pt=Array.isArray;function an(s,o,u,p){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&p&&(s[u].defaultSelected=!0)}else{for(u=""+ge(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function kt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ln(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Pt(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:ge(u)}}function me(s,o){var u=ge(o.value),p=ge(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function Ie(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ve(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ve(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var yt,cn=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,y){MSApp.execUnsafeLocalFunction(function(){return s(o,u,p,y)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(yt=yt||document.createElement("div"),yt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=yt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function pt(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wt=["Webkit","ms","Moz","O"];Object.keys(vn).forEach(function(s){Wt.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),vn[o]=vn[s]})});function Ln(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||vn.hasOwnProperty(s)&&vn[s]?(""+o).trim():o+"px"}function tr(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,y=Ln(u,o[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,y):s[u]=y}}var nr=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rr(s,o){if(o){if(nr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function xr(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sn=null;function en(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fs=null,Tn=null,Fn=null;function Rr(s){if(s=nc(s)){if(typeof fs!="function")throw Error(n(280));var o=s.stateNode;o&&(o=ld(o),fs(s.stateNode,s.type,o))}}function Pe(s){Tn?Fn?Fn.push(s):Fn=[s]:Tn=s}function _t(){if(Tn){var s=Tn,o=Fn;if(Fn=Tn=null,Rr(s),o)for(s=0;s<o.length;s++)Rr(o[s])}}function bt(s,o){return s(o)}function Yt(){}var sr=!1;function Lt(s,o,u){if(sr)return s(o,u);sr=!0;try{return bt(s,o,u)}finally{sr=!1,(Tn!==null||Fn!==null)&&(Yt(),_t())}}function nt(s,o){var u=s.stateNode;if(u===null)return null;var p=ld(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Kr=!1;if(d)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{Kr=!1}function un(s,o,u,p,y,w,I,F,$){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(ae){this.onError(ae)}}var ps=!1,ir=null,Pr=!1,Ml=null,sp={onError:function(s){ps=!0,ir=s}};function ma(s,o,u,p,y,w,I,F,$){ps=!1,ir=null,un.apply(sp,arguments)}function Pu(s,o,u,p,y,w,I,F,$){if(ma.apply(this,arguments),ps){if(ps){var X=ir;ps=!1,ir=null}else throw Error(n(198));Pr||(Pr=!0,Ml=X)}}function Gr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function To(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Qr(s){if(Gr(s)!==s)throw Error(n(188))}function Du(s){var o=s.alternate;if(!o){if(o=Gr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,p=o;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return Qr(y),s;if(w===p)return Qr(y),o;w=w.sibling}throw Error(n(188))}if(u.return!==p.return)u=y,p=w;else{for(var I=!1,F=y.child;F;){if(F===u){I=!0,u=y,p=w;break}if(F===p){I=!0,p=y,u=w;break}F=F.sibling}if(!I){for(F=w.child;F;){if(F===u){I=!0,u=w,p=y;break}if(F===p){I=!0,p=w,u=y;break}F=F.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Ll(s){return s=Du(s),s!==null?ga(s):null}function ga(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ga(s);if(o!==null)return o;s=s.sibling}return null}var va=e.unstable_scheduleCallback,Fl=e.unstable_cancelCallback,Ou=e.unstable_shouldYield,ip=e.unstable_requestPaint,St=e.unstable_now,Mu=e.unstable_getCurrentPriorityLevel,jo=e.unstable_ImmediatePriority,Ii=e.unstable_UserBlockingPriority,Dr=e.unstable_NormalPriority,Vl=e.unstable_LowPriority,Lu=e.unstable_IdlePriority,ko=null,wr=null;function Fu(s){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(ko,s,void 0,(s.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:Uu,Ul=Math.log,Vu=Math.LN2;function Uu(s){return s>>>=0,s===0?32:31-(Ul(s)/Vu|0)|0}var ya=64,xa=4194304;function Ci(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Io(s,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,w=s.pingedLanes,I=u&268435455;if(I!==0){var F=I&~y;F!==0?p=Ci(F):(w&=I,w!==0&&(p=Ci(w)))}else I=u&~y,I!==0?p=Ci(I):w!==0&&(p=Ci(w));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,w=o&-o,y>=w||y===16&&(w&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)u=31-Qn(o),y=1<<u,p|=s[u],o&=~y;return p}function op(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ks(s,o){for(var u=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,w=s.pendingLanes;0<w;){var I=31-Qn(w),F=1<<I,$=y[I];$===-1?((F&u)===0||(F&p)!==0)&&(y[I]=op(F,o)):$<=o&&(s.expiredLanes|=F),w&=~F}}function _r(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Co(){var s=ya;return ya<<=1,(ya&4194240)===0&&(ya=64),s}function Ai(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Ri(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Qn(o),s[o]=u}function Et(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var y=31-Qn(u),w=1<<y;o[y]=0,p[y]=-1,s[y]=-1,u&=~w}}function Pi(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var p=31-Qn(u),y=1<<p;y&o|s[p]&o&&(s[p]|=o),u&=~y}}var et=0;function Di(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Bu,wa,zu,$u,qu,Bl=!1,ms=[],jn=null,Yr=null,Xr=null,Oi=new Map,Or=new Map,gs=[],ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wu(s,o){switch(s){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Oi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(o.pointerId)}}function or(s,o,u,p,y,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},o!==null&&(o=nc(o),o!==null&&wa(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function lp(s,o,u,p,y){switch(o){case"focusin":return jn=or(jn,s,o,u,p,y),!0;case"dragenter":return Yr=or(Yr,s,o,u,p,y),!0;case"mouseover":return Xr=or(Xr,s,o,u,p,y),!0;case"pointerover":var w=y.pointerId;return Oi.set(w,or(Oi.get(w)||null,s,o,u,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Or.set(w,or(Or.get(w)||null,s,o,u,p,y)),!0}return!1}function Hu(s){var o=Oo(s.target);if(o!==null){var u=Gr(o);if(u!==null){if(o=u.tag,o===13){if(o=To(u),o!==null){s.blockedOn=o,qu(s.priority,function(){zu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Gs(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=_a(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Sn=p,u.target.dispatchEvent(p),Sn=null}else return o=nc(u),o!==null&&wa(o),s.blockedOn=u,!1;o.shift()}return!0}function Ao(s,o,u){Gs(s)&&u.delete(o)}function Ku(){Bl=!1,jn!==null&&Gs(jn)&&(jn=null),Yr!==null&&Gs(Yr)&&(Yr=null),Xr!==null&&Gs(Xr)&&(Xr=null),Oi.forEach(Ao),Or.forEach(Ao)}function Jr(s,o){s.blockedOn===o&&(s.blockedOn=null,Bl||(Bl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ku)))}function Zr(s){function o(y){return Jr(y,s)}if(0<ms.length){Jr(ms[0],s);for(var u=1;u<ms.length;u++){var p=ms[u];p.blockedOn===s&&(p.blockedOn=null)}}for(jn!==null&&Jr(jn,s),Yr!==null&&Jr(Yr,s),Xr!==null&&Jr(Xr,s),Oi.forEach(o),Or.forEach(o),u=0;u<gs.length;u++)p=gs[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<gs.length&&(u=gs[0],u.blockedOn===null);)Hu(u),u.blockedOn===null&&gs.shift()}var Qs=B.ReactCurrentBatchConfig,Mi=!0;function Dt(s,o,u,p){var y=et,w=Qs.transition;Qs.transition=null;try{et=1,zl(s,o,u,p)}finally{et=y,Qs.transition=w}}function cp(s,o,u,p){var y=et,w=Qs.transition;Qs.transition=null;try{et=4,zl(s,o,u,p)}finally{et=y,Qs.transition=w}}function zl(s,o,u,p){if(Mi){var y=_a(s,o,u,p);if(y===null)wp(s,o,p,Ro,u),Wu(s,p);else if(lp(y,s,o,u,p))p.stopPropagation();else if(Wu(s,p),o&4&&-1<ap.indexOf(s)){for(;y!==null;){var w=nc(y);if(w!==null&&Bu(w),w=_a(s,o,u,p),w===null&&wp(s,o,p,Ro,u),w===y)break;y=w}y!==null&&p.stopPropagation()}else wp(s,o,p,null,u)}}var Ro=null;function _a(s,o,u,p){if(Ro=null,s=en(p),s=Oo(s),s!==null)if(o=Gr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=To(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ro=s,null}function $l(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mu()){case jo:return 1;case Ii:return 4;case Dr:case Vl:return 16;case Lu:return 536870912;default:return 16}default:return 16}}var br=null,ba=null,ar=null;function ql(){if(ar)return ar;var s,o=ba,u=o.length,p,y="value"in br?br.value:br.textContent,w=y.length;for(s=0;s<u&&o[s]===y[s];s++);var I=u-s;for(p=1;p<=I&&o[u-p]===y[w-p];p++);return ar=y.slice(s,1<p?1-p:void 0)}function Ea(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function vs(){return!0}function Wl(){return!1}function kn(s){function o(u,p,y,w,I){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(u=s[F],this[F]=u?u(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?vs:Wl,this.isPropagationStopped=Wl,this}return ne(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),o}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=kn(es),ys=ne({},es,{view:0,detail:0}),up=kn(ys),Sa,Ys,Li,Po=ne({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Li&&(Li&&s.type==="mousemove"?(Sa=s.screenX-Li.screenX,Ys=s.screenY-Li.screenY):Ys=Sa=0,Li=s),Sa)},movementY:function(s){return"movementY"in s?s.movementY:Ys}}),Ta=kn(Po),Hl=ne({},Po,{dataTransfer:0}),Gu=kn(Hl),ja=ne({},ys,{relatedTarget:0}),ka=kn(ja),Qu=ne({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),Xs=kn(Qu),Yu=ne({},es,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Xu=kn(Yu),Ju=ne({},es,{data:0}),Kl=kn(Ju),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ed(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Zu[s])?!!o[s]:!1}function xs(){return ed}var h=ne({},ys,{key:function(s){if(s.key){var o=Ia[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ea(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(s){return s.type==="keypress"?Ea(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ea(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),x=kn(h),N=ne({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=kn(N),W=ne({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),ee=kn(W),pe=ne({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),mt=kn(pe),dn=ne({},Po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=kn(dn),yn=[9,13,27,32],tn=d&&"CompositionEvent"in window,Mr=null;d&&"documentMode"in document&&(Mr=document.documentMode);var Er=d&&"TextEvent"in window&&!Mr,Do=d&&(!tn||Mr&&8<Mr&&11>=Mr),Ca=" ",Jy=!1;function Zy(s,o){switch(s){case"keyup":return yn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ex(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Aa=!1;function pj(s,o){switch(s){case"compositionend":return ex(o);case"keypress":return o.which!==32?null:(Jy=!0,Ca);case"textInput":return s=o.data,s===Ca&&Jy?null:s;default:return null}}function mj(s,o){if(Aa)return s==="compositionend"||!tn&&Zy(s,o)?(s=ql(),ar=ba=br=null,Aa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Do&&o.locale!=="ko"?null:o.data;default:return null}}var gj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tx(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!gj[s.type]:o==="textarea"}function nx(s,o,u,p){Pe(p),o=id(o,"onChange"),0<o.length&&(u=new Na("onChange","change",null,u,p),s.push({event:u,listeners:o}))}var Gl=null,Ql=null;function vj(s){wx(s,0)}function td(s){var o=Ma(s);if(ve(o))return s}function yj(s,o){if(s==="change")return o}var rx=!1;if(d){var dp;if(d){var hp="oninput"in document;if(!hp){var sx=document.createElement("div");sx.setAttribute("oninput","return;"),hp=typeof sx.oninput=="function"}dp=hp}else dp=!1;rx=dp&&(!document.documentMode||9<document.documentMode)}function ix(){Gl&&(Gl.detachEvent("onpropertychange",ox),Ql=Gl=null)}function ox(s){if(s.propertyName==="value"&&td(Ql)){var o=[];nx(o,Ql,s,en(s)),Lt(vj,o)}}function xj(s,o,u){s==="focusin"?(ix(),Gl=o,Ql=u,Gl.attachEvent("onpropertychange",ox)):s==="focusout"&&ix()}function wj(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return td(Ql)}function _j(s,o){if(s==="click")return td(o)}function bj(s,o){if(s==="input"||s==="change")return td(o)}function Ej(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ts=typeof Object.is=="function"?Object.is:Ej;function Yl(s,o){if(ts(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!f.call(o,y)||!ts(s[y],o[y]))return!1}return!0}function ax(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function lx(s,o){var u=ax(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=o&&p>=o)return{node:u,offset:o-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ax(u)}}function cx(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?cx(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ux(){for(var s=window,o=qe();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=qe(s.document)}return o}function fp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Nj(s){var o=ux(),u=s.focusedElem,p=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&cx(u.ownerDocument.documentElement,u)){if(p!==null&&fp(u)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var y=u.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!s.extend&&w>p&&(y=p,p=w,w=y),y=lx(u,w);var I=lx(u,p);y&&I&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),s.removeAllRanges(),w>p?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Sj=d&&"documentMode"in document&&11>=document.documentMode,Ra=null,pp=null,Xl=null,mp=!1;function dx(s,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;mp||Ra==null||Ra!==qe(p)||(p=Ra,"selectionStart"in p&&fp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Xl&&Yl(Xl,p)||(Xl=p,p=id(pp,"onSelect"),0<p.length&&(o=new Na("onSelect","select",null,o,u),s.push({event:o,listeners:p}),o.target=Ra)))}function nd(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Pa={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},gp={},hx={};d&&(hx=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function rd(s){if(gp[s])return gp[s];if(!Pa[s])return s;var o=Pa[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in hx)return gp[s]=o[u];return s}var fx=rd("animationend"),px=rd("animationiteration"),mx=rd("animationstart"),gx=rd("transitionend"),vx=new Map,yx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(s,o){vx.set(s,o),a(o,[s])}for(var vp=0;vp<yx.length;vp++){var yp=yx[vp],Tj=yp.toLowerCase(),jj=yp[0].toUpperCase()+yp.slice(1);Fi(Tj,"on"+jj)}Fi(fx,"onAnimationEnd"),Fi(px,"onAnimationIteration"),Fi(mx,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(gx,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jl));function xx(s,o,u){var p=s.type||"unknown-event";s.currentTarget=u,Pu(p,o,void 0,s),s.currentTarget=null}function wx(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],y=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var I=p.length-1;0<=I;I--){var F=p[I],$=F.instance,X=F.currentTarget;if(F=F.listener,$!==w&&y.isPropagationStopped())break e;xx(y,F,X),w=$}else for(I=0;I<p.length;I++){if(F=p[I],$=F.instance,X=F.currentTarget,F=F.listener,$!==w&&y.isPropagationStopped())break e;xx(y,F,X),w=$}}}if(Pr)throw s=Ml,Pr=!1,Ml=null,s}function It(s,o){var u=o[Tp];u===void 0&&(u=o[Tp]=new Set);var p=s+"__bubble";u.has(p)||(_x(o,s,2,!1),u.add(p))}function xp(s,o,u){var p=0;o&&(p|=4),_x(u,s,p,o)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Zl(s){if(!s[sd]){s[sd]=!0,r.forEach(function(u){u!=="selectionchange"&&(kj.has(u)||xp(u,!1,s),xp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[sd]||(o[sd]=!0,xp("selectionchange",!1,o))}}function _x(s,o,u,p){switch($l(o)){case 1:var y=Dt;break;case 4:y=cp;break;default:y=zl}u=y.bind(null,o,u,s),y=void 0,!Kr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function wp(s,o,u,p,y){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var F=p.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(I===4)for(I=p.return;I!==null;){var $=I.tag;if(($===3||$===4)&&($=I.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;I=I.return}for(;F!==null;){if(I=Oo(F),I===null)return;if($=I.tag,$===5||$===6){p=w=I;continue e}F=F.parentNode}}p=p.return}Lt(function(){var X=w,ae=en(u),ce=[];e:{var ie=vx.get(s);if(ie!==void 0){var be=Na,Se=s;switch(s){case"keypress":if(Ea(u)===0)break e;case"keydown":case"keyup":be=x;break;case"focusin":Se="focus",be=ka;break;case"focusout":Se="blur",be=ka;break;case"beforeblur":case"afterblur":be=ka;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Ta;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ee;break;case fx:case px:case mx:be=Xs;break;case gx:be=mt;break;case"scroll":be=up;break;case"wheel":be=rt;break;case"copy":case"cut":case"paste":be=Xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=A}var Te=(o&4)!==0,Xt=!Te&&s==="scroll",H=Te?ie!==null?ie+"Capture":null:ie;Te=[];for(var q=X,G;q!==null;){G=q;var de=G.stateNode;if(G.tag===5&&de!==null&&(G=de,H!==null&&(de=nt(q,H),de!=null&&Te.push(ec(q,de,G)))),Xt)break;q=q.return}0<Te.length&&(ie=new be(ie,Se,null,u,ae),ce.push({event:ie,listeners:Te}))}}if((o&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",be=s==="mouseout"||s==="pointerout",ie&&u!==Sn&&(Se=u.relatedTarget||u.fromElement)&&(Oo(Se)||Se[Js]))break e;if((be||ie)&&(ie=ae.window===ae?ae:(ie=ae.ownerDocument)?ie.defaultView||ie.parentWindow:window,be?(Se=u.relatedTarget||u.toElement,be=X,Se=Se?Oo(Se):null,Se!==null&&(Xt=Gr(Se),Se!==Xt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(be=null,Se=X),be!==Se)){if(Te=Ta,de="onMouseLeave",H="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Te=A,de="onPointerLeave",H="onPointerEnter",q="pointer"),Xt=be==null?ie:Ma(be),G=Se==null?ie:Ma(Se),ie=new Te(de,q+"leave",be,u,ae),ie.target=Xt,ie.relatedTarget=G,de=null,Oo(ae)===X&&(Te=new Te(H,q+"enter",Se,u,ae),Te.target=G,Te.relatedTarget=Xt,de=Te),Xt=de,be&&Se)t:{for(Te=be,H=Se,q=0,G=Te;G;G=Da(G))q++;for(G=0,de=H;de;de=Da(de))G++;for(;0<q-G;)Te=Da(Te),q--;for(;0<G-q;)H=Da(H),G--;for(;q--;){if(Te===H||H!==null&&Te===H.alternate)break t;Te=Da(Te),H=Da(H)}Te=null}else Te=null;be!==null&&bx(ce,ie,be,Te,!1),Se!==null&&Xt!==null&&bx(ce,Xt,Se,Te,!0)}}e:{if(ie=X?Ma(X):window,be=ie.nodeName&&ie.nodeName.toLowerCase(),be==="select"||be==="input"&&ie.type==="file")var ke=yj;else if(tx(ie))if(rx)ke=bj;else{ke=wj;var De=xj}else(be=ie.nodeName)&&be.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(ke=_j);if(ke&&(ke=ke(s,X))){nx(ce,ke,u,ae);break e}De&&De(s,ie,X),s==="focusout"&&(De=ie._wrapperState)&&De.controlled&&ie.type==="number"&&ft(ie,"number",ie.value)}switch(De=X?Ma(X):window,s){case"focusin":(tx(De)||De.contentEditable==="true")&&(Ra=De,pp=X,Xl=null);break;case"focusout":Xl=pp=Ra=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,dx(ce,u,ae);break;case"selectionchange":if(Sj)break;case"keydown":case"keyup":dx(ce,u,ae)}var Oe;if(tn)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Aa?Zy(s,u)&&(Ue="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ue="onCompositionStart");Ue&&(Do&&u.locale!=="ko"&&(Aa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Aa&&(Oe=ql()):(br=ae,ba="value"in br?br.value:br.textContent,Aa=!0)),De=id(X,Ue),0<De.length&&(Ue=new Kl(Ue,s,null,u,ae),ce.push({event:Ue,listeners:De}),Oe?Ue.data=Oe:(Oe=ex(u),Oe!==null&&(Ue.data=Oe)))),(Oe=Er?pj(s,u):mj(s,u))&&(X=id(X,"onBeforeInput"),0<X.length&&(ae=new Kl("onBeforeInput","beforeinput",null,u,ae),ce.push({event:ae,listeners:X}),ae.data=Oe))}wx(ce,o)})}function ec(s,o,u){return{instance:s,listener:o,currentTarget:u}}function id(s,o){for(var u=o+"Capture",p=[];s!==null;){var y=s,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=nt(s,u),w!=null&&p.unshift(ec(s,w,y)),w=nt(s,o),w!=null&&p.push(ec(s,w,y))),s=s.return}return p}function Da(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function bx(s,o,u,p,y){for(var w=o._reactName,I=[];u!==null&&u!==p;){var F=u,$=F.alternate,X=F.stateNode;if($!==null&&$===p)break;F.tag===5&&X!==null&&(F=X,y?($=nt(u,w),$!=null&&I.unshift(ec(u,$,F))):y||($=nt(u,w),$!=null&&I.push(ec(u,$,F)))),u=u.return}I.length!==0&&s.push({event:o,listeners:I})}var Ij=/\r\n?/g,Cj=/\u0000|\uFFFD/g;function Ex(s){return(typeof s=="string"?s:""+s).replace(Ij,`
`).replace(Cj,"")}function od(s,o,u){if(o=Ex(o),Ex(s)!==o&&u)throw Error(n(425))}function ad(){}var _p=null,bp=null;function Ep(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Np=typeof setTimeout=="function"?setTimeout:void 0,Aj=typeof clearTimeout=="function"?clearTimeout:void 0,Nx=typeof Promise=="function"?Promise:void 0,Rj=typeof queueMicrotask=="function"?queueMicrotask:typeof Nx<"u"?function(s){return Nx.resolve(null).then(s).catch(Pj)}:Np;function Pj(s){setTimeout(function(){throw s})}function Sp(s,o){var u=o,p=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(p===0){s.removeChild(y),Zr(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=y}while(u);Zr(o)}function Vi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Sx(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),ws="__reactFiber$"+Oa,tc="__reactProps$"+Oa,Js="__reactContainer$"+Oa,Tp="__reactEvents$"+Oa,Dj="__reactListeners$"+Oa,Oj="__reactHandles$"+Oa;function Oo(s){var o=s[ws];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Js]||u[ws]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Sx(s);s!==null;){if(u=s[ws])return u;s=Sx(s)}return o}s=u,u=s.parentNode}return null}function nc(s){return s=s[ws]||s[Js],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ma(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ld(s){return s[tc]||null}var jp=[],La=-1;function Ui(s){return{current:s}}function Ct(s){0>La||(s.current=jp[La],jp[La]=null,La--)}function Tt(s,o){La++,jp[La]=s.current,s.current=o}var Bi={},Vn=Ui(Bi),lr=Ui(!1),Mo=Bi;function Fa(s,o){var u=s.type.contextTypes;if(!u)return Bi;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in u)y[w]=o[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=y),y}function cr(s){return s=s.childContextTypes,s!=null}function cd(){Ct(lr),Ct(Vn)}function Tx(s,o,u){if(Vn.current!==Bi)throw Error(n(168));Tt(Vn,o),Tt(lr,u)}function jx(s,o,u){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(n(108,we(s)||"Unknown",y));return ne({},u,p)}function ud(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Bi,Mo=Vn.current,Tt(Vn,s),Tt(lr,lr.current),!0}function kx(s,o,u){var p=s.stateNode;if(!p)throw Error(n(169));u?(s=jx(s,o,Mo),p.__reactInternalMemoizedMergedChildContext=s,Ct(lr),Ct(Vn),Tt(Vn,s)):Ct(lr),Tt(lr,u)}var Zs=null,dd=!1,kp=!1;function Ix(s){Zs===null?Zs=[s]:Zs.push(s)}function Mj(s){dd=!0,Ix(s)}function zi(){if(!kp&&Zs!==null){kp=!0;var s=0,o=et;try{var u=Zs;for(et=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}Zs=null,dd=!1}catch(y){throw Zs!==null&&(Zs=Zs.slice(s+1)),va(jo,zi),y}finally{et=o,kp=!1}}return null}var Va=[],Ua=0,hd=null,fd=0,Lr=[],Fr=0,Lo=null,ei=1,ti="";function Fo(s,o){Va[Ua++]=fd,Va[Ua++]=hd,hd=s,fd=o}function Cx(s,o,u){Lr[Fr++]=ei,Lr[Fr++]=ti,Lr[Fr++]=Lo,Lo=s;var p=ei;s=ti;var y=32-Qn(p)-1;p&=~(1<<y),u+=1;var w=32-Qn(o)+y;if(30<w){var I=y-y%5;w=(p&(1<<I)-1).toString(32),p>>=I,y-=I,ei=1<<32-Qn(o)+y|u<<y|p,ti=w+s}else ei=1<<w|u<<y|p,ti=s}function Ip(s){s.return!==null&&(Fo(s,1),Cx(s,1,0))}function Cp(s){for(;s===hd;)hd=Va[--Ua],Va[Ua]=null,fd=Va[--Ua],Va[Ua]=null;for(;s===Lo;)Lo=Lr[--Fr],Lr[Fr]=null,ti=Lr[--Fr],Lr[Fr]=null,ei=Lr[--Fr],Lr[Fr]=null}var Nr=null,Sr=null,Ot=!1,ns=null;function Ax(s,o){var u=zr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Rx(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Nr=s,Sr=Vi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Nr=s,Sr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Lo!==null?{id:ei,overflow:ti}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=zr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Nr=s,Sr=null,!0):!1;default:return!1}}function Ap(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Rp(s){if(Ot){var o=Sr;if(o){var u=o;if(!Rx(s,o)){if(Ap(s))throw Error(n(418));o=Vi(u.nextSibling);var p=Nr;o&&Rx(s,o)?Ax(p,u):(s.flags=s.flags&-4097|2,Ot=!1,Nr=s)}}else{if(Ap(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ot=!1,Nr=s}}}function Px(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Nr=s}function pd(s){if(s!==Nr)return!1;if(!Ot)return Px(s),Ot=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Ep(s.type,s.memoizedProps)),o&&(o=Sr)){if(Ap(s))throw Dx(),Error(n(418));for(;o;)Ax(s,o),o=Vi(o.nextSibling)}if(Px(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Sr=Vi(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Sr=null}}else Sr=Nr?Vi(s.stateNode.nextSibling):null;return!0}function Dx(){for(var s=Sr;s;)s=Vi(s.nextSibling)}function Ba(){Sr=Nr=null,Ot=!1}function Pp(s){ns===null?ns=[s]:ns.push(s)}var Lj=B.ReactCurrentBatchConfig;function rc(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,s));var y=p,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(I){var F=y.refs;I===null?delete F[w]:F[w]=I},o._stringRef=w,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function md(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Ox(s){var o=s._init;return o(s._payload)}function Mx(s){function o(H,q){if(s){var G=H.deletions;G===null?(H.deletions=[q],H.flags|=16):G.push(q)}}function u(H,q){if(!s)return null;for(;q!==null;)o(H,q),q=q.sibling;return null}function p(H,q){for(H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function y(H,q){return H=Yi(H,q),H.index=0,H.sibling=null,H}function w(H,q,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<q?(H.flags|=2,q):G):(H.flags|=2,q)):(H.flags|=1048576,q)}function I(H){return s&&H.alternate===null&&(H.flags|=2),H}function F(H,q,G,de){return q===null||q.tag!==6?(q=Nm(G,H.mode,de),q.return=H,q):(q=y(q,G),q.return=H,q)}function $(H,q,G,de){var ke=G.type;return ke===R?ae(H,q,G.props.children,de,G.key):q!==null&&(q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ue&&Ox(ke)===q.type)?(de=y(q,G.props),de.ref=rc(H,q,G),de.return=H,de):(de=Vd(G.type,G.key,G.props,null,H.mode,de),de.ref=rc(H,q,G),de.return=H,de)}function X(H,q,G,de){return q===null||q.tag!==4||q.stateNode.containerInfo!==G.containerInfo||q.stateNode.implementation!==G.implementation?(q=Sm(G,H.mode,de),q.return=H,q):(q=y(q,G.children||[]),q.return=H,q)}function ae(H,q,G,de,ke){return q===null||q.tag!==7?(q=Ho(G,H.mode,de,ke),q.return=H,q):(q=y(q,G),q.return=H,q)}function ce(H,q,G){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Nm(""+q,H.mode,G),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case K:return G=Vd(q.type,q.key,q.props,null,H.mode,G),G.ref=rc(H,null,q),G.return=H,G;case J:return q=Sm(q,H.mode,G),q.return=H,q;case ue:var de=q._init;return ce(H,de(q._payload),G)}if(Pt(q)||Q(q))return q=Ho(q,H.mode,G,null),q.return=H,q;md(H,q)}return null}function ie(H,q,G,de){var ke=q!==null?q.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ke!==null?null:F(H,q,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return G.key===ke?$(H,q,G,de):null;case J:return G.key===ke?X(H,q,G,de):null;case ue:return ke=G._init,ie(H,q,ke(G._payload),de)}if(Pt(G)||Q(G))return ke!==null?null:ae(H,q,G,de,null);md(H,G)}return null}function be(H,q,G,de,ke){if(typeof de=="string"&&de!==""||typeof de=="number")return H=H.get(G)||null,F(q,H,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case K:return H=H.get(de.key===null?G:de.key)||null,$(q,H,de,ke);case J:return H=H.get(de.key===null?G:de.key)||null,X(q,H,de,ke);case ue:var De=de._init;return be(H,q,G,De(de._payload),ke)}if(Pt(de)||Q(de))return H=H.get(G)||null,ae(q,H,de,ke,null);md(q,de)}return null}function Se(H,q,G,de){for(var ke=null,De=null,Oe=q,Ue=q=0,_n=null;Oe!==null&&Ue<G.length;Ue++){Oe.index>Ue?(_n=Oe,Oe=null):_n=Oe.sibling;var lt=ie(H,Oe,G[Ue],de);if(lt===null){Oe===null&&(Oe=_n);break}s&&Oe&&lt.alternate===null&&o(H,Oe),q=w(lt,q,Ue),De===null?ke=lt:De.sibling=lt,De=lt,Oe=_n}if(Ue===G.length)return u(H,Oe),Ot&&Fo(H,Ue),ke;if(Oe===null){for(;Ue<G.length;Ue++)Oe=ce(H,G[Ue],de),Oe!==null&&(q=w(Oe,q,Ue),De===null?ke=Oe:De.sibling=Oe,De=Oe);return Ot&&Fo(H,Ue),ke}for(Oe=p(H,Oe);Ue<G.length;Ue++)_n=be(Oe,H,Ue,G[Ue],de),_n!==null&&(s&&_n.alternate!==null&&Oe.delete(_n.key===null?Ue:_n.key),q=w(_n,q,Ue),De===null?ke=_n:De.sibling=_n,De=_n);return s&&Oe.forEach(function(Xi){return o(H,Xi)}),Ot&&Fo(H,Ue),ke}function Te(H,q,G,de){var ke=Q(G);if(typeof ke!="function")throw Error(n(150));if(G=ke.call(G),G==null)throw Error(n(151));for(var De=ke=null,Oe=q,Ue=q=0,_n=null,lt=G.next();Oe!==null&&!lt.done;Ue++,lt=G.next()){Oe.index>Ue?(_n=Oe,Oe=null):_n=Oe.sibling;var Xi=ie(H,Oe,lt.value,de);if(Xi===null){Oe===null&&(Oe=_n);break}s&&Oe&&Xi.alternate===null&&o(H,Oe),q=w(Xi,q,Ue),De===null?ke=Xi:De.sibling=Xi,De=Xi,Oe=_n}if(lt.done)return u(H,Oe),Ot&&Fo(H,Ue),ke;if(Oe===null){for(;!lt.done;Ue++,lt=G.next())lt=ce(H,lt.value,de),lt!==null&&(q=w(lt,q,Ue),De===null?ke=lt:De.sibling=lt,De=lt);return Ot&&Fo(H,Ue),ke}for(Oe=p(H,Oe);!lt.done;Ue++,lt=G.next())lt=be(Oe,H,Ue,lt.value,de),lt!==null&&(s&&lt.alternate!==null&&Oe.delete(lt.key===null?Ue:lt.key),q=w(lt,q,Ue),De===null?ke=lt:De.sibling=lt,De=lt);return s&&Oe.forEach(function(gk){return o(H,gk)}),Ot&&Fo(H,Ue),ke}function Xt(H,q,G,de){if(typeof G=="object"&&G!==null&&G.type===R&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case K:e:{for(var ke=G.key,De=q;De!==null;){if(De.key===ke){if(ke=G.type,ke===R){if(De.tag===7){u(H,De.sibling),q=y(De,G.props.children),q.return=H,H=q;break e}}else if(De.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===ue&&Ox(ke)===De.type){u(H,De.sibling),q=y(De,G.props),q.ref=rc(H,De,G),q.return=H,H=q;break e}u(H,De);break}else o(H,De);De=De.sibling}G.type===R?(q=Ho(G.props.children,H.mode,de,G.key),q.return=H,H=q):(de=Vd(G.type,G.key,G.props,null,H.mode,de),de.ref=rc(H,q,G),de.return=H,H=de)}return I(H);case J:e:{for(De=G.key;q!==null;){if(q.key===De)if(q.tag===4&&q.stateNode.containerInfo===G.containerInfo&&q.stateNode.implementation===G.implementation){u(H,q.sibling),q=y(q,G.children||[]),q.return=H,H=q;break e}else{u(H,q);break}else o(H,q);q=q.sibling}q=Sm(G,H.mode,de),q.return=H,H=q}return I(H);case ue:return De=G._init,Xt(H,q,De(G._payload),de)}if(Pt(G))return Se(H,q,G,de);if(Q(G))return Te(H,q,G,de);md(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,q!==null&&q.tag===6?(u(H,q.sibling),q=y(q,G),q.return=H,H=q):(u(H,q),q=Nm(G,H.mode,de),q.return=H,H=q),I(H)):u(H,q)}return Xt}var za=Mx(!0),Lx=Mx(!1),gd=Ui(null),vd=null,$a=null,Dp=null;function Op(){Dp=$a=vd=null}function Mp(s){var o=gd.current;Ct(gd),s._currentValue=o}function Lp(s,o,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===u)break;s=s.return}}function qa(s,o){vd=s,Dp=$a=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(ur=!0),s.firstContext=null)}function Vr(s){var o=s._currentValue;if(Dp!==s)if(s={context:s,memoizedValue:o,next:null},$a===null){if(vd===null)throw Error(n(308));$a=s,vd.dependencies={lanes:0,firstContext:s}}else $a=$a.next=s;return o}var Vo=null;function Fp(s){Vo===null?Vo=[s]:Vo.push(s)}function Fx(s,o,u,p){var y=o.interleaved;return y===null?(u.next=u,Fp(o)):(u.next=y.next,y.next=u),o.interleaved=u,ni(s,p)}function ni(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var $i=!1;function Vp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vx(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ri(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function qi(s,o,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(at&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,ni(s,u)}return y=p.interleaved,y===null?(o.next=o,Fp(p)):(o.next=y.next,y.next=o),p.interleaved=o,ni(s,u)}function yd(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,Pi(s,u)}}function Ux(s,o){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?y=w=I:w=w.next=I,u=u.next}while(u!==null);w===null?y=w=o:w=w.next=o}else y=w=o;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function xd(s,o,u,p){var y=s.updateQueue;$i=!1;var w=y.firstBaseUpdate,I=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var $=F,X=$.next;$.next=null,I===null?w=X:I.next=X,I=$;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,F=ae.lastBaseUpdate,F!==I&&(F===null?ae.firstBaseUpdate=X:F.next=X,ae.lastBaseUpdate=$))}if(w!==null){var ce=y.baseState;I=0,ae=X=$=null,F=w;do{var ie=F.lane,be=F.eventTime;if((p&ie)===ie){ae!==null&&(ae=ae.next={eventTime:be,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Se=s,Te=F;switch(ie=o,be=u,Te.tag){case 1:if(Se=Te.payload,typeof Se=="function"){ce=Se.call(be,ce,ie);break e}ce=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Te.payload,ie=typeof Se=="function"?Se.call(be,ce,ie):Se,ie==null)break e;ce=ne({},ce,ie);break e;case 2:$i=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,ie=y.effects,ie===null?y.effects=[F]:ie.push(F))}else be={eventTime:be,lane:ie,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ae===null?(X=ae=be,$=ce):ae=ae.next=be,I|=ie;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;ie=F,F=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);if(ae===null&&($=ce),y.baseState=$,y.firstBaseUpdate=X,y.lastBaseUpdate=ae,o=y.shared.interleaved,o!==null){y=o;do I|=y.lane,y=y.next;while(y!==o)}else w===null&&(y.shared.lanes=0);zo|=I,s.lanes=I,s.memoizedState=ce}}function Bx(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],y=p.callback;if(y!==null){if(p.callback=null,p=u,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var sc={},_s=Ui(sc),ic=Ui(sc),oc=Ui(sc);function Uo(s){if(s===sc)throw Error(n(174));return s}function Up(s,o){switch(Tt(oc,o),Tt(ic,s),Tt(_s,sc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Qe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Qe(o,s)}Ct(_s),Tt(_s,o)}function Wa(){Ct(_s),Ct(ic),Ct(oc)}function zx(s){Uo(oc.current);var o=Uo(_s.current),u=Qe(o,s.type);o!==u&&(Tt(ic,s),Tt(_s,u))}function Bp(s){ic.current===s&&(Ct(_s),Ct(ic))}var Vt=Ui(0);function wd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var zp=[];function $p(){for(var s=0;s<zp.length;s++)zp[s]._workInProgressVersionPrimary=null;zp.length=0}var _d=B.ReactCurrentDispatcher,qp=B.ReactCurrentBatchConfig,Bo=0,Ut=null,hn=null,xn=null,bd=!1,ac=!1,lc=0,Fj=0;function Un(){throw Error(n(321))}function Wp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ts(s[u],o[u]))return!1;return!0}function Hp(s,o,u,p,y,w){if(Bo=w,Ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_d.current=s===null||s.memoizedState===null?zj:$j,s=u(p,y),ac){w=0;do{if(ac=!1,lc=0,25<=w)throw Error(n(301));w+=1,xn=hn=null,o.updateQueue=null,_d.current=qj,s=u(p,y)}while(ac)}if(_d.current=Sd,o=hn!==null&&hn.next!==null,Bo=0,xn=hn=Ut=null,bd=!1,o)throw Error(n(300));return s}function Kp(){var s=lc!==0;return lc=0,s}function bs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Ut.memoizedState=xn=s:xn=xn.next=s,xn}function Ur(){if(hn===null){var s=Ut.alternate;s=s!==null?s.memoizedState:null}else s=hn.next;var o=xn===null?Ut.memoizedState:xn.next;if(o!==null)xn=o,hn=s;else{if(s===null)throw Error(n(310));hn=s,s={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},xn===null?Ut.memoizedState=xn=s:xn=xn.next=s}return xn}function cc(s,o){return typeof o=="function"?o(s):o}function Gp(s){var o=Ur(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=hn,y=p.baseQueue,w=u.pending;if(w!==null){if(y!==null){var I=y.next;y.next=w.next,w.next=I}p.baseQueue=y=w,u.pending=null}if(y!==null){w=y.next,p=p.baseState;var F=I=null,$=null,X=w;do{var ae=X.lane;if((Bo&ae)===ae)$!==null&&($=$.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),p=X.hasEagerState?X.eagerState:s(p,X.action);else{var ce={lane:ae,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};$===null?(F=$=ce,I=p):$=$.next=ce,Ut.lanes|=ae,zo|=ae}X=X.next}while(X!==null&&X!==w);$===null?I=p:$.next=F,ts(p,o.memoizedState)||(ur=!0),o.memoizedState=p,o.baseState=I,o.baseQueue=$,u.lastRenderedState=p}if(s=u.interleaved,s!==null){y=s;do w=y.lane,Ut.lanes|=w,zo|=w,y=y.next;while(y!==s)}else y===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Qp(s){var o=Ur(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=u.dispatch,y=u.pending,w=o.memoizedState;if(y!==null){u.pending=null;var I=y=y.next;do w=s(w,I.action),I=I.next;while(I!==y);ts(w,o.memoizedState)||(ur=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,p]}function $x(){}function qx(s,o){var u=Ut,p=Ur(),y=o(),w=!ts(p.memoizedState,y);if(w&&(p.memoizedState=y,ur=!0),p=p.queue,Yp(Kx.bind(null,u,p,s),[s]),p.getSnapshot!==o||w||xn!==null&&xn.memoizedState.tag&1){if(u.flags|=2048,uc(9,Hx.bind(null,u,p,y,o),void 0,null),wn===null)throw Error(n(349));(Bo&30)!==0||Wx(u,o,y)}return y}function Wx(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Ut.updateQueue,o===null?(o={lastEffect:null,stores:null},Ut.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Hx(s,o,u,p){o.value=u,o.getSnapshot=p,Gx(o)&&Qx(s)}function Kx(s,o,u){return u(function(){Gx(o)&&Qx(s)})}function Gx(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ts(s,u)}catch{return!0}}function Qx(s){var o=ni(s,1);o!==null&&os(o,s,1,-1)}function Yx(s){var o=bs();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:s},o.queue=s,s=s.dispatch=Bj.bind(null,Ut,s),[o.memoizedState,s]}function uc(s,o,u,p){return s={tag:s,create:o,destroy:u,deps:p,next:null},o=Ut.updateQueue,o===null?(o={lastEffect:null,stores:null},Ut.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,o.lastEffect=s)),s}function Xx(){return Ur().memoizedState}function Ed(s,o,u,p){var y=bs();Ut.flags|=s,y.memoizedState=uc(1|o,u,void 0,p===void 0?null:p)}function Nd(s,o,u,p){var y=Ur();p=p===void 0?null:p;var w=void 0;if(hn!==null){var I=hn.memoizedState;if(w=I.destroy,p!==null&&Wp(p,I.deps)){y.memoizedState=uc(o,u,w,p);return}}Ut.flags|=s,y.memoizedState=uc(1|o,u,w,p)}function Jx(s,o){return Ed(8390656,8,s,o)}function Yp(s,o){return Nd(2048,8,s,o)}function Zx(s,o){return Nd(4,2,s,o)}function e0(s,o){return Nd(4,4,s,o)}function t0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function n0(s,o,u){return u=u!=null?u.concat([s]):null,Nd(4,4,t0.bind(null,o,s),u)}function Xp(){}function r0(s,o){var u=Ur();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Wp(o,p[1])?p[0]:(u.memoizedState=[s,o],s)}function s0(s,o){var u=Ur();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Wp(o,p[1])?p[0]:(s=s(),u.memoizedState=[s,o],s)}function i0(s,o,u){return(Bo&21)===0?(s.baseState&&(s.baseState=!1,ur=!0),s.memoizedState=u):(ts(u,o)||(u=Co(),Ut.lanes|=u,zo|=u,s.baseState=!0),o)}function Vj(s,o){var u=et;et=u!==0&&4>u?u:4,s(!0);var p=qp.transition;qp.transition={};try{s(!1),o()}finally{et=u,qp.transition=p}}function o0(){return Ur().memoizedState}function Uj(s,o,u){var p=Gi(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},a0(s))l0(o,u);else if(u=Fx(s,o,u,p),u!==null){var y=Jn();os(u,s,p,y),c0(u,o,p)}}function Bj(s,o,u){var p=Gi(s),y={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(a0(s))l0(o,y);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var I=o.lastRenderedState,F=w(I,u);if(y.hasEagerState=!0,y.eagerState=F,ts(F,I)){var $=o.interleaved;$===null?(y.next=y,Fp(o)):(y.next=$.next,$.next=y),o.interleaved=y;return}}catch{}finally{}u=Fx(s,o,y,p),u!==null&&(y=Jn(),os(u,s,p,y),c0(u,o,p))}}function a0(s){var o=s.alternate;return s===Ut||o!==null&&o===Ut}function l0(s,o){ac=bd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function c0(s,o,u){if((u&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,Pi(s,u)}}var Sd={readContext:Vr,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},zj={readContext:Vr,useCallback:function(s,o){return bs().memoizedState=[s,o===void 0?null:o],s},useContext:Vr,useEffect:Jx,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Ed(4194308,4,t0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Ed(4194308,4,s,o)},useInsertionEffect:function(s,o){return Ed(4,2,s,o)},useMemo:function(s,o){var u=bs();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var p=bs();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=Uj.bind(null,Ut,s),[p.memoizedState,s]},useRef:function(s){var o=bs();return s={current:s},o.memoizedState=s},useState:Yx,useDebugValue:Xp,useDeferredValue:function(s){return bs().memoizedState=s},useTransition:function(){var s=Yx(!1),o=s[0];return s=Vj.bind(null,s[1]),bs().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var p=Ut,y=bs();if(Ot){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),wn===null)throw Error(n(349));(Bo&30)!==0||Wx(p,o,u)}y.memoizedState=u;var w={value:u,getSnapshot:o};return y.queue=w,Jx(Kx.bind(null,p,w,s),[s]),p.flags|=2048,uc(9,Hx.bind(null,p,w,u,o),void 0,null),u},useId:function(){var s=bs(),o=wn.identifierPrefix;if(Ot){var u=ti,p=ei;u=(p&~(1<<32-Qn(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=lc++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Fj++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},$j={readContext:Vr,useCallback:r0,useContext:Vr,useEffect:Yp,useImperativeHandle:n0,useInsertionEffect:Zx,useLayoutEffect:e0,useMemo:s0,useReducer:Gp,useRef:Xx,useState:function(){return Gp(cc)},useDebugValue:Xp,useDeferredValue:function(s){var o=Ur();return i0(o,hn.memoizedState,s)},useTransition:function(){var s=Gp(cc)[0],o=Ur().memoizedState;return[s,o]},useMutableSource:$x,useSyncExternalStore:qx,useId:o0,unstable_isNewReconciler:!1},qj={readContext:Vr,useCallback:r0,useContext:Vr,useEffect:Yp,useImperativeHandle:n0,useInsertionEffect:Zx,useLayoutEffect:e0,useMemo:s0,useReducer:Qp,useRef:Xx,useState:function(){return Qp(cc)},useDebugValue:Xp,useDeferredValue:function(s){var o=Ur();return hn===null?o.memoizedState=s:i0(o,hn.memoizedState,s)},useTransition:function(){var s=Qp(cc)[0],o=Ur().memoizedState;return[s,o]},useMutableSource:$x,useSyncExternalStore:qx,useId:o0,unstable_isNewReconciler:!1};function rs(s,o){if(s&&s.defaultProps){o=ne({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Jp(s,o,u,p){o=s.memoizedState,u=u(p,o),u=u==null?o:ne({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Td={isMounted:function(s){return(s=s._reactInternals)?Gr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var p=Jn(),y=Gi(s),w=ri(p,y);w.payload=o,u!=null&&(w.callback=u),o=qi(s,w,y),o!==null&&(os(o,s,y,p),yd(o,s,y))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var p=Jn(),y=Gi(s),w=ri(p,y);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=qi(s,w,y),o!==null&&(os(o,s,y,p),yd(o,s,y))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Jn(),p=Gi(s),y=ri(u,p);y.tag=2,o!=null&&(y.callback=o),o=qi(s,y,p),o!==null&&(os(o,s,p,u),yd(o,s,p))}};function u0(s,o,u,p,y,w,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,I):o.prototype&&o.prototype.isPureReactComponent?!Yl(u,p)||!Yl(y,w):!0}function d0(s,o,u){var p=!1,y=Bi,w=o.contextType;return typeof w=="object"&&w!==null?w=Vr(w):(y=cr(o)?Mo:Vn.current,p=o.contextTypes,w=(p=p!=null)?Fa(s,y):Bi),o=new o(u,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Td,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=w),o}function h0(s,o,u,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==s&&Td.enqueueReplaceState(o,o.state,null)}function Zp(s,o,u,p){var y=s.stateNode;y.props=u,y.state=s.memoizedState,y.refs={},Vp(s);var w=o.contextType;typeof w=="object"&&w!==null?y.context=Vr(w):(w=cr(o)?Mo:Vn.current,y.context=Fa(s,w)),y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Jp(s,o,w,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Td.enqueueReplaceState(y,y.state,null),xd(s,u,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Ha(s,o){try{var u="",p=o;do u+=xe(p),p=p.return;while(p);var y=u}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:y,digest:null}}function em(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function tm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Wj=typeof WeakMap=="function"?WeakMap:Map;function f0(s,o,u){u=ri(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){Pd||(Pd=!0,gm=p),tm(s,o)},u}function p0(s,o,u){u=ri(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;u.payload=function(){return p(y)},u.callback=function(){tm(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){tm(s,o),typeof p!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function m0(s,o,u){var p=s.pingCache;if(p===null){p=s.pingCache=new Wj;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(u)||(y.add(u),s=ik.bind(null,s,o,u),o.then(s,s))}function g0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function v0(s,o,u,p,y){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ri(-1,1),o.tag=2,qi(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var Hj=B.ReactCurrentOwner,ur=!1;function Xn(s,o,u,p){o.child=s===null?Lx(o,null,u,p):za(o,s.child,u,p)}function y0(s,o,u,p,y){u=u.render;var w=o.ref;return qa(o,y),p=Hp(s,o,u,p,w,y),u=Kp(),s!==null&&!ur?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,si(s,o,y)):(Ot&&u&&Ip(o),o.flags|=1,Xn(s,o,p,y),o.child)}function x0(s,o,u,p,y){if(s===null){var w=u.type;return typeof w=="function"&&!Em(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,w0(s,o,w,p,y)):(s=Vd(u.type,null,p,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&y)===0){var I=w.memoizedProps;if(u=u.compare,u=u!==null?u:Yl,u(I,p)&&s.ref===o.ref)return si(s,o,y)}return o.flags|=1,s=Yi(w,p),s.ref=o.ref,s.return=o,o.child=s}function w0(s,o,u,p,y){if(s!==null){var w=s.memoizedProps;if(Yl(w,p)&&s.ref===o.ref)if(ur=!1,o.pendingProps=p=w,(s.lanes&y)!==0)(s.flags&131072)!==0&&(ur=!0);else return o.lanes=s.lanes,si(s,o,y)}return nm(s,o,u,p,y)}function _0(s,o,u){var p=o.pendingProps,y=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Ga,Tr),Tr|=u;else{if((u&1073741824)===0)return s=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Tt(Ga,Tr),Tr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,Tt(Ga,Tr),Tr|=p}else w!==null?(p=w.baseLanes|u,o.memoizedState=null):p=u,Tt(Ga,Tr),Tr|=p;return Xn(s,o,y,u),o.child}function b0(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function nm(s,o,u,p,y){var w=cr(u)?Mo:Vn.current;return w=Fa(o,w),qa(o,y),u=Hp(s,o,u,p,w,y),p=Kp(),s!==null&&!ur?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,si(s,o,y)):(Ot&&p&&Ip(o),o.flags|=1,Xn(s,o,u,y),o.child)}function E0(s,o,u,p,y){if(cr(u)){var w=!0;ud(o)}else w=!1;if(qa(o,y),o.stateNode===null)kd(s,o),d0(o,u,p),Zp(o,u,p,y),p=!0;else if(s===null){var I=o.stateNode,F=o.memoizedProps;I.props=F;var $=I.context,X=u.contextType;typeof X=="object"&&X!==null?X=Vr(X):(X=cr(u)?Mo:Vn.current,X=Fa(o,X));var ae=u.getDerivedStateFromProps,ce=typeof ae=="function"||typeof I.getSnapshotBeforeUpdate=="function";ce||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(F!==p||$!==X)&&h0(o,I,p,X),$i=!1;var ie=o.memoizedState;I.state=ie,xd(o,p,I,y),$=o.memoizedState,F!==p||ie!==$||lr.current||$i?(typeof ae=="function"&&(Jp(o,u,ae,p),$=o.memoizedState),(F=$i||u0(o,u,F,p,ie,$,X))?(ce||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=$),I.props=p,I.state=$,I.context=X,p=F):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{I=o.stateNode,Vx(s,o),F=o.memoizedProps,X=o.type===o.elementType?F:rs(o.type,F),I.props=X,ce=o.pendingProps,ie=I.context,$=u.contextType,typeof $=="object"&&$!==null?$=Vr($):($=cr(u)?Mo:Vn.current,$=Fa(o,$));var be=u.getDerivedStateFromProps;(ae=typeof be=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(F!==ce||ie!==$)&&h0(o,I,p,$),$i=!1,ie=o.memoizedState,I.state=ie,xd(o,p,I,y);var Se=o.memoizedState;F!==ce||ie!==Se||lr.current||$i?(typeof be=="function"&&(Jp(o,u,be,p),Se=o.memoizedState),(X=$i||u0(o,u,X,p,ie,Se,$)||!1)?(ae||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,Se,$),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,Se,$)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||F===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Se),I.props=p,I.state=Se,I.context=$,p=X):(typeof I.componentDidUpdate!="function"||F===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),p=!1)}return rm(s,o,u,p,w,y)}function rm(s,o,u,p,y,w){b0(s,o);var I=(o.flags&128)!==0;if(!p&&!I)return y&&kx(o,u,!1),si(s,o,w);p=o.stateNode,Hj.current=o;var F=I&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&I?(o.child=za(o,s.child,null,w),o.child=za(o,null,F,w)):Xn(s,o,F,w),o.memoizedState=p.state,y&&kx(o,u,!0),o.child}function N0(s){var o=s.stateNode;o.pendingContext?Tx(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Tx(s,o.context,!1),Up(s,o.containerInfo)}function S0(s,o,u,p,y){return Ba(),Pp(y),o.flags|=256,Xn(s,o,u,p),o.child}var sm={dehydrated:null,treeContext:null,retryLane:0};function im(s){return{baseLanes:s,cachePool:null,transitions:null}}function T0(s,o,u){var p=o.pendingProps,y=Vt.current,w=!1,I=(o.flags&128)!==0,F;if((F=I)||(F=s!==null&&s.memoizedState===null?!1:(y&2)!==0),F?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),Tt(Vt,y&1),s===null)return Rp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=p.children,s=p.fallback,w?(p=o.mode,w=o.child,I={mode:"hidden",children:I},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=I):w=Ud(I,p,0,null),s=Ho(s,p,u,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=im(u),o.memoizedState=sm,s):om(o,I));if(y=s.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return Kj(s,o,I,p,F,y,u);if(w){w=p.fallback,I=o.mode,y=s.child,F=y.sibling;var $={mode:"hidden",children:p.children};return(I&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=$,o.deletions=null):(p=Yi(y,$),p.subtreeFlags=y.subtreeFlags&14680064),F!==null?w=Yi(F,w):(w=Ho(w,I,u,null),w.flags|=2),w.return=o,p.return=o,p.sibling=w,o.child=p,p=w,w=o.child,I=s.child.memoizedState,I=I===null?im(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},w.memoizedState=I,w.childLanes=s.childLanes&~u,o.memoizedState=sm,p}return w=s.child,s=w.sibling,p=Yi(w,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=p,o.memoizedState=null,p}function om(s,o){return o=Ud({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function jd(s,o,u,p){return p!==null&&Pp(p),za(o,s.child,null,u),s=om(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Kj(s,o,u,p,y,w,I){if(u)return o.flags&256?(o.flags&=-257,p=em(Error(n(422))),jd(s,o,I,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=p.fallback,y=o.mode,p=Ud({mode:"visible",children:p.children},y,0,null),w=Ho(w,y,I,null),w.flags|=2,p.return=o,w.return=o,p.sibling=w,o.child=p,(o.mode&1)!==0&&za(o,s.child,null,I),o.child.memoizedState=im(I),o.memoizedState=sm,w);if((o.mode&1)===0)return jd(s,o,I,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var F=p.dgst;return p=F,w=Error(n(419)),p=em(w,p,void 0),jd(s,o,I,p)}if(F=(I&s.childLanes)!==0,ur||F){if(p=wn,p!==null){switch(I&-I){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|I))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,ni(s,y),os(p,s,y,-1))}return bm(),p=em(Error(n(421))),jd(s,o,I,p)}return y.data==="$?"?(o.flags|=128,o.child=s.child,o=ok.bind(null,s),y._reactRetry=o,null):(s=w.treeContext,Sr=Vi(y.nextSibling),Nr=o,Ot=!0,ns=null,s!==null&&(Lr[Fr++]=ei,Lr[Fr++]=ti,Lr[Fr++]=Lo,ei=s.id,ti=s.overflow,Lo=o),o=om(o,p.children),o.flags|=4096,o)}function j0(s,o,u){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),Lp(s.return,o,u)}function am(s,o,u,p,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=y)}function k0(s,o,u){var p=o.pendingProps,y=p.revealOrder,w=p.tail;if(Xn(s,o,p.children,u),p=Vt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&j0(s,u,o);else if(s.tag===19)j0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Tt(Vt,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&wd(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),am(o,!1,y,u,w);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&wd(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}am(o,!0,u,null,w);break;case"together":am(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function kd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function si(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),zo|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Yi(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Yi(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Gj(s,o,u){switch(o.tag){case 3:N0(o),Ba();break;case 5:zx(o);break;case 1:cr(o.type)&&ud(o);break;case 4:Up(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;Tt(gd,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Tt(Vt,Vt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?T0(s,o,u):(Tt(Vt,Vt.current&1),s=si(s,o,u),s!==null?s.sibling:null);Tt(Vt,Vt.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(s.flags&128)!==0){if(p)return k0(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Tt(Vt,Vt.current),p)break;return null;case 22:case 23:return o.lanes=0,_0(s,o,u)}return si(s,o,u)}var I0,lm,C0,A0;I0=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},lm=function(){},C0=function(s,o,u,p){var y=s.memoizedProps;if(y!==p){s=o.stateNode,Uo(_s.current);var w=null;switch(u){case"input":y=Ze(s,y),p=Ze(s,p),w=[];break;case"select":y=ne({},y,{value:void 0}),p=ne({},p,{value:void 0}),w=[];break;case"textarea":y=kt(s,y),p=kt(s,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=ad)}rr(u,p);var I;u=null;for(X in y)if(!p.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var F=y[X];for(I in F)F.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in p){var $=p[X];if(F=y?.[X],p.hasOwnProperty(X)&&$!==F&&($!=null||F!=null))if(X==="style")if(F){for(I in F)!F.hasOwnProperty(I)||$&&$.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in $)$.hasOwnProperty(I)&&F[I]!==$[I]&&(u||(u={}),u[I]=$[I])}else u||(w||(w=[]),w.push(X,u)),u=$;else X==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,F=F?F.__html:void 0,$!=null&&F!==$&&(w=w||[]).push(X,$)):X==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(X,""+$):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?($!=null&&X==="onScroll"&&It("scroll",s),w||F===$||(w=[])):(w=w||[]).push(X,$))}u&&(w=w||[]).push("style",u);var X=w;(o.updateQueue=X)&&(o.flags|=4)}},A0=function(s,o,u,p){u!==p&&(o.flags|=4)};function dc(s,o){if(!Ot)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Bn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=u,o}function Qj(s,o,u){var p=o.pendingProps;switch(Cp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(o),null;case 1:return cr(o.type)&&cd(),Bn(o),null;case 3:return p=o.stateNode,Wa(),Ct(lr),Ct(Vn),$p(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(pd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ns!==null&&(xm(ns),ns=null))),lm(s,o),Bn(o),null;case 5:Bp(o);var y=Uo(oc.current);if(u=o.type,s!==null&&o.stateNode!=null)C0(s,o,u,p,y),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Bn(o),null}if(s=Uo(_s.current),pd(o)){p=o.stateNode,u=o.type;var w=o.memoizedProps;switch(p[ws]=o,p[tc]=w,s=(o.mode&1)!==0,u){case"dialog":It("cancel",p),It("close",p);break;case"iframe":case"object":case"embed":It("load",p);break;case"video":case"audio":for(y=0;y<Jl.length;y++)It(Jl[y],p);break;case"source":It("error",p);break;case"img":case"image":case"link":It("error",p),It("load",p);break;case"details":It("toggle",p);break;case"input":wt(p,w),It("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},It("invalid",p);break;case"textarea":ln(p,w),It("invalid",p)}rr(u,w),y=null;for(var I in w)if(w.hasOwnProperty(I)){var F=w[I];I==="children"?typeof F=="string"?p.textContent!==F&&(w.suppressHydrationWarning!==!0&&od(p.textContent,F,s),y=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&od(p.textContent,F,s),y=["children",""+F]):i.hasOwnProperty(I)&&F!=null&&I==="onScroll"&&It("scroll",p)}switch(u){case"input":$e(p),on(p,w,!0);break;case"textarea":$e(p),Ie(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=ad)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{I=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ve(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=I.createElement(u,{is:p.is}):(s=I.createElement(u),u==="select"&&(I=s,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):s=I.createElementNS(s,u),s[ws]=o,s[tc]=p,I0(s,o,!1,!1),o.stateNode=s;e:{switch(I=xr(u,p),u){case"dialog":It("cancel",s),It("close",s),y=p;break;case"iframe":case"object":case"embed":It("load",s),y=p;break;case"video":case"audio":for(y=0;y<Jl.length;y++)It(Jl[y],s);y=p;break;case"source":It("error",s),y=p;break;case"img":case"image":case"link":It("error",s),It("load",s),y=p;break;case"details":It("toggle",s),y=p;break;case"input":wt(s,p),y=Ze(s,p),It("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=ne({},p,{value:void 0}),It("invalid",s);break;case"textarea":ln(s,p),y=kt(s,p),It("invalid",s);break;default:y=p}rr(u,y),F=y;for(w in F)if(F.hasOwnProperty(w)){var $=F[w];w==="style"?tr(s,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&cn(s,$)):w==="children"?typeof $=="string"?(u!=="textarea"||$!=="")&&pt(s,$):typeof $=="number"&&pt(s,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?$!=null&&w==="onScroll"&&It("scroll",s):$!=null&&O(s,w,$,I))}switch(u){case"input":$e(s),on(s,p,!1);break;case"textarea":$e(s),Ie(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ge(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?an(s,!!p.multiple,w,!1):p.defaultValue!=null&&an(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=ad)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Bn(o),null;case 6:if(s&&o.stateNode!=null)A0(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(u=Uo(oc.current),Uo(_s.current),pd(o)){if(p=o.stateNode,u=o.memoizedProps,p[ws]=o,(w=p.nodeValue!==u)&&(s=Nr,s!==null))switch(s.tag){case 3:od(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&od(p.nodeValue,u,(s.mode&1)!==0)}w&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[ws]=o,o.stateNode=p}return Bn(o),null;case 13:if(Ct(Vt),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ot&&Sr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Dx(),Ba(),o.flags|=98560,w=!1;else if(w=pd(o),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[ws]=o}else Ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Bn(o),w=!1}else ns!==null&&(xm(ns),ns=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Vt.current&1)!==0?fn===0&&(fn=3):bm())),o.updateQueue!==null&&(o.flags|=4),Bn(o),null);case 4:return Wa(),lm(s,o),s===null&&Zl(o.stateNode.containerInfo),Bn(o),null;case 10:return Mp(o.type._context),Bn(o),null;case 17:return cr(o.type)&&cd(),Bn(o),null;case 19:if(Ct(Vt),w=o.memoizedState,w===null)return Bn(o),null;if(p=(o.flags&128)!==0,I=w.rendering,I===null)if(p)dc(w,!1);else{if(fn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=wd(s),I!==null){for(o.flags|=128,dc(w,!1),p=I.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)w=u,s=p,w.flags&=14680066,I=w.alternate,I===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=I.childLanes,w.lanes=I.lanes,w.child=I.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=I.memoizedProps,w.memoizedState=I.memoizedState,w.updateQueue=I.updateQueue,w.type=I.type,s=I.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Tt(Vt,Vt.current&1|2),o.child}s=s.sibling}w.tail!==null&&St()>Qa&&(o.flags|=128,p=!0,dc(w,!1),o.lanes=4194304)}else{if(!p)if(s=wd(I),s!==null){if(o.flags|=128,p=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),dc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!Ot)return Bn(o),null}else 2*St()-w.renderingStartTime>Qa&&u!==1073741824&&(o.flags|=128,p=!0,dc(w,!1),o.lanes=4194304);w.isBackwards?(I.sibling=o.child,o.child=I):(u=w.last,u!==null?u.sibling=I:o.child=I,w.last=I)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=St(),o.sibling=null,u=Vt.current,Tt(Vt,p?u&1|2:u&1),o):(Bn(o),null);case 22:case 23:return _m(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Tr&1073741824)!==0&&(Bn(o),o.subtreeFlags&6&&(o.flags|=8192)):Bn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Yj(s,o){switch(Cp(o),o.tag){case 1:return cr(o.type)&&cd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Wa(),Ct(lr),Ct(Vn),$p(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Bp(o),null;case 13:if(Ct(Vt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ba()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ct(Vt),null;case 4:return Wa(),null;case 10:return Mp(o.type._context),null;case 22:case 23:return _m(),null;case 24:return null;default:return null}}var Id=!1,zn=!1,Xj=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Ka(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Ht(s,o,p)}else u.current=null}function cm(s,o,u){try{u()}catch(p){Ht(s,o,p)}}var R0=!1;function Jj(s,o){if(_p=Mi,s=ux(),fp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var I=0,F=-1,$=-1,X=0,ae=0,ce=s,ie=null;t:for(;;){for(var be;ce!==u||y!==0&&ce.nodeType!==3||(F=I+y),ce!==w||p!==0&&ce.nodeType!==3||($=I+p),ce.nodeType===3&&(I+=ce.nodeValue.length),(be=ce.firstChild)!==null;)ie=ce,ce=be;for(;;){if(ce===s)break t;if(ie===u&&++X===y&&(F=I),ie===w&&++ae===p&&($=I),(be=ce.nextSibling)!==null)break;ce=ie,ie=ce.parentNode}ce=be}u=F===-1||$===-1?null:{start:F,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(bp={focusedElem:s,selectionRange:u},Mi=!1,Ne=o;Ne!==null;)if(o=Ne,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ne=s;else for(;Ne!==null;){o=Ne;try{var Se=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Te=Se.memoizedProps,Xt=Se.memoizedState,H=o.stateNode,q=H.getSnapshotBeforeUpdate(o.elementType===o.type?Te:rs(o.type,Te),Xt);H.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){Ht(o,o.return,de)}if(s=o.sibling,s!==null){s.return=o.return,Ne=s;break}Ne=o.return}return Se=R0,R0=!1,Se}function hc(s,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var w=y.destroy;y.destroy=void 0,w!==void 0&&cm(o,u,w)}y=y.next}while(y!==p)}}function Cd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function um(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function P0(s){var o=s.alternate;o!==null&&(s.alternate=null,P0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[ws],delete o[tc],delete o[Tp],delete o[Dj],delete o[Oj])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function D0(s){return s.tag===5||s.tag===3||s.tag===4}function O0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||D0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function dm(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ad));else if(p!==4&&(s=s.child,s!==null))for(dm(s,o,u),s=s.sibling;s!==null;)dm(s,o,u),s=s.sibling}function hm(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(hm(s,o,u),s=s.sibling;s!==null;)hm(s,o,u),s=s.sibling}var In=null,ss=!1;function Wi(s,o,u){for(u=u.child;u!==null;)M0(s,o,u),u=u.sibling}function M0(s,o,u){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(ko,u)}catch{}switch(u.tag){case 5:zn||Ka(u,o);case 6:var p=In,y=ss;In=null,Wi(s,o,u),In=p,ss=y,In!==null&&(ss?(s=In,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):In.removeChild(u.stateNode));break;case 18:In!==null&&(ss?(s=In,u=u.stateNode,s.nodeType===8?Sp(s.parentNode,u):s.nodeType===1&&Sp(s,u),Zr(s)):Sp(In,u.stateNode));break;case 4:p=In,y=ss,In=u.stateNode.containerInfo,ss=!0,Wi(s,o,u),In=p,ss=y;break;case 0:case 11:case 14:case 15:if(!zn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,I=w.destroy;w=w.tag,I!==void 0&&((w&2)!==0||(w&4)!==0)&&cm(u,o,I),y=y.next}while(y!==p)}Wi(s,o,u);break;case 1:if(!zn&&(Ka(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(F){Ht(u,o,F)}Wi(s,o,u);break;case 21:Wi(s,o,u);break;case 22:u.mode&1?(zn=(p=zn)||u.memoizedState!==null,Wi(s,o,u),zn=p):Wi(s,o,u);break;default:Wi(s,o,u)}}function L0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Xj),o.forEach(function(p){var y=ak.bind(null,s,p);u.has(p)||(u.add(p),p.then(y,y))})}}function is(s,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];try{var w=s,I=o,F=I;e:for(;F!==null;){switch(F.tag){case 5:In=F.stateNode,ss=!1;break e;case 3:In=F.stateNode.containerInfo,ss=!0;break e;case 4:In=F.stateNode.containerInfo,ss=!0;break e}F=F.return}if(In===null)throw Error(n(160));M0(w,I,y),In=null,ss=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(X){Ht(y,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)F0(o,s),o=o.sibling}function F0(s,o){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(is(o,s),Es(s),p&4){try{hc(3,s,s.return),Cd(3,s)}catch(Te){Ht(s,s.return,Te)}try{hc(5,s,s.return)}catch(Te){Ht(s,s.return,Te)}}break;case 1:is(o,s),Es(s),p&512&&u!==null&&Ka(u,u.return);break;case 5:if(is(o,s),Es(s),p&512&&u!==null&&Ka(u,u.return),s.flags&32){var y=s.stateNode;try{pt(y,"")}catch(Te){Ht(s,s.return,Te)}}if(p&4&&(y=s.stateNode,y!=null)){var w=s.memoizedProps,I=u!==null?u.memoizedProps:w,F=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&qt(y,w),xr(F,I);var X=xr(F,w);for(I=0;I<$.length;I+=2){var ae=$[I],ce=$[I+1];ae==="style"?tr(y,ce):ae==="dangerouslySetInnerHTML"?cn(y,ce):ae==="children"?pt(y,ce):O(y,ae,ce,X)}switch(F){case"input":vt(y,w);break;case"textarea":me(y,w);break;case"select":var ie=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var be=w.value;be!=null?an(y,!!w.multiple,be,!1):ie!==!!w.multiple&&(w.defaultValue!=null?an(y,!!w.multiple,w.defaultValue,!0):an(y,!!w.multiple,w.multiple?[]:"",!1))}y[tc]=w}catch(Te){Ht(s,s.return,Te)}}break;case 6:if(is(o,s),Es(s),p&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,w=s.memoizedProps;try{y.nodeValue=w}catch(Te){Ht(s,s.return,Te)}}break;case 3:if(is(o,s),Es(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Zr(o.containerInfo)}catch(Te){Ht(s,s.return,Te)}break;case 4:is(o,s),Es(s);break;case 13:is(o,s),Es(s),y=s.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(mm=St())),p&4&&L0(s);break;case 22:if(ae=u!==null&&u.memoizedState!==null,s.mode&1?(zn=(X=zn)||ae,is(o,s),zn=X):is(o,s),Es(s),p&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ae&&(s.mode&1)!==0)for(Ne=s,ae=s.child;ae!==null;){for(ce=Ne=ae;Ne!==null;){switch(ie=Ne,be=ie.child,ie.tag){case 0:case 11:case 14:case 15:hc(4,ie,ie.return);break;case 1:Ka(ie,ie.return);var Se=ie.stateNode;if(typeof Se.componentWillUnmount=="function"){p=ie,u=ie.return;try{o=p,Se.props=o.memoizedProps,Se.state=o.memoizedState,Se.componentWillUnmount()}catch(Te){Ht(p,u,Te)}}break;case 5:Ka(ie,ie.return);break;case 22:if(ie.memoizedState!==null){B0(ce);continue}}be!==null?(be.return=ie,Ne=be):B0(ce)}ae=ae.sibling}e:for(ae=null,ce=s;;){if(ce.tag===5){if(ae===null){ae=ce;try{y=ce.stateNode,X?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=ce.stateNode,$=ce.memoizedProps.style,I=$!=null&&$.hasOwnProperty("display")?$.display:null,F.style.display=Ln("display",I))}catch(Te){Ht(s,s.return,Te)}}}else if(ce.tag===6){if(ae===null)try{ce.stateNode.nodeValue=X?"":ce.memoizedProps}catch(Te){Ht(s,s.return,Te)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;ae===ce&&(ae=null),ce=ce.return}ae===ce&&(ae=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:is(o,s),Es(s),p&4&&L0(s);break;case 21:break;default:is(o,s),Es(s)}}function Es(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(D0(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(pt(y,""),p.flags&=-33);var w=O0(s);hm(s,w,y);break;case 3:case 4:var I=p.stateNode.containerInfo,F=O0(s);dm(s,F,I);break;default:throw Error(n(161))}}catch($){Ht(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Zj(s,o,u){Ne=s,V0(s)}function V0(s,o,u){for(var p=(s.mode&1)!==0;Ne!==null;){var y=Ne,w=y.child;if(y.tag===22&&p){var I=y.memoizedState!==null||Id;if(!I){var F=y.alternate,$=F!==null&&F.memoizedState!==null||zn;F=Id;var X=zn;if(Id=I,(zn=$)&&!X)for(Ne=y;Ne!==null;)I=Ne,$=I.child,I.tag===22&&I.memoizedState!==null?z0(y):$!==null?($.return=I,Ne=$):z0(y);for(;w!==null;)Ne=w,V0(w),w=w.sibling;Ne=y,Id=F,zn=X}U0(s)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,Ne=w):U0(s)}}function U0(s){for(;Ne!==null;){var o=Ne;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:zn||Cd(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!zn)if(u===null)p.componentDidMount();else{var y=o.elementType===o.type?u.memoizedProps:rs(o.type,u.memoizedProps);p.componentDidUpdate(y,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Bx(o,w,p);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Bx(o,I,u)}break;case 5:var F=o.stateNode;if(u===null&&o.flags&4){u=F;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&u.focus();break;case"img":$.src&&(u.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ae=X.memoizedState;if(ae!==null){var ce=ae.dehydrated;ce!==null&&Zr(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zn||o.flags&512&&um(o)}catch(ie){Ht(o,o.return,ie)}}if(o===s){Ne=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ne=u;break}Ne=o.return}}function B0(s){for(;Ne!==null;){var o=Ne;if(o===s){Ne=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ne=u;break}Ne=o.return}}function z0(s){for(;Ne!==null;){var o=Ne;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Cd(4,o)}catch($){Ht(o,u,$)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch($){Ht(o,y,$)}}var w=o.return;try{um(o)}catch($){Ht(o,w,$)}break;case 5:var I=o.return;try{um(o)}catch($){Ht(o,I,$)}}}catch($){Ht(o,o.return,$)}if(o===s){Ne=null;break}var F=o.sibling;if(F!==null){F.return=o.return,Ne=F;break}Ne=o.return}}var ek=Math.ceil,Ad=B.ReactCurrentDispatcher,fm=B.ReactCurrentOwner,Br=B.ReactCurrentBatchConfig,at=0,wn=null,nn=null,Cn=0,Tr=0,Ga=Ui(0),fn=0,fc=null,zo=0,Rd=0,pm=0,pc=null,dr=null,mm=0,Qa=1/0,ii=null,Pd=!1,gm=null,Hi=null,Dd=!1,Ki=null,Od=0,mc=0,vm=null,Md=-1,Ld=0;function Jn(){return(at&6)!==0?St():Md!==-1?Md:Md=St()}function Gi(s){return(s.mode&1)===0?1:(at&2)!==0&&Cn!==0?Cn&-Cn:Lj.transition!==null?(Ld===0&&(Ld=Co()),Ld):(s=et,s!==0||(s=window.event,s=s===void 0?16:$l(s.type)),s)}function os(s,o,u,p){if(50<mc)throw mc=0,vm=null,Error(n(185));Ri(s,u,p),((at&2)===0||s!==wn)&&(s===wn&&((at&2)===0&&(Rd|=u),fn===4&&Qi(s,Cn)),hr(s,p),u===1&&at===0&&(o.mode&1)===0&&(Qa=St()+500,dd&&zi()))}function hr(s,o){var u=s.callbackNode;Ks(s,o);var p=Io(s,s===wn?Cn:0);if(p===0)u!==null&&Fl(u),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(u!=null&&Fl(u),o===1)s.tag===0?Mj(q0.bind(null,s)):Ix(q0.bind(null,s)),Rj(function(){(at&6)===0&&zi()}),u=null;else{switch(Di(p)){case 1:u=jo;break;case 4:u=Ii;break;case 16:u=Dr;break;case 536870912:u=Lu;break;default:u=Dr}u=J0(u,$0.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function $0(s,o){if(Md=-1,Ld=0,(at&6)!==0)throw Error(n(327));var u=s.callbackNode;if(Ya()&&s.callbackNode!==u)return null;var p=Io(s,s===wn?Cn:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=Fd(s,p);else{o=p;var y=at;at|=2;var w=H0();(wn!==s||Cn!==o)&&(ii=null,Qa=St()+500,qo(s,o));do try{rk();break}catch(F){W0(s,F)}while(!0);Op(),Ad.current=w,at=y,nn!==null?o=0:(wn=null,Cn=0,o=fn)}if(o!==0){if(o===2&&(y=_r(s),y!==0&&(p=y,o=ym(s,y))),o===1)throw u=fc,qo(s,0),Qi(s,p),hr(s,St()),u;if(o===6)Qi(s,p);else{if(y=s.current.alternate,(p&30)===0&&!tk(y)&&(o=Fd(s,p),o===2&&(w=_r(s),w!==0&&(p=w,o=ym(s,w))),o===1))throw u=fc,qo(s,0),Qi(s,p),hr(s,St()),u;switch(s.finishedWork=y,s.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:Wo(s,dr,ii);break;case 3:if(Qi(s,p),(p&130023424)===p&&(o=mm+500-St(),10<o)){if(Io(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){Jn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Np(Wo.bind(null,s,dr,ii),o);break}Wo(s,dr,ii);break;case 4:if(Qi(s,p),(p&4194240)===p)break;for(o=s.eventTimes,y=-1;0<p;){var I=31-Qn(p);w=1<<I,I=o[I],I>y&&(y=I),p&=~w}if(p=y,p=St()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*ek(p/1960))-p,10<p){s.timeoutHandle=Np(Wo.bind(null,s,dr,ii),p);break}Wo(s,dr,ii);break;case 5:Wo(s,dr,ii);break;default:throw Error(n(329))}}}return hr(s,St()),s.callbackNode===u?$0.bind(null,s):null}function ym(s,o){var u=pc;return s.current.memoizedState.isDehydrated&&(qo(s,o).flags|=256),s=Fd(s,o),s!==2&&(o=dr,dr=u,o!==null&&xm(o)),s}function xm(s){dr===null?dr=s:dr.push.apply(dr,s)}function tk(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var y=u[p],w=y.getSnapshot;y=y.value;try{if(!ts(w(),y))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qi(s,o){for(o&=~pm,o&=~Rd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Qn(o),p=1<<u;s[u]=-1,o&=~p}}function q0(s){if((at&6)!==0)throw Error(n(327));Ya();var o=Io(s,0);if((o&1)===0)return hr(s,St()),null;var u=Fd(s,o);if(s.tag!==0&&u===2){var p=_r(s);p!==0&&(o=p,u=ym(s,p))}if(u===1)throw u=fc,qo(s,0),Qi(s,o),hr(s,St()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Wo(s,dr,ii),hr(s,St()),null}function wm(s,o){var u=at;at|=1;try{return s(o)}finally{at=u,at===0&&(Qa=St()+500,dd&&zi())}}function $o(s){Ki!==null&&Ki.tag===0&&(at&6)===0&&Ya();var o=at;at|=1;var u=Br.transition,p=et;try{if(Br.transition=null,et=1,s)return s()}finally{et=p,Br.transition=u,at=o,(at&6)===0&&zi()}}function _m(){Tr=Ga.current,Ct(Ga)}function qo(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,Aj(u)),nn!==null)for(u=nn.return;u!==null;){var p=u;switch(Cp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&cd();break;case 3:Wa(),Ct(lr),Ct(Vn),$p();break;case 5:Bp(p);break;case 4:Wa();break;case 13:Ct(Vt);break;case 19:Ct(Vt);break;case 10:Mp(p.type._context);break;case 22:case 23:_m()}u=u.return}if(wn=s,nn=s=Yi(s.current,null),Cn=Tr=o,fn=0,fc=null,pm=Rd=zo=0,dr=pc=null,Vo!==null){for(o=0;o<Vo.length;o++)if(u=Vo[o],p=u.interleaved,p!==null){u.interleaved=null;var y=p.next,w=u.pending;if(w!==null){var I=w.next;w.next=y,p.next=I}u.pending=p}Vo=null}return s}function W0(s,o){do{var u=nn;try{if(Op(),_d.current=Sd,bd){for(var p=Ut.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}bd=!1}if(Bo=0,xn=hn=Ut=null,ac=!1,lc=0,fm.current=null,u===null||u.return===null){fn=1,fc=o,nn=null;break}e:{var w=s,I=u.return,F=u,$=o;if(o=Cn,F.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var X=$,ae=F,ce=ae.tag;if((ae.mode&1)===0&&(ce===0||ce===11||ce===15)){var ie=ae.alternate;ie?(ae.updateQueue=ie.updateQueue,ae.memoizedState=ie.memoizedState,ae.lanes=ie.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var be=g0(I);if(be!==null){be.flags&=-257,v0(be,I,F,w,o),be.mode&1&&m0(w,X,o),o=be,$=X;var Se=o.updateQueue;if(Se===null){var Te=new Set;Te.add($),o.updateQueue=Te}else Se.add($);break e}else{if((o&1)===0){m0(w,X,o),bm();break e}$=Error(n(426))}}else if(Ot&&F.mode&1){var Xt=g0(I);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),v0(Xt,I,F,w,o),Pp(Ha($,F));break e}}w=$=Ha($,F),fn!==4&&(fn=2),pc===null?pc=[w]:pc.push(w),w=I;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var H=f0(w,$,o);Ux(w,H);break e;case 1:F=$;var q=w.type,G=w.stateNode;if((w.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Hi===null||!Hi.has(G)))){w.flags|=65536,o&=-o,w.lanes|=o;var de=p0(w,F,o);Ux(w,de);break e}}w=w.return}while(w!==null)}G0(u)}catch(ke){o=ke,nn===u&&u!==null&&(nn=u=u.return);continue}break}while(!0)}function H0(){var s=Ad.current;return Ad.current=Sd,s===null?Sd:s}function bm(){(fn===0||fn===3||fn===2)&&(fn=4),wn===null||(zo&268435455)===0&&(Rd&268435455)===0||Qi(wn,Cn)}function Fd(s,o){var u=at;at|=2;var p=H0();(wn!==s||Cn!==o)&&(ii=null,qo(s,o));do try{nk();break}catch(y){W0(s,y)}while(!0);if(Op(),at=u,Ad.current=p,nn!==null)throw Error(n(261));return wn=null,Cn=0,fn}function nk(){for(;nn!==null;)K0(nn)}function rk(){for(;nn!==null&&!Ou();)K0(nn)}function K0(s){var o=X0(s.alternate,s,Tr);s.memoizedProps=s.pendingProps,o===null?G0(s):nn=o,fm.current=null}function G0(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=Qj(u,o,Tr),u!==null){nn=u;return}}else{if(u=Yj(u,o),u!==null){u.flags&=32767,nn=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{fn=6,nn=null;return}}if(o=o.sibling,o!==null){nn=o;return}nn=o=s}while(o!==null);fn===0&&(fn=5)}function Wo(s,o,u){var p=et,y=Br.transition;try{Br.transition=null,et=1,sk(s,o,u,p)}finally{Br.transition=y,et=p}return null}function sk(s,o,u,p){do Ya();while(Ki!==null);if((at&6)!==0)throw Error(n(327));u=s.finishedWork;var y=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(Et(s,w),s===wn&&(nn=wn=null,Cn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Dd||(Dd=!0,J0(Dr,function(){return Ya(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=Br.transition,Br.transition=null;var I=et;et=1;var F=at;at|=4,fm.current=null,Jj(s,u),F0(u,s),Nj(bp),Mi=!!_p,bp=_p=null,s.current=u,Zj(u),ip(),at=F,et=I,Br.transition=w}else s.current=u;if(Dd&&(Dd=!1,Ki=s,Od=y),w=s.pendingLanes,w===0&&(Hi=null),Fu(u.stateNode),hr(s,St()),o!==null)for(p=s.onRecoverableError,u=0;u<o.length;u++)y=o[u],p(y.value,{componentStack:y.stack,digest:y.digest});if(Pd)throw Pd=!1,s=gm,gm=null,s;return(Od&1)!==0&&s.tag!==0&&Ya(),w=s.pendingLanes,(w&1)!==0?s===vm?mc++:(mc=0,vm=s):mc=0,zi(),null}function Ya(){if(Ki!==null){var s=Di(Od),o=Br.transition,u=et;try{if(Br.transition=null,et=16>s?16:s,Ki===null)var p=!1;else{if(s=Ki,Ki=null,Od=0,(at&6)!==0)throw Error(n(331));var y=at;for(at|=4,Ne=s.current;Ne!==null;){var w=Ne,I=w.child;if((Ne.flags&16)!==0){var F=w.deletions;if(F!==null){for(var $=0;$<F.length;$++){var X=F[$];for(Ne=X;Ne!==null;){var ae=Ne;switch(ae.tag){case 0:case 11:case 15:hc(8,ae,w)}var ce=ae.child;if(ce!==null)ce.return=ae,Ne=ce;else for(;Ne!==null;){ae=Ne;var ie=ae.sibling,be=ae.return;if(P0(ae),ae===X){Ne=null;break}if(ie!==null){ie.return=be,Ne=ie;break}Ne=be}}}var Se=w.alternate;if(Se!==null){var Te=Se.child;if(Te!==null){Se.child=null;do{var Xt=Te.sibling;Te.sibling=null,Te=Xt}while(Te!==null)}}Ne=w}}if((w.subtreeFlags&2064)!==0&&I!==null)I.return=w,Ne=I;else e:for(;Ne!==null;){if(w=Ne,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:hc(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,Ne=H;break e}Ne=w.return}}var q=s.current;for(Ne=q;Ne!==null;){I=Ne;var G=I.child;if((I.subtreeFlags&2064)!==0&&G!==null)G.return=I,Ne=G;else e:for(I=q;Ne!==null;){if(F=Ne,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Cd(9,F)}}catch(ke){Ht(F,F.return,ke)}if(F===I){Ne=null;break e}var de=F.sibling;if(de!==null){de.return=F.return,Ne=de;break e}Ne=F.return}}if(at=y,zi(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(ko,s)}catch{}p=!0}return p}finally{et=u,Br.transition=o}}return!1}function Q0(s,o,u){o=Ha(u,o),o=f0(s,o,1),s=qi(s,o,1),o=Jn(),s!==null&&(Ri(s,1,o),hr(s,o))}function Ht(s,o,u){if(s.tag===3)Q0(s,s,u);else for(;o!==null;){if(o.tag===3){Q0(o,s,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Hi===null||!Hi.has(p))){s=Ha(u,s),s=p0(o,s,1),o=qi(o,s,1),s=Jn(),o!==null&&(Ri(o,1,s),hr(o,s));break}}o=o.return}}function ik(s,o,u){var p=s.pingCache;p!==null&&p.delete(o),o=Jn(),s.pingedLanes|=s.suspendedLanes&u,wn===s&&(Cn&u)===u&&(fn===4||fn===3&&(Cn&130023424)===Cn&&500>St()-mm?qo(s,0):pm|=u),hr(s,o)}function Y0(s,o){o===0&&((s.mode&1)===0?o=1:(o=xa,xa<<=1,(xa&130023424)===0&&(xa=4194304)));var u=Jn();s=ni(s,o),s!==null&&(Ri(s,o,u),hr(s,u))}function ok(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Y0(s,u)}function ak(s,o){var u=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),Y0(s,u)}var X0;X0=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||lr.current)ur=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return ur=!1,Gj(s,o,u);ur=(s.flags&131072)!==0}else ur=!1,Ot&&(o.flags&1048576)!==0&&Cx(o,fd,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;kd(s,o),s=o.pendingProps;var y=Fa(o,Vn.current);qa(o,u),y=Hp(null,o,p,s,y,u);var w=Kp();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,cr(p)?(w=!0,ud(o)):w=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Vp(o),y.updater=Td,o.stateNode=y,y._reactInternals=o,Zp(o,p,s,u),o=rm(null,o,p,!0,w,u)):(o.tag=0,Ot&&w&&Ip(o),Xn(null,o,y,u),o=o.child),o;case 16:p=o.elementType;e:{switch(kd(s,o),s=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=ck(p),s=rs(p,s),y){case 0:o=nm(null,o,p,s,u);break e;case 1:o=E0(null,o,p,s,u);break e;case 11:o=y0(null,o,p,s,u);break e;case 14:o=x0(null,o,p,rs(p.type,s),u);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:rs(p,y),nm(s,o,p,y,u);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:rs(p,y),E0(s,o,p,y,u);case 3:e:{if(N0(o),s===null)throw Error(n(387));p=o.pendingProps,w=o.memoizedState,y=w.element,Vx(s,o),xd(o,p,null,u);var I=o.memoizedState;if(p=I.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){y=Ha(Error(n(423)),o),o=S0(s,o,p,u,y);break e}else if(p!==y){y=Ha(Error(n(424)),o),o=S0(s,o,p,u,y);break e}else for(Sr=Vi(o.stateNode.containerInfo.firstChild),Nr=o,Ot=!0,ns=null,u=Lx(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ba(),p===y){o=si(s,o,u);break e}Xn(s,o,p,u)}o=o.child}return o;case 5:return zx(o),s===null&&Rp(o),p=o.type,y=o.pendingProps,w=s!==null?s.memoizedProps:null,I=y.children,Ep(p,y)?I=null:w!==null&&Ep(p,w)&&(o.flags|=32),b0(s,o),Xn(s,o,I,u),o.child;case 6:return s===null&&Rp(o),null;case 13:return T0(s,o,u);case 4:return Up(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=za(o,null,p,u):Xn(s,o,p,u),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:rs(p,y),y0(s,o,p,y,u);case 7:return Xn(s,o,o.pendingProps,u),o.child;case 8:return Xn(s,o,o.pendingProps.children,u),o.child;case 12:return Xn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,w=o.memoizedProps,I=y.value,Tt(gd,p._currentValue),p._currentValue=I,w!==null)if(ts(w.value,I)){if(w.children===y.children&&!lr.current){o=si(s,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var F=w.dependencies;if(F!==null){I=w.child;for(var $=F.firstContext;$!==null;){if($.context===p){if(w.tag===1){$=ri(-1,u&-u),$.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var ae=X.pending;ae===null?$.next=$:($.next=ae.next,ae.next=$),X.pending=$}}w.lanes|=u,$=w.alternate,$!==null&&($.lanes|=u),Lp(w.return,u,o),F.lanes|=u;break}$=$.next}}else if(w.tag===10)I=w.type===o.type?null:w.child;else if(w.tag===18){if(I=w.return,I===null)throw Error(n(341));I.lanes|=u,F=I.alternate,F!==null&&(F.lanes|=u),Lp(I,u,o),I=w.sibling}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===o){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}Xn(s,o,y.children,u),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,qa(o,u),y=Vr(y),p=p(y),o.flags|=1,Xn(s,o,p,u),o.child;case 14:return p=o.type,y=rs(p,o.pendingProps),y=rs(p.type,y),x0(s,o,p,y,u);case 15:return w0(s,o,o.type,o.pendingProps,u);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:rs(p,y),kd(s,o),o.tag=1,cr(p)?(s=!0,ud(o)):s=!1,qa(o,u),d0(o,p,y),Zp(o,p,y,u),rm(null,o,p,!0,s,u);case 19:return k0(s,o,u);case 22:return _0(s,o,u)}throw Error(n(156,o.tag))};function J0(s,o){return va(s,o)}function lk(s,o,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(s,o,u,p){return new lk(s,o,u,p)}function Em(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ck(s){if(typeof s=="function")return Em(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===_e)return 14}return 2}function Yi(s,o){var u=s.alternate;return u===null?(u=zr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Vd(s,o,u,p,y,w){var I=2;if(p=s,typeof s=="function")Em(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case R:return Ho(u.children,y,w,o);case C:I=8,y|=8;break;case D:return s=zr(12,u,o,y|2),s.elementType=D,s.lanes=w,s;case M:return s=zr(13,u,o,y),s.elementType=M,s.lanes=w,s;case oe:return s=zr(19,u,o,y),s.elementType=oe,s.lanes=w,s;case he:return Ud(u,y,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:I=10;break e;case V:I=9;break e;case U:I=11;break e;case _e:I=14;break e;case ue:I=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=zr(I,u,o,y),o.elementType=s,o.type=p,o.lanes=w,o}function Ho(s,o,u,p){return s=zr(7,s,p,o),s.lanes=u,s}function Ud(s,o,u,p){return s=zr(22,s,p,o),s.elementType=he,s.lanes=u,s.stateNode={isHidden:!1},s}function Nm(s,o,u){return s=zr(6,s,null,o),s.lanes=u,s}function Sm(s,o,u){return o=zr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function uk(s,o,u,p,y){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ai(0),this.expirationTimes=Ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Tm(s,o,u,p,y,w,I,F,$){return s=new uk(s,o,u,F,$),o===1?(o=1,w===!0&&(o|=8)):o=0,w=zr(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vp(w),s}function dk(s,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:p==null?null:""+p,children:s,containerInfo:o,implementation:u}}function Z0(s){if(!s)return Bi;s=s._reactInternals;e:{if(Gr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(cr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(cr(u))return jx(s,u,o)}return o}function ew(s,o,u,p,y,w,I,F,$){return s=Tm(u,p,!0,s,y,w,I,F,$),s.context=Z0(null),u=s.current,p=Jn(),y=Gi(u),w=ri(p,y),w.callback=o??null,qi(u,w,y),s.current.lanes=y,Ri(s,y,p),hr(s,p),s}function Bd(s,o,u,p){var y=o.current,w=Jn(),I=Gi(y);return u=Z0(u),o.context===null?o.context=u:o.pendingContext=u,o=ri(w,I),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=qi(y,o,I),s!==null&&(os(s,y,I,w),yd(s,y,I)),I}function zd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function tw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function jm(s,o){tw(s,o),(s=s.alternate)&&tw(s,o)}function hk(){return null}var nw=typeof reportError=="function"?reportError:function(s){console.error(s)};function km(s){this._internalRoot=s}$d.prototype.render=km.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Bd(s,o,null,null)},$d.prototype.unmount=km.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;$o(function(){Bd(null,s,null,null)}),o[Js]=null}};function $d(s){this._internalRoot=s}$d.prototype.unstable_scheduleHydration=function(s){if(s){var o=$u();s={blockedOn:null,target:s,priority:o};for(var u=0;u<gs.length&&o!==0&&o<gs[u].priority;u++);gs.splice(u,0,s),u===0&&Hu(s)}};function Im(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function qd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function rw(){}function fk(s,o,u,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var X=zd(I);w.call(X)}}var I=ew(o,p,s,0,null,!1,!1,"",rw);return s._reactRootContainer=I,s[Js]=I.current,Zl(s.nodeType===8?s.parentNode:s),$o(),I}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var F=p;p=function(){var X=zd($);F.call(X)}}var $=Tm(s,0,!1,null,null,!1,!1,"",rw);return s._reactRootContainer=$,s[Js]=$.current,Zl(s.nodeType===8?s.parentNode:s),$o(function(){Bd(o,$,u,p)}),$}function Wd(s,o,u,p,y){var w=u._reactRootContainer;if(w){var I=w;if(typeof y=="function"){var F=y;y=function(){var $=zd(I);F.call($)}}Bd(o,I,s,y)}else I=fk(u,o,s,y,p);return zd(I)}Bu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ci(o.pendingLanes);u!==0&&(Pi(o,u|1),hr(o,St()),(at&6)===0&&(Qa=St()+500,zi()))}break;case 13:$o(function(){var p=ni(s,1);if(p!==null){var y=Jn();os(p,s,1,y)}}),jm(s,1)}},wa=function(s){if(s.tag===13){var o=ni(s,134217728);if(o!==null){var u=Jn();os(o,s,134217728,u)}jm(s,134217728)}},zu=function(s){if(s.tag===13){var o=Gi(s),u=ni(s,o);if(u!==null){var p=Jn();os(u,s,o,p)}jm(s,o)}},$u=function(){return et},qu=function(s,o){var u=et;try{return et=s,o()}finally{et=u}},fs=function(s,o,u){switch(o){case"input":if(vt(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==s&&p.form===s.form){var y=ld(p);if(!y)throw Error(n(90));ve(p),vt(p,y)}}}break;case"textarea":me(s,u);break;case"select":o=u.value,o!=null&&an(s,!!u.multiple,o,!1)}},bt=wm,Yt=$o;var pk={usingClientEntryPoint:!1,Events:[nc,Ma,ld,Pe,_t,wm]},gc={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mk={bundleType:gc.bundleType,version:gc.version,rendererPackageName:gc.rendererPackageName,rendererConfig:gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ll(s),s===null?null:s.stateNode},findFiberByHostInstance:gc.findFiberByHostInstance||hk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{ko=Hd.inject(mk),wr=Hd}catch{}}return fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pk,fr.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Im(o))throw Error(n(200));return dk(s,o,null,u)},fr.createRoot=function(s,o){if(!Im(s))throw Error(n(299));var u=!1,p="",y=nw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=Tm(s,1,!1,null,null,u,!1,p,y),s[Js]=o.current,Zl(s.nodeType===8?s.parentNode:s),new km(o)},fr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ll(o),s=s===null?null:s.stateNode,s},fr.flushSync=function(s){return $o(s)},fr.hydrate=function(s,o,u){if(!qd(o))throw Error(n(200));return Wd(null,s,o,!0,u)},fr.hydrateRoot=function(s,o,u){if(!Im(s))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,y=!1,w="",I=nw;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=ew(o,null,s,1,u??null,y,!1,w,I),s[Js]=o.current,Zl(s),p)for(s=0;s<p.length;s++)u=p[s],y=u._getVersion,y=y(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,y]:o.mutableSourceEagerHydrationData.push(u,y);return new $d(o)},fr.render=function(s,o,u){if(!qd(o))throw Error(n(200));return Wd(null,s,o,!1,u)},fr.unmountComponentAtNode=function(s){if(!qd(s))throw Error(n(40));return s._reactRootContainer?($o(function(){Wd(null,null,s,!1,function(){s._reactRootContainer=null,s[Js]=null})}),!0):!1},fr.unstable_batchedUpdates=wm,fr.unstable_renderSubtreeIntoContainer=function(s,o,u,p){if(!qd(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Wd(s,o,u,!1,p)},fr.version="18.3.1-next-f1338f8080-20240426",fr}var dw;function Gb(){if(dw)return Rm.exports;dw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rm.exports=Ek(),Rm.exports}var hw;function Nk(){if(hw)return Kd;hw=1;var t=Gb();return Kd.createRoot=t.createRoot,Kd.hydrateRoot=t.hydrateRoot,Kd}var Sk=Nk(),hv=Gb();const Qb=lf(hv);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(this,arguments)}var lo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lo||(lo={}));const fw="popstate";function Tk(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:c,hash:d}=r.location;return mg("",{pathname:a,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kh(i)}return kk(e,n,null,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jk(){return Math.random().toString(36).substr(2,8)}function pw(t,e){return{usr:t.state,key:t.key,idx:e}}function mg(t,e,n,r){return n===void 0&&(n=null),Lc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Tl(e):e,{state:n,key:e&&e.key||r||jk()})}function kh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,d=lo.Pop,f=null,m=v();m==null&&(m=0,c.replaceState(Lc({},c.state,{idx:m}),""));function v(){return(c.state||{idx:null}).idx}function g(){d=lo.Pop;let S=v(),k=S==null?null:S-m;m=S,f&&f({action:d,location:T.location,delta:k})}function _(S,k){d=lo.Push;let P=mg(T.location,S,k);m=v()+1;let O=pw(P,m),B=T.createHref(P);try{c.pushState(O,"",B)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(B)}a&&f&&f({action:d,location:T.location,delta:1})}function b(S,k){d=lo.Replace;let P=mg(T.location,S,k);m=v();let O=pw(P,m),B=T.createHref(P);c.replaceState(O,"",B),a&&f&&f({action:d,location:T.location,delta:0})}function j(S){let k=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof S=="string"?S:kh(S);return P=P.replace(/ $/,"%20"),Zt(k,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,k)}let T={get action(){return d},get location(){return t(i,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(fw,g),f=S,()=>{i.removeEventListener(fw,g),f=null}},createHref(S){return e(i,S)},createURL:j,encodeLocation(S){let k=j(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:_,replace:b,go(S){return c.go(S)}};return T}var mw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mw||(mw={}));function Ik(t,e,n){return n===void 0&&(n="/"),Ck(t,e,n)}function Ck(t,e,n,r){let i=typeof e=="string"?Tl(e):e,a=fv(i.pathname||"/",n);if(a==null)return null;let c=Xb(t);Ak(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=$k(a);d=Uk(c[f],m)}return d}function Xb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,c,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(Zt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=uo([r,f.relativePath]),v=n.concat(f);a.children&&a.children.length>0&&(Zt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Xb(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:Fk(m,a.index),routesMeta:v})};return t.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,c);else for(let f of Jb(a.path))i(a,c,f)}),e}function Jb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=Jb(r.join("/")),d=[];return d.push(...c.map(f=>f===""?a:[a,f].join("/"))),i&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function Ak(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Vk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Rk=/^:[\w-]+$/,Pk=3,Dk=2,Ok=1,Mk=10,Lk=-2,gw=t=>t==="*";function Fk(t,e){let n=t.split("/"),r=n.length;return n.some(gw)&&(r+=Lk),e&&(r+=Dk),n.filter(i=>!gw(i)).reduce((i,a)=>i+(Rk.test(a)?Pk:a===""?Ok:Mk),r)}function Vk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Uk(t,e,n){let{routesMeta:r}=t,i={},a="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",g=Bk({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),_=f.route;if(!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:uo([a,g.pathname]),pathnameBase:Kk(uo([a,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(a=uo([a,g.pathnameBase]))}return c}function Bk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,v,g)=>{let{paramName:_,isOptional:b}=v;if(_==="*"){let T=d[g]||"";c=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const j=d[g];return b&&!j?m[_]=void 0:m[_]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:t}}function zk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Yb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $k(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Tl(t):t;return{pathname:n?n.startsWith("/")?n:Wk(n,e):e,search:Gk(r),hash:Qk(i)}}function Wk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Om(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pv(t,e){let n=Hk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Tl(t):(i=Lc({},t),Zt(!i.pathname||!i.pathname.includes("?"),Om("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),Om("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),Om("#","search","hash",i)));let a=t===""||i.pathname==="",c=a?"/":i.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}d=g>=0?e[g]:"/"}let f=qk(i,d),m=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}const uo=t=>t.join("/").replace(/\/\/+/g,"/"),Kk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Gk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Yk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Zb=["post","put","patch","delete"];new Set(Zb);const Xk=["get",...Zb];new Set(Xk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}const gv=E.createContext(null),Jk=E.createContext(null),bo=E.createContext(null),uf=E.createContext(null),Si=E.createContext({outlet:null,matches:[],isDataRoute:!1}),eE=E.createContext(null);function Zk(t,e){let{relative:n}=e===void 0?{}:e;jl()||Zt(!1);let{basename:r,navigator:i}=E.useContext(bo),{hash:a,pathname:c,search:d}=nE(t,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:uo([r,c])),i.createHref({pathname:f,search:d,hash:a})}function jl(){return E.useContext(uf)!=null}function au(){return jl()||Zt(!1),E.useContext(uf).location}function tE(t){E.useContext(bo).static||E.useLayoutEffect(t)}function Ti(){let{isDataRoute:t}=E.useContext(Si);return t?hI():eI()}function eI(){jl()||Zt(!1);let t=E.useContext(gv),{basename:e,future:n,navigator:r}=E.useContext(bo),{matches:i}=E.useContext(Si),{pathname:a}=au(),c=JSON.stringify(pv(i,n.v7_relativeSplatPath)),d=E.useRef(!1);return tE(()=>{d.current=!0}),E.useCallback(function(m,v){if(v===void 0&&(v={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let g=mv(m,JSON.parse(c),a,v.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:uo([e,g.pathname])),(v.replace?r.replace:r.push)(g,v.state,v)},[e,r,c,a,t])}function df(){let{matches:t}=E.useContext(Si),e=t[t.length-1];return e?e.params:{}}function nE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(bo),{matches:i}=E.useContext(Si),{pathname:a}=au(),c=JSON.stringify(pv(i,r.v7_relativeSplatPath));return E.useMemo(()=>mv(t,JSON.parse(c),a,n==="path"),[t,c,a,n])}function tI(t,e){return nI(t,e)}function nI(t,e,n,r){jl()||Zt(!1);let{navigator:i}=E.useContext(bo),{matches:a}=E.useContext(Si),c=a[a.length-1],d=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let m=au(),v;if(e){var g;let S=typeof e=="string"?Tl(e):e;f==="/"||(g=S.pathname)!=null&&g.startsWith(f)||Zt(!1),v=S}else v=m;let _=v.pathname||"/",b=_;if(f!=="/"){let S=f.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(S.length).join("/")}let j=Ik(t,{pathname:b}),T=aI(j&&j.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:uo([f,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:uo([f,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return e&&T?E.createElement(uf.Provider,{value:{location:Fc({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:lo.Pop}},T):T}function rI(){let t=dI(),e=Yk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const sI=E.createElement(rI,null);class iI extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Si.Provider,{value:this.props.routeContext},E.createElement(eE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oI(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(gv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Si.Provider,{value:e},r)}function aI(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let v=c.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);v>=0||Zt(!1),c=c.slice(0,Math.min(c.length,v+1))}let f=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let v=0;v<c.length;v++){let g=c[v];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=v),g.route.id){let{loaderData:_,errors:b}=n,j=g.route.loader&&_[g.route.id]===void 0&&(!b||b[g.route.id]===void 0);if(g.route.lazy||j){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((v,g,_)=>{let b,j=!1,T=null,S=null;n&&(b=d&&g.route.id?d[g.route.id]:void 0,T=g.route.errorElement||sI,f&&(m<0&&_===0?(fI("route-fallback"),j=!0,S=null):m===_&&(j=!0,S=g.route.hydrateFallbackElement||null)));let k=e.concat(c.slice(0,_+1)),P=()=>{let O;return b?O=T:j?O=S:g.route.Component?O=E.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=v,E.createElement(oI,{match:g,routeContext:{outlet:v,matches:k,isDataRoute:n!=null},children:O})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?E.createElement(iI,{location:n.location,revalidation:n.revalidation,component:T,error:b,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):P()},null)}var rE=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(rE||{}),sE=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(sE||{});function lI(t){let e=E.useContext(gv);return e||Zt(!1),e}function cI(t){let e=E.useContext(Jk);return e||Zt(!1),e}function uI(t){let e=E.useContext(Si);return e||Zt(!1),e}function iE(t){let e=uI(),n=e.matches[e.matches.length-1];return n.route.id||Zt(!1),n.route.id}function dI(){var t;let e=E.useContext(eE),n=cI(),r=iE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hI(){let{router:t}=lI(rE.UseNavigateStable),e=iE(sE.UseNavigateStable),n=E.useRef(!1);return tE(()=>{n.current=!0}),E.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fc({fromRouteId:e},a)))},[t,e])}const vw={};function fI(t,e,n){vw[t]||(vw[t]=!0)}function pI(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function yw(t){let{to:e,replace:n,state:r,relative:i}=t;jl()||Zt(!1);let{future:a,static:c}=E.useContext(bo),{matches:d}=E.useContext(Si),{pathname:f}=au(),m=Ti(),v=mv(e,pv(d,a.v7_relativeSplatPath),f,i==="path"),g=JSON.stringify(v);return E.useEffect(()=>m(JSON.parse(g),{replace:n,state:r,relative:i}),[m,g,i,n,r]),null}function pn(t){Zt(!1)}function mI(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lo.Pop,navigator:a,static:c=!1,future:d}=t;jl()&&Zt(!1);let f=e.replace(/^\/*/,"/"),m=E.useMemo(()=>({basename:f,navigator:a,static:c,future:Fc({v7_relativeSplatPath:!1},d)}),[f,d,a,c]);typeof r=="string"&&(r=Tl(r));let{pathname:v="/",search:g="",hash:_="",state:b=null,key:j="default"}=r,T=E.useMemo(()=>{let S=fv(v,f);return S==null?null:{location:{pathname:S,search:g,hash:_,state:b,key:j},navigationType:i}},[f,v,g,_,b,j,i]);return T==null?null:E.createElement(bo.Provider,{value:m},E.createElement(uf.Provider,{children:n,value:T}))}function gI(t){let{children:e,location:n}=t;return tI(gg(e),n)}new Promise(()=>{});function gg(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let a=[...e,i];if(r.type===E.Fragment){n.push.apply(n,gg(r.props.children,a));return}r.type!==pn&&Zt(!1),!r.props.index||!r.props.children||Zt(!1);let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=gg(r.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function vI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xI(t,e){return t.button===0&&(!e||e==="_self")&&!yI(t)}const wI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_I="6";try{window.__reactRouterVersion=_I}catch{}const bI="startTransition",xw=dv[bI];function EI(t){let{basename:e,children:n,future:r,window:i}=t,a=E.useRef();a.current==null&&(a.current=Tk({window:i,v5Compat:!0}));let c=a.current,[d,f]=E.useState({action:c.action,location:c.location}),{v7_startTransition:m}=r||{},v=E.useCallback(g=>{m&&xw?xw(()=>f(g)):f(g)},[f,m]);return E.useLayoutEffect(()=>c.listen(v),[c,v]),E.useEffect(()=>pI(r),[r]),E.createElement(mI,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:c,future:r})}const NI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:c,state:d,target:f,to:m,preventScrollReset:v,viewTransition:g}=e,_=vI(e,wI),{basename:b}=E.useContext(bo),j,T=!1;if(typeof m=="string"&&SI.test(m)&&(j=m,NI))try{let O=new URL(window.location.href),B=m.startsWith("//")?new URL(O.protocol+m):new URL(m),K=fv(B.pathname,b);B.origin===O.origin&&K!=null?m=K+B.search+B.hash:T=!0}catch{}let S=Zk(m,{relative:i}),k=TI(m,{replace:c,state:d,target:f,preventScrollReset:v,relative:i,viewTransition:g});function P(O){r&&r(O),O.defaultPrevented||k(O)}return E.createElement("a",vg({},_,{href:j||S,onClick:T||a?r:P,ref:n,target:f}))});var ww;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ww||(ww={}));var _w;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_w||(_w={}));function TI(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:c,viewTransition:d}=e===void 0?{}:e,f=Ti(),m=au(),v=nE(t,{relative:c});return E.useCallback(g=>{if(xI(g,n)){g.preventDefault();let _=r!==void 0?r:kh(m)===kh(v);f(t,{replace:_,state:i,preventScrollReset:a,relative:c,viewTransition:d})}},[m,f,v,r,i,n,t,a,c,d])}let jI={data:""},kI=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||jI,II=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,CI=/\/\*[^]*?\*\/|  +/g,bw=/\n+/g,no=(t,e)=>{let n="",r="",i="";for(let a in t){let c=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+c+";":r+=a[1]=="f"?no(c,a):a+"{"+no(c,a[1]=="k"?"":e)+"}":typeof c=="object"?r+=no(c,e?e.replace(/([^,])+/g,d=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):a):c!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=no.p?no.p(a,c):a+":"+c+";")}return n+(e&&i?e+"{"+i+"}":i)+r},oi={},oE=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+oE(t[n]);return e}return t},AI=(t,e,n,r,i)=>{let a=oE(t),c=oi[a]||(oi[a]=(f=>{let m=0,v=11;for(;m<f.length;)v=101*v+f.charCodeAt(m++)>>>0;return"go"+v})(a));if(!oi[c]){let f=a!==t?t:(m=>{let v,g,_=[{}];for(;v=II.exec(m.replace(CI,""));)v[4]?_.shift():v[3]?(g=v[3].replace(bw," ").trim(),_.unshift(_[0][g]=_[0][g]||{})):_[0][v[1]]=v[2].replace(bw," ").trim();return _[0]})(t);oi[c]=no(i?{["@keyframes "+c]:f}:f,n?"":"."+c)}let d=n&&oi.g?oi.g:null;return n&&(oi.g=oi[c]),((f,m,v,g)=>{g?m.data=m.data.replace(g,f):m.data.indexOf(f)===-1&&(m.data=v?f+m.data:m.data+f)})(oi[c],e,r,d),c},RI=(t,e,n)=>t.reduce((r,i,a)=>{let c=e[a];if(c&&c.call){let d=c(n),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=f?"."+f:d&&typeof d=="object"?d.props?"":no(d,""):d===!1?"":d}return r+i+(c??"")},"");function hf(t){let e=this||{},n=t.call?t(e.p):t;return AI(n.unshift?n.raw?RI(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,kI(e.target),e.g,e.o,e.k)}let aE,yg,xg;hf.bind({g:1});let gi=hf.bind({k:1});function PI(t,e,n,r){no.p=e,aE=t,yg=n,xg=r}function Eo(t,e){let n=this||{};return function(){let r=arguments;function i(a,c){let d=Object.assign({},a),f=d.className||i.className;n.p=Object.assign({theme:yg&&yg()},d),n.o=/ *go\d+/.test(f),d.className=hf.apply(n,r)+(f?" "+f:"");let m=t;return t[0]&&(m=d.as||t,delete d.as),xg&&m[0]&&xg(d),aE(m,d)}return i}}var DI=t=>typeof t=="function",Ih=(t,e)=>DI(t)?t(e):t,OI=(()=>{let t=0;return()=>(++t).toString()})(),lE=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),MI=20,vv="default",cE=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:r}=e;return cE(t,{type:t.toasts.find(c=>c.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(c=>c.id===i||i===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+a}))}}},hh=[],uE={toasts:[],pausedAt:void 0,settings:{toastLimit:MI}},Is={},dE=(t,e=vv)=>{Is[e]=cE(Is[e]||uE,t),hh.forEach(([n,r])=>{n===e&&r(Is[e])})},hE=t=>Object.keys(Is).forEach(e=>dE(t,e)),LI=t=>Object.keys(Is).find(e=>Is[e].toasts.some(n=>n.id===t)),ff=(t=vv)=>e=>{dE(e,t)},FI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},VI=(t={},e=vv)=>{let[n,r]=E.useState(Is[e]||uE),i=E.useRef(Is[e]);E.useEffect(()=>(i.current!==Is[e]&&r(Is[e]),hh.push([e,r]),()=>{let c=hh.findIndex(([d])=>d===e);c>-1&&hh.splice(c,1)}),[e]);let a=n.toasts.map(c=>{var d,f,m;return{...t,...t[c.type],...c,removeDelay:c.removeDelay||((d=t[c.type])==null?void 0:d.removeDelay)||t?.removeDelay,duration:c.duration||((f=t[c.type])==null?void 0:f.duration)||t?.duration||FI[c.type],style:{...t.style,...(m=t[c.type])==null?void 0:m.style,...c.style}}});return{...n,toasts:a}},UI=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||OI()}),lu=t=>(e,n)=>{let r=UI(e,t,n);return ff(r.toasterId||LI(r.id))({type:2,toast:r}),r.id},mn=(t,e)=>lu("blank")(t,e);mn.error=lu("error");mn.success=lu("success");mn.loading=lu("loading");mn.custom=lu("custom");mn.dismiss=(t,e)=>{let n={type:3,toastId:t};e?ff(e)(n):hE(n)};mn.dismissAll=t=>mn.dismiss(void 0,t);mn.remove=(t,e)=>{let n={type:4,toastId:t};e?ff(e)(n):hE(n)};mn.removeAll=t=>mn.remove(void 0,t);mn.promise=(t,e,n)=>{let r=mn.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?Ih(e.success,i):void 0;return a?mn.success(a,{id:r,...n,...n?.success}):mn.dismiss(r),i}).catch(i=>{let a=e.error?Ih(e.error,i):void 0;a?mn.error(a,{id:r,...n,...n?.error}):mn.dismiss(r)}),t};var BI=1e3,zI=(t,e="default")=>{let{toasts:n,pausedAt:r}=VI(t,e),i=E.useRef(new Map).current,a=E.useCallback((g,_=BI)=>{if(i.has(g))return;let b=setTimeout(()=>{i.delete(g),c({type:4,toastId:g})},_);i.set(g,b)},[]);E.useEffect(()=>{if(r)return;let g=Date.now(),_=n.map(b=>{if(b.duration===1/0)return;let j=(b.duration||0)+b.pauseDuration-(g-b.createdAt);if(j<0){b.visible&&mn.dismiss(b.id);return}return setTimeout(()=>mn.dismiss(b.id,e),j)});return()=>{_.forEach(b=>b&&clearTimeout(b))}},[n,r,e]);let c=E.useCallback(ff(e),[e]),d=E.useCallback(()=>{c({type:5,time:Date.now()})},[c]),f=E.useCallback((g,_)=>{c({type:1,toast:{id:g,height:_}})},[c]),m=E.useCallback(()=>{r&&c({type:6,time:Date.now()})},[r,c]),v=E.useCallback((g,_)=>{let{reverseOrder:b=!1,gutter:j=8,defaultPosition:T}=_||{},S=n.filter(O=>(O.position||T)===(g.position||T)&&O.height),k=S.findIndex(O=>O.id===g.id),P=S.filter((O,B)=>B<k&&O.visible).length;return S.filter(O=>O.visible).slice(...b?[P+1]:[0,P]).reduce((O,B)=>O+(B.height||0)+j,0)},[n]);return E.useEffect(()=>{n.forEach(g=>{if(g.dismissed)a(g.id,g.removeDelay);else{let _=i.get(g.id);_&&(clearTimeout(_),i.delete(g.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:f,startPause:d,endPause:m,calculateOffset:v}}},$I=gi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qI=gi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WI=gi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,HI=Eo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$I} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${WI} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,KI=gi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,GI=Eo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${KI} 1s linear infinite;
`,QI=gi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,YI=gi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,XI=Eo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${YI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,JI=Eo("div")`
  position: absolute;
`,ZI=Eo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,e2=gi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,t2=Eo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${e2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,n2=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?E.createElement(t2,null,e):e:n==="blank"?null:E.createElement(ZI,null,E.createElement(GI,{...r}),n!=="loading"&&E.createElement(JI,null,n==="error"?E.createElement(HI,{...r}):E.createElement(XI,{...r})))},r2=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,s2=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,i2="0%{opacity:0;} 100%{opacity:1;}",o2="0%{opacity:1;} 100%{opacity:0;}",a2=Eo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,l2=Eo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,c2=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=lE()?[i2,o2]:[r2(n),s2(n)];return{animation:e?`${gi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${gi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},u2=E.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?c2(t.position||e||"top-center",t.visible):{opacity:0},a=E.createElement(n2,{toast:t}),c=E.createElement(l2,{...t.ariaProps},Ih(t.message,t));return E.createElement(a2,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:c}):E.createElement(E.Fragment,null,a,c))});PI(E.createElement);var d2=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=E.useCallback(c=>{if(c){let d=()=>{let f=c.getBoundingClientRect().height;r(t,f)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return E.createElement("div",{ref:a,className:e,style:n},i)},h2=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:lE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},f2=hf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gd=16,p2=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:c,containerClassName:d})=>{let{toasts:f,handlers:m}=zI(n,a);return E.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Gd,left:Gd,right:Gd,bottom:Gd,pointerEvents:"none",...c},className:d,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(v=>{let g=v.position||e,_=m.calculateOffset(v,{reverseOrder:t,gutter:r,defaultPosition:e}),b=h2(g,_);return E.createElement(d2,{id:v.id,key:v.id,onHeightUpdate:m.updateHeight,className:v.visible?f2:"",style:b},v.type==="custom"?Ih(v.message,v):i?i(v):E.createElement(u2,{toast:v,position:g}))}))},He=mn,Ew={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},m2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],c=t[n++],d=t[n++],f=((i&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|c&63)}}return e.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],c=i+1<t.length,d=c?t[i+1]:0,f=i+2<t.length,m=f?t[i+2]:0,v=a>>2,g=(a&3)<<4|d>>4;let _=(d&15)<<2|m>>6,b=m&63;f||(b=64,c||(_=64)),r.push(n[v],n[g],n[_],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||d==null||m==null||g==null)throw new g2;const _=a<<2|d>>4;if(r.push(_),m!==64){const b=d<<4&240|m>>2;if(r.push(b),g!==64){const j=m<<6&192|g;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v2=function(t){const e=fE(t);return pE.encodeByteArray(e,!0)},Ch=function(t){return v2(t).replace(/\./g,"")},mE=function(t){try{return pE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=()=>y2().__FIREBASE_DEFAULTS__,w2=()=>{if(typeof process>"u"||typeof Ew>"u")return;const t=Ew.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mE(t[1]);return e&&JSON.parse(e)},pf=()=>{try{return x2()||w2()||_2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gE=t=>{var e,n;return(n=(e=pf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vE=t=>{const e=gE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yE=()=>{var t;return(t=pf())===null||t===void 0?void 0:t.config},xE=t=>{var e;return(e=pf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ch(JSON.stringify(n)),Ch(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function N2(){var t;const e=(t=pf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k2(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I2(){return!N2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C2(){try{return typeof indexedDB=="object"}catch{return!1}}function A2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="FirebaseError";class $s extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R2,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?P2(a,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new $s(i,d,r)}}function P2(t,e){return t.replace(D2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const D2=/\{\$([^}]+)}/g;function O2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ah(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],c=e[i];if(Nw(a)&&Nw(c)){if(!Ah(a,c))return!1}else if(a!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function M2(t,e){const n=new L2(t,e);return n.subscribe.bind(n)}class L2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");F2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Mm),i.error===void 0&&(i.error=Mm),i.complete===void 0&&(i.complete=Mm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class go{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B2(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U2(t){return t===Ko?void 0:t}function B2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const $2={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},q2=tt.INFO,W2={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},H2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=W2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yv{constructor(e){this.name=e,this._logLevel=q2,this._logHandler=H2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const K2=(t,e)=>e.some(n=>t instanceof n);let Sw,Tw;function G2(){return Sw||(Sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q2(){return Tw||(Tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,wg=new WeakMap,bE=new WeakMap,Lm=new WeakMap,xv=new WeakMap;function Y2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(ho(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&_E.set(n,t)}).catch(()=>{}),xv.set(e,t),e}function X2(t){if(wg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});wg.set(t,e)}let _g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J2(t){_g=t(_g)}function Z2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fm(this),e,...n);return bE.set(r,e.sort?e.sort():[e]),ho(r)}:Q2().includes(t)?function(...e){return t.apply(Fm(this),e),ho(_E.get(this))}:function(...e){return ho(t.apply(Fm(this),e))}}function eC(t){return typeof t=="function"?Z2(t):(t instanceof IDBTransaction&&X2(t),K2(t,G2())?new Proxy(t,_g):t)}function ho(t){if(t instanceof IDBRequest)return Y2(t);if(Lm.has(t))return Lm.get(t);const e=eC(t);return e!==t&&(Lm.set(t,e),xv.set(e,t)),e}const Fm=t=>xv.get(t);function tC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(t,e),d=ho(c);return r&&c.addEventListener("upgradeneeded",f=>{r(ho(c.result),f.oldVersion,f.newVersion,ho(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const nC=["get","getKey","getAll","getAllKeys","count"],rC=["put","add","delete","clear"],Vm=new Map;function jw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nC.includes(n)))return;const a=async function(c,...d){const f=this.transaction(c,i?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&f.done]))[0]};return Vm.set(e,a),a}J2(t=>({...t,get:(e,n,r)=>jw(e,n)||t.get(e,n,r),has:(e,n)=>!!jw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iC(t){const e=t.getComponent();return e?.type==="VERSION"}const bg="@firebase/app",kw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new yv("@firebase/app"),oC="@firebase/app-compat",aC="@firebase/analytics-compat",lC="@firebase/analytics",cC="@firebase/app-check-compat",uC="@firebase/app-check",dC="@firebase/auth",hC="@firebase/auth-compat",fC="@firebase/database",pC="@firebase/data-connect",mC="@firebase/database-compat",gC="@firebase/functions",vC="@firebase/functions-compat",yC="@firebase/installations",xC="@firebase/installations-compat",wC="@firebase/messaging",_C="@firebase/messaging-compat",bC="@firebase/performance",EC="@firebase/performance-compat",NC="@firebase/remote-config",SC="@firebase/remote-config-compat",TC="@firebase/storage",jC="@firebase/storage-compat",kC="@firebase/firestore",IC="@firebase/vertexai-preview",CC="@firebase/firestore-compat",AC="firebase",RC="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="[DEFAULT]",PC={[bg]:"fire-core",[oC]:"fire-core-compat",[lC]:"fire-analytics",[aC]:"fire-analytics-compat",[uC]:"fire-app-check",[cC]:"fire-app-check-compat",[dC]:"fire-auth",[hC]:"fire-auth-compat",[fC]:"fire-rtdb",[pC]:"fire-data-connect",[mC]:"fire-rtdb-compat",[gC]:"fire-fn",[vC]:"fire-fn-compat",[yC]:"fire-iid",[xC]:"fire-iid-compat",[wC]:"fire-fcm",[_C]:"fire-fcm-compat",[bC]:"fire-perf",[EC]:"fire-perf-compat",[NC]:"fire-rc",[SC]:"fire-rc-compat",[TC]:"fire-gcs",[jC]:"fire-gcs-compat",[kC]:"fire-fst",[CC]:"fire-fst-compat",[IC]:"fire-vertex","fire-js":"fire-js",[AC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,DC=new Map,Ng=new Map;function Iw(t,e){try{t.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zo(t){const e=t.name;if(Ng.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,t);for(const n of Rh.values())Iw(n,t);for(const n of DC.values())Iw(n,t);return!0}function mf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new cu("app","Firebase",OC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=RC;function EE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Eg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fo.create("bad-app-name",{appName:String(i)});if(n||(n=yE()),!n)throw fo.create("no-options");const a=Rh.get(i);if(a){if(Ah(n,a.options)&&Ah(r,a.config))return a;throw fo.create("duplicate-app",{appName:i})}const c=new z2(i);for(const f of Ng.values())c.addComponent(f);const d=new MC(n,r,c);return Rh.set(i,d),d}function wv(t=Eg){const e=Rh.get(t);if(!e&&t===Eg&&yE())return EE();if(!e)throw fo.create("no-app",{appName:t});return e}function Ps(t,e,n){var r;let i=(r=PC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${i}" with version "${e}":`];a&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(d.join(" "));return}Zo(new go(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebase-heartbeat-database",FC=1,Vc="firebase-heartbeat-store";let Um=null;function NE(){return Um||(Um=tC(LC,FC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw fo.create("idb-open",{originalErrorMessage:t.message})})),Um}async function VC(t){try{const n=(await NE()).transaction(Vc),r=await n.objectStore(Vc).get(SE(t));return await n.done,r}catch(e){if(e instanceof $s)vi.warn(e.message);else{const n=fo.create("idb-get",{originalErrorMessage:e?.message});vi.warn(n.message)}}}async function Cw(t,e){try{const r=(await NE()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,SE(t)),await r.done}catch(n){if(n instanceof $s)vi.warn(n.message);else{const r=fo.create("idb-set",{originalErrorMessage:n?.message});vi.warn(r.message)}}}function SE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=1024,BC=720*60*60*1e3;class zC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Aw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=BC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Aw(),{heartbeatsToSend:r,unsentEntries:i}=$C(this._heartbeatsCache.heartbeats),a=Ch(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return vi.warn(n),""}}}function Aw(){return new Date().toISOString().substring(0,10)}function $C(t,e=UC){const n=[];let r=t.slice();for(const i of t){const a=n.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),Rw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C2()?A2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rw(t){return Ch(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){Zo(new go("platform-logger",e=>new sC(e),"PRIVATE")),Zo(new go("heartbeat",e=>new zC(e),"PRIVATE")),Ps(bg,kw,t),Ps(bg,kw,"esm2017"),Ps("fire-js","")}WC("");var ks=function(){return ks=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ks.apply(this,arguments)};function du(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ca(t,e,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function d(v){try{m(r.next(v))}catch(g){c(g)}}function f(v){try{m(r.throw(v))}catch(g){c(g)}}function m(v){v.done?a(v.value):i(v.value).then(d,f)}m((r=r.apply(t,e||[])).next())})}function HC(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function TE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KC=TE,jE=new cu("auth","Firebase",TE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new yv("@firebase/auth");function GC(t,...e){Ph.logLevel<=tt.WARN&&Ph.warn(`Auth (${la}): ${t}`,...e)}function fh(t,...e){Ph.logLevel<=tt.ERROR&&Ph.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,...e){throw _v(t,...e)}function Ds(t,...e){return _v(t,...e)}function kE(t,e,n){const r=Object.assign(Object.assign({},KC()),{[e]:n});return new cu("auth","Firebase",r).create(e,{appName:t.name})}function pi(t){return kE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _v(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jE.create(t,...e)}function Fe(t,e,...n){if(!t)throw _v(e,...n)}function ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fh(e),new Error(e)}function yi(t,e){t||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QC(){return Pw()==="http:"||Pw()==="https:"}function Pw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QC()||T2()||"connection"in navigator)?navigator.onLine:!0}function XC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yi(n>e,"Short delay should be less than long delay!"),this.isMobile=E2()||j2()}get(){return YC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e){yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new hu(3e4,6e4);function ji(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ki(t,e,n,r,i={}){return CE(t,i,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const d=uu(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},a);return S2()||(m.referrerPolicy="no-referrer"),IE.fetch()(AE(t,t.config.apiHost,n,d),m)})}async function CE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JC),e);try{const i=new tA(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Qd(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qd(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Qd(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Qd(t,"user-disabled",c);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw kE(t,v,m);ls(t,v)}}catch(i){if(i instanceof $s)throw i;ls(t,"network-request-failed",{message:String(i)})}}async function fu(t,e,n,r,i={}){const a=await ki(t,e,n,r,i);return"mfaPendingCredential"in a&&ls(t,"multi-factor-auth-required",{_serverResponse:a}),a}function AE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?bv(t.config,i):`${t.config.apiScheme}://${i}`}function eA(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ds(this.auth,"network-request-failed")),ZC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ds(t,e,r);return i.customData._tokenResponse=n,i}function Dw(t){return t!==void 0&&t.enterprise!==void 0}class nA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function rA(t,e){return ki(t,"GET","/v2/recaptchaConfig",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(t,e){return ki(t,"POST","/v1/accounts:delete",e)}async function RE(t,e){return ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iA(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),i=Ev(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,c=a?.sign_in_provider;return{claims:i,token:r,authTime:Ac(Bm(i.auth_time)),issuedAtTime:Ac(Bm(i.iat)),expirationTime:Ac(Bm(i.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Bm(t){return Number(t)*1e3}function Ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const i=mE(n);return i?JSON.parse(i):(fh("Failed to decode base64 JWT payload"),null)}catch(i){return fh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ow(t){const e=Ev(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $s&&oA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Uc(t,RE(n,{idToken:r}));Fe(i?.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?PE(a.providerUserInfo):[],d=cA(t.providerData,c),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!d?.length,v=f?m:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Tg(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(t,g)}async function lA(t){const e=Rt(t);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PE(t){return t.map(e=>{var{providerId:n}=e,r=du(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(t,e){const n=await CE(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,c=AE(t,i,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",IE.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dA(t,e){return ki(t,"POST","/v2/accounts:revokeToken",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=Ow(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await uA(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,c=new il;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),a&&(Fe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=du(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Tg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Uc(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iA(this,e)}reload(){return lA(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cs(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await Uc(this,sA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,c,d,f,m,v;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,j=(c=n.photoURL)!==null&&c!==void 0?c:void 0,T=(d=n.tenantId)!==null&&d!==void 0?d:void 0,S=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,k=(m=n.createdAt)!==null&&m!==void 0?m:void 0,P=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:O,emailVerified:B,isAnonymous:K,providerData:J,stsTokenManager:R}=n;Fe(O&&R,e,"internal-error");const C=il.fromJSON(this.name,R);Fe(typeof O=="string",e,"internal-error"),Ji(g,e.name),Ji(_,e.name),Fe(typeof B=="boolean",e,"internal-error"),Fe(typeof K=="boolean",e,"internal-error"),Ji(b,e.name),Ji(j,e.name),Ji(T,e.name),Ji(S,e.name),Ji(k,e.name),Ji(P,e.name);const D=new ui({uid:O,auth:e,email:_,emailVerified:B,displayName:g,isAnonymous:K,photoURL:j,phoneNumber:b,tenantId:T,stsTokenManager:C,createdAt:k,lastLoginAt:P});return J&&Array.isArray(J)&&(D.providerData=J.map(L=>Object.assign({},L))),S&&(D._redirectEventId=S),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new il;i.updateFromServerResponse(n);const a=new ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?PE(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!a?.length,d=new il;d.updateFromIdToken(r);const f=new ui({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Tg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Map;function di(t){yi(t instanceof Function,"Expected a class definition");let e=Mw.get(t);return e?(yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DE.type="NONE";const Lw=DE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t,e,n){return`firebase:${t}:${e}:${n}`}class ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ph(this.userKey,i.apiKey,a),this.fullPersistenceKey=ph("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ol(di(Lw),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||di(Lw);const c=ph(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const v=await m._get(c);if(v){const g=ui._fromJSON(e,v);m!==a&&(d=g),a=m;break}}catch{}const f=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ol(a,e,r):(a=f[0],d&&await a._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new ol(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UE(e))return"Blackberry";if(BE(e))return"Webos";if(ME(e))return"Safari";if((e.includes("chrome/")||LE(e))&&!e.includes("edge/"))return"Chrome";if(VE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function OE(t=Kn()){return/firefox\//i.test(t)}function ME(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LE(t=Kn()){return/crios\//i.test(t)}function FE(t=Kn()){return/iemobile/i.test(t)}function VE(t=Kn()){return/android/i.test(t)}function UE(t=Kn()){return/blackberry/i.test(t)}function BE(t=Kn()){return/webos/i.test(t)}function Nv(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hA(t=Kn()){var e;return Nv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fA(){return k2()&&document.documentMode===10}function zE(t=Kn()){return Nv(t)||VE(t)||BE(t)||UE(t)||/windows phone/i.test(t)||FE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e=[]){let n;switch(t){case"Browser":n=Fw(Kn());break;case"Worker":n=`${Fw(Kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,d)=>{try{const f=e(a);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(t,e={}){return ki(t,"GET","/v2/passwordPolicy",ji(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=6;class vA{constructor(e){var n,r,i,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:gA,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vw(this),this.idTokenSubscription=new Vw(this),this.beforeStateQueue=new pA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await RE(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cs(this.app))return Promise.reject(pi(this));const n=e?Rt(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cs(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cs(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mA(this),n=new vA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&GC(`Error while retrieving App Check token: ${n.error}`),n?.token}}function No(t){return Rt(t)}class Vw{constructor(e){this.auth=e,this.observer=null,this.addObserver=M2(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xA(t){gf=t}function qE(t){return gf.loadJS(t)}function wA(){return gf.recaptchaEnterpriseScript}function _A(){return gf.gapiScript}function bA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const EA="recaptcha-enterprise",NA="NO_RECAPTCHA";class SA{constructor(e){this.type=EA,this.auth=No(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{rA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new nA(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(f=>{d(f)})})}function i(a,c,d){const f=window.grecaptcha;Dw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(NA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{r(this.auth).then(d=>{if(!n&&Dw(window.grecaptcha))i(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=wA();f.length!==0&&(f+=d),qE(f).then(()=>{i(d,a,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function Uw(t,e,n,r=!1){const i=new SA(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const c=Object.assign({},e);return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Oh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Uw(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Uw(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t,e){const n=mf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Ah(a,e??{}))return i;ls(i,"already-initialized")}return n.initialize({options:e})}function jA(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function kA(t,e,n){const r=No(t);Fe(r._canInitEmulator,r,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=WE(e),{host:c,port:d}=IA(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${c}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),CA()}function WE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IA(t){const e=WE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Bw(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:Bw(c)}}}function Bw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function AA(t,e){return ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(t,e){return fu(t,"POST","/v1/accounts:signInWithPassword",ji(t,e))}async function HE(t,e){return ki(t,"POST","/v1/accounts:sendOobCode",ji(t,e))}async function PA(t,e){return HE(t,e)}async function DA(t,e){return HE(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}async function MA(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Sv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,n,"signInWithPassword",RA);case"emailLink":return OA(e,{email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,r,"signUpPassword",AA);case"emailLink":return MA(e,{idToken:n,email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e){return fu(t,"POST","/v1/accounts:signInWithIdp",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="http://localhost";class ea extends Sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=du(n,["providerId","signInMethod"]);if(!r||!i)return null;const c=new ea(r,i);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,al(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:LA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VA(t){const e=Ec(Nc(t)).link,n=e?Ec(Nc(e)).deep_link_id:null,r=Ec(Nc(t)).deep_link_id;return(r?Ec(Nc(r)).link:null)||r||n||e||t}class Tv{constructor(e){var n,r,i,a,c,d;const f=Ec(Nc(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,v=(r=f.oobCode)!==null&&r!==void 0?r:null,g=FA((i=f.mode)!==null&&i!==void 0?i:null);Fe(m&&v&&g,"argument-error"),this.apiKey=m,this.operation=g,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=VA(e);try{return new Tv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,n){return Bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tv.parseLink(n);return Fe(r,"argument-error"),Bc._fromEmailAndCode(e,r.code,r.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends KE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends pu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return so.credential(n,r)}catch{return null}}}so.GOOGLE_SIGN_IN_METHOD="google.com";so.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends pu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends pu{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(t,e){return fu(t,"POST","/v1/accounts:signUp",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ui._fromIdTokenResponse(e,r,i),c=zw(r);return new ta({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=zw(r);return new ta({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function zw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends $s{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mh(e,n,r,i)}}function GE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,a,e,r):a})}async function BA(t,e,n=!1){const r=await Uc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(t,e,n=!1){const{auth:r}=t;if(Cs(r.app))return Promise.reject(pi(r));const i="reauthenticate";try{const a=await Uc(t,GE(r,i,e,t),n);Fe(a.idToken,r,"internal-error");const c=Ev(a.idToken);Fe(c,r,"internal-error");const{sub:d}=c;return Fe(t.uid===d,r,"user-mismatch"),ta._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&ls(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(t,e,n=!1){if(Cs(t.app))return Promise.reject(pi(t));const r="signIn",i=await GE(t,r,e),a=await ta._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function $A(t,e){return QE(No(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(t){const e=No(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qA(t,e,n){const r=No(t);await Oh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",DA)}async function WA(t,e,n){if(Cs(t.app))return Promise.reject(pi(t));const r=No(t),c=await Oh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UA).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&YE(t),f}),d=await ta._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function HA(t,e,n){return Cs(t.app)?Promise.reject(pi(t)):$A(Rt(t),kl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YE(t),r})}async function $w(t,e){const n=Rt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await PA(n.auth,i);a!==t.email&&await t.reload()}function KA(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function GA(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function QA(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}function YA(t){return Rt(t).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=1e3,JA=10;class JE extends XE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);fA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JA):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JE.type="LOCAL";const ZA=JE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends XE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZE.type="SESSION";const e1=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async m=>m(n.origin,a)),f=await eR(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,c;return new Promise((d,f)=>{const m=jv("",20);i.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(_.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return window}function nR(t){Os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function rR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sR(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iR(){return t1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebaseLocalStorageDb",oR=1,Fh="firebaseLocalStorage",r1="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(t,e){return t.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function aR(){const t=indexedDB.deleteDatabase(n1);return new mu(t).toPromise()}function jg(){const t=indexedDB.open(n1,oR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fh,{keyPath:r1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await aR(),e(await jg()))})})}async function qw(t,e,n){const r=yf(t,!0).put({[r1]:e,value:n});return new mu(r).toPromise()}async function lR(t,e){const n=yf(t,!1).get(e),r=await new mu(n).toPromise();return r===void 0?null:r.value}function Ww(t,e){const n=yf(t,!0).delete(e);return new mu(n).toPromise()}const cR=800,uR=3;class s1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(iR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rR(),!this.activeServiceWorker)return;this.sender=new tR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await qw(e,Lh,"1"),await Ww(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ww(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=yf(i,!1).getAll();return new mu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s1.type="LOCAL";const dR=s1;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t,e){return e?di(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fR(t){return QE(t.auth,new kv(t),t.bypassAuthState)}function pR(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),zA(n,new kv(t),t.bypassAuthState)}async function mR(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),BA(n,new kv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fR;case"linkViaPopup":case"linkViaRedirect":return mR;case"reauthViaPopup":case"reauthViaRedirect":return pR;default:ls(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new hu(2e3,1e4);class sl extends i1{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gR.get())};e()}}sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="pendingRedirect",mh=new Map;class yR extends i1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const r=await xR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xR(t,e){const n=bR(e),r=_R(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wR(t,e){mh.set(t._key(),e)}function _R(t){return di(t._redirectPersistence)}function bR(t){return ph(vR,t.config.apiKey,t.name)}async function ER(t,e,n=!1){if(Cs(t.app))return Promise.reject(pi(t));const r=No(t),i=hR(r,e),c=await new yR(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=600*1e3;class SR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ds(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hw(e))}saveEventToCache(e){this.cachedEventUids.add(Hw(e)),this.lastProcessedEventTime=Date.now()}}function Hw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function TR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e={}){return ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IR=/^https?/;async function CR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jR(t);for(const n of e)try{if(AR(n))return}catch{}ls(t,"unauthorized-domain")}function AR(t){const e=Sg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!IR.test(n))return!1;if(kR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new hu(3e4,6e4);function Kw(){const t=Os().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PR(t){return new Promise((e,n)=>{var r,i,a;function c(){Kw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kw(),n(Ds(t,"network-request-failed"))},timeout:RR.get()})}if(!((i=(r=Os().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Os().gapi)===null||a===void 0)&&a.load)c();else{const d=bA("iframefcb");return Os()[d]=()=>{gapi.load?c():n(Ds(t,"network-request-failed"))},qE(`${_A()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw gh=null,e})}let gh=null;function DR(t){return gh=gh||PR(t),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new hu(5e3,15e3),MR="__/auth/iframe",LR="emulator/auth/iframe",FR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UR(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bv(e,LR):`https://${t.config.authDomain}/${MR}`,r={apiKey:e.apiKey,appName:t.name,v:la},i=VR.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${uu(r).slice(1)}`}async function BR(t){const e=await DR(t),n=Os().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:UR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FR,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const c=Ds(t,"network-request-failed"),d=Os().setTimeout(()=>{a(c)},OR.get());function f(){Os().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$R=500,qR=600,WR="_blank",HR="http://localhost";class Gw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KR(t,e,n,r=$R,i=qR){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},zR),{width:r.toString(),height:i.toString(),top:a,left:c}),m=Kn().toLowerCase();n&&(d=LE(m)?WR:n),OE(m)&&(e=e||HR,f.scrollbars="yes");const v=Object.entries(f).reduce((_,[b,j])=>`${_}${b}=${j},`,"");if(hA(m)&&d!=="_self")return GR(e||"",d),new Gw(null);const g=window.open(e||"",d,v);Fe(g,t,"popup-blocked");try{g.focus()}catch{}return new Gw(g)}function GR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="__/auth/handler",YR="emulator/auth/handler",XR=encodeURIComponent("fac");async function Qw(t,e,n,r,i,a){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:i};if(e instanceof KE){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",O2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,g]of Object.entries({}))c[v]=g}if(e instanceof pu){const v=e.getScopes().filter(g=>g!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await t._getAppCheckToken(),m=f?`#${XR}=${encodeURIComponent(f)}`:"";return`${JR(t)}?${uu(d).slice(1)}${m}`}function JR({config:t}){return t.emulator?bv(t,YR):`https://${t.authDomain}/${QR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class ZR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=ER,this._overrideRedirectResult=wR}async _openPopup(e,n,r,i){var a;yi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Qw(e,n,r,Sg(),i);return KR(e,c,jv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Qw(e,n,r,Sg(),i);return nR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(yi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BR(e),r=new SR(e);return n.register("authEvent",i=>(Fe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zm,{type:zm},i=>{var a;const c=(a=i?.[0])===null||a===void 0?void 0:a[zm];c!==void 0&&n(!!c),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zE()||ME()||Nv()}}const eP=ZR;var Yw="@firebase/auth",Xw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rP(t){Zo(new go("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Fe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(t)},m=new yA(r,i,a,f);return jA(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zo(new go("auth-internal",e=>{const n=No(e.getProvider("auth").getImmediate());return(r=>new tP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(Yw,Xw,nP(t)),Ps(Yw,Xw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=300,iP=xE("authIdTokenMaxAge")||sP;let Jw=null;const oP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iP)return;const i=n?.token;Jw!==i&&(Jw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function aP(t=wv()){const e=mf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TA(t,{popupRedirectResolver:eP,persistence:[dR,ZA,e1]}),r=xE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=oP(a.toString());GA(n,c,()=>c(n.currentUser)),KA(n,d=>c(d))}}const i=gE("auth");return i&&kA(n,`http://${i}`),n}function lP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ds("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",lP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rP("Browser");var Zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yo,a1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function D(){}D.prototype=C.prototype,R.D=C.prototype,R.prototype=new D,R.prototype.constructor=R,R.C=function(L,V,U){for(var M=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)M[oe-2]=arguments[oe];return C.prototype[V].apply(L,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,C,D){D||(D=0);var L=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)L[V]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(V=0;16>V;++V)L[V]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=R.g[0],D=R.g[1],V=R.g[2];var U=R.g[3],M=C+(U^D&(V^U))+L[0]+3614090360&4294967295;C=D+(M<<7&4294967295|M>>>25),M=U+(V^C&(D^V))+L[1]+3905402710&4294967295,U=C+(M<<12&4294967295|M>>>20),M=V+(D^U&(C^D))+L[2]+606105819&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(C^V&(U^C))+L[3]+3250441966&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(U^D&(V^U))+L[4]+4118548399&4294967295,C=D+(M<<7&4294967295|M>>>25),M=U+(V^C&(D^V))+L[5]+1200080426&4294967295,U=C+(M<<12&4294967295|M>>>20),M=V+(D^U&(C^D))+L[6]+2821735955&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(C^V&(U^C))+L[7]+4249261313&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(U^D&(V^U))+L[8]+1770035416&4294967295,C=D+(M<<7&4294967295|M>>>25),M=U+(V^C&(D^V))+L[9]+2336552879&4294967295,U=C+(M<<12&4294967295|M>>>20),M=V+(D^U&(C^D))+L[10]+4294925233&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(C^V&(U^C))+L[11]+2304563134&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(U^D&(V^U))+L[12]+1804603682&4294967295,C=D+(M<<7&4294967295|M>>>25),M=U+(V^C&(D^V))+L[13]+4254626195&4294967295,U=C+(M<<12&4294967295|M>>>20),M=V+(D^U&(C^D))+L[14]+2792965006&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(C^V&(U^C))+L[15]+1236535329&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(V^U&(D^V))+L[1]+4129170786&4294967295,C=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(C^D))+L[6]+3225465664&4294967295,U=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(U^C))+L[11]+643717713&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^C&(V^U))+L[0]+3921069994&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(V^U&(D^V))+L[5]+3593408605&4294967295,C=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(C^D))+L[10]+38016083&4294967295,U=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(U^C))+L[15]+3634488961&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^C&(V^U))+L[4]+3889429448&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(V^U&(D^V))+L[9]+568446438&4294967295,C=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(C^D))+L[14]+3275163606&4294967295,U=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(U^C))+L[3]+4107603335&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^C&(V^U))+L[8]+1163531501&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(V^U&(D^V))+L[13]+2850285829&4294967295,C=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(C^D))+L[2]+4243563512&4294967295,U=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(U^C))+L[7]+1735328473&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^C&(V^U))+L[12]+2368359562&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(D^V^U)+L[5]+4294588738&4294967295,C=D+(M<<4&4294967295|M>>>28),M=U+(C^D^V)+L[8]+2272392833&4294967295,U=C+(M<<11&4294967295|M>>>21),M=V+(U^C^D)+L[11]+1839030562&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^C)+L[14]+4259657740&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(D^V^U)+L[1]+2763975236&4294967295,C=D+(M<<4&4294967295|M>>>28),M=U+(C^D^V)+L[4]+1272893353&4294967295,U=C+(M<<11&4294967295|M>>>21),M=V+(U^C^D)+L[7]+4139469664&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^C)+L[10]+3200236656&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(D^V^U)+L[13]+681279174&4294967295,C=D+(M<<4&4294967295|M>>>28),M=U+(C^D^V)+L[0]+3936430074&4294967295,U=C+(M<<11&4294967295|M>>>21),M=V+(U^C^D)+L[3]+3572445317&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^C)+L[6]+76029189&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(D^V^U)+L[9]+3654602809&4294967295,C=D+(M<<4&4294967295|M>>>28),M=U+(C^D^V)+L[12]+3873151461&4294967295,U=C+(M<<11&4294967295|M>>>21),M=V+(U^C^D)+L[15]+530742520&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^C)+L[2]+3299628645&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(V^(D|~U))+L[0]+4096336452&4294967295,C=D+(M<<6&4294967295|M>>>26),M=U+(D^(C|~V))+L[7]+1126891415&4294967295,U=C+(M<<10&4294967295|M>>>22),M=V+(C^(U|~D))+L[14]+2878612391&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~C))+L[5]+4237533241&4294967295,D=V+(M<<21&4294967295|M>>>11),M=C+(V^(D|~U))+L[12]+1700485571&4294967295,C=D+(M<<6&4294967295|M>>>26),M=U+(D^(C|~V))+L[3]+2399980690&4294967295,U=C+(M<<10&4294967295|M>>>22),M=V+(C^(U|~D))+L[10]+4293915773&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~C))+L[1]+2240044497&4294967295,D=V+(M<<21&4294967295|M>>>11),M=C+(V^(D|~U))+L[8]+1873313359&4294967295,C=D+(M<<6&4294967295|M>>>26),M=U+(D^(C|~V))+L[15]+4264355552&4294967295,U=C+(M<<10&4294967295|M>>>22),M=V+(C^(U|~D))+L[6]+2734768916&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~C))+L[13]+1309151649&4294967295,D=V+(M<<21&4294967295|M>>>11),M=C+(V^(D|~U))+L[4]+4149444226&4294967295,C=D+(M<<6&4294967295|M>>>26),M=U+(D^(C|~V))+L[11]+3174756917&4294967295,U=C+(M<<10&4294967295|M>>>22),M=V+(C^(U|~D))+L[2]+718787259&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~C))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var D=C-this.blockSize,L=this.B,V=this.h,U=0;U<C;){if(V==0)for(;U<=D;)i(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<C;)if(L[V++]=R.charCodeAt(U++),V==this.blockSize){i(this,L),V=0;break}}else for(;U<C;)if(L[V++]=R[U++],V==this.blockSize){i(this,L),V=0;break}}this.h=V,this.o+=C},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var D=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=D&255,D/=256;for(this.u(R),R=Array(16),C=D=0;4>C;++C)for(var L=0;32>L;L+=8)R[D++]=this.g[C]>>>L&255;return R};function a(R,C){var D=d;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=C(R)}function c(R,C){this.h=C;for(var D=[],L=!0,V=R.length-1;0<=V;V--){var U=R[V]|0;L&&U==C||(D[V]=U,L=!1)}this.g=D}var d={};function f(R){return-128<=R&&128>R?a(R,function(C){return new c([C|0],0>C?-1:0)}):new c([R|0],0>R?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return g;if(0>R)return S(m(-R));for(var C=[],D=1,L=0;R>=D;L++)C[L]=R/D|0,D*=4294967296;return new c(C,0)}function v(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return S(v(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=m(Math.pow(C,8)),L=g,V=0;V<R.length;V+=8){var U=Math.min(8,R.length-V),M=parseInt(R.substring(V,V+U),C);8>U?(U=m(Math.pow(C,U)),L=L.j(U).add(m(M))):(L=L.j(D),L=L.add(m(M)))}return L}var g=f(0),_=f(1),b=f(16777216);t=c.prototype,t.m=function(){if(T(this))return-S(this).m();for(var R=0,C=1,D=0;D<this.g.length;D++){var L=this.i(D);R+=(0<=L?L:4294967296+L)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(j(this))return"0";if(T(this))return"-"+S(this).toString(R);for(var C=m(Math.pow(R,6)),D=this,L="";;){var V=B(D,C).g;D=k(D,V.j(C));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(R);if(D=V,j(D))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function j(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function T(R){return R.h==-1}t.l=function(R){return R=k(this,R),T(R)?-1:j(R)?0:1};function S(R){for(var C=R.g.length,D=[],L=0;L<C;L++)D[L]=~R.g[L];return new c(D,~R.h).add(_)}t.abs=function(){return T(this)?S(this):this},t.add=function(R){for(var C=Math.max(this.g.length,R.g.length),D=[],L=0,V=0;V<=C;V++){var U=L+(this.i(V)&65535)+(R.i(V)&65535),M=(U>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);L=M>>>16,U&=65535,M&=65535,D[V]=M<<16|U}return new c(D,D[D.length-1]&-2147483648?-1:0)};function k(R,C){return R.add(S(C))}t.j=function(R){if(j(this)||j(R))return g;if(T(this))return T(R)?S(this).j(S(R)):S(S(this).j(R));if(T(R))return S(this.j(S(R)));if(0>this.l(b)&&0>R.l(b))return m(this.m()*R.m());for(var C=this.g.length+R.g.length,D=[],L=0;L<2*C;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<R.g.length;V++){var U=this.i(L)>>>16,M=this.i(L)&65535,oe=R.i(V)>>>16,_e=R.i(V)&65535;D[2*L+2*V]+=M*_e,P(D,2*L+2*V),D[2*L+2*V+1]+=U*_e,P(D,2*L+2*V+1),D[2*L+2*V+1]+=M*oe,P(D,2*L+2*V+1),D[2*L+2*V+2]+=U*oe,P(D,2*L+2*V+2)}for(L=0;L<C;L++)D[L]=D[2*L+1]<<16|D[2*L];for(L=C;L<2*C;L++)D[L]=0;return new c(D,0)};function P(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function O(R,C){this.g=R,this.h=C}function B(R,C){if(j(C))throw Error("division by zero");if(j(R))return new O(g,g);if(T(R))return C=B(S(R),C),new O(S(C.g),S(C.h));if(T(C))return C=B(R,S(C)),new O(S(C.g),C.h);if(30<R.g.length){if(T(R)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var D=_,L=C;0>=L.l(R);)D=K(D),L=K(L);var V=J(D,1),U=J(L,1);for(L=J(L,2),D=J(D,2);!j(L);){var M=U.add(L);0>=M.l(R)&&(V=V.add(D),U=M),L=J(L,1),D=J(D,1)}return C=k(R,V.j(C)),new O(V,C)}for(V=g;0<=R.l(C);){for(D=Math.max(1,Math.floor(R.m()/C.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=m(D),M=U.j(C);T(M)||0<M.l(R);)D-=L,U=m(D),M=U.j(C);j(U)&&(U=_),V=V.add(U),R=k(R,M)}return new O(V,R)}t.A=function(R){return B(this,R).h},t.and=function(R){for(var C=Math.max(this.g.length,R.g.length),D=[],L=0;L<C;L++)D[L]=this.i(L)&R.i(L);return new c(D,this.h&R.h)},t.or=function(R){for(var C=Math.max(this.g.length,R.g.length),D=[],L=0;L<C;L++)D[L]=this.i(L)|R.i(L);return new c(D,this.h|R.h)},t.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),D=[],L=0;L<C;L++)D[L]=this.i(L)^R.i(L);return new c(D,this.h^R.h)};function K(R){for(var C=R.g.length+1,D=[],L=0;L<C;L++)D[L]=R.i(L)<<1|R.i(L-1)>>>31;return new c(D,R.h)}function J(R,C){var D=C>>5;C%=32;for(var L=R.g.length-D,V=[],U=0;U<L;U++)V[U]=0<C?R.i(U+D)>>>C|R.i(U+D+1)<<32-C:R.i(U+D);return new c(V,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Yo=c}).apply(typeof Zw<"u"?Zw:typeof self<"u"?self:typeof window<"u"?window:{});var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l1,Sc,c1,vh,kg,u1,d1,h1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,N){return h==Array.prototype||h==Object.prototype||(h[x]=N.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yd=="object"&&Yd];for(var x=0;x<h.length;++x){var N=h[x];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(h,x){if(x)e:{var N=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var W=h[A];if(!(W in N))break e;N=N[W]}h=h[h.length-1],A=N[h],x=x(A),x!=A&&x!=null&&e(N,h,{configurable:!0,writable:!0,value:x})}}function a(h,x){h instanceof String&&(h+="");var N=0,A=!1,W={next:function(){if(!A&&N<h.length){var ee=N++;return{value:x(ee,h[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(h){return h||function(){return a(this,function(x,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function m(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function v(h,x,N){return h.call.apply(h.bind,arguments)}function g(h,x,N){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,A),h.apply(x,W)}}return function(){return h.apply(x,arguments)}}function _(h,x,N){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:g,_.apply(null,arguments)}function b(h,x){var N=Array.prototype.slice.call(arguments,1);return function(){var A=N.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function j(h,x){function N(){}N.prototype=x.prototype,h.aa=x.prototype,h.prototype=new N,h.prototype.constructor=h,h.Qb=function(A,W,ee){for(var pe=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)pe[mt-2]=arguments[mt];return x.prototype[W].apply(A,pe)}}function T(h){const x=h.length;if(0<x){const N=Array(x);for(let A=0;A<x;A++)N[A]=h[A];return N}return[]}function S(h,x){for(let N=1;N<arguments.length;N++){const A=arguments[N];if(f(A)){const W=h.length||0,ee=A.length||0;h.length=W+ee;for(let pe=0;pe<ee;pe++)h[W+pe]=A[pe]}else h.push(A)}}class k{constructor(x,N){this.i=x,this.j=N,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function P(h){return/^[\s\xa0]*$/.test(h)}function O(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function B(h){return B[" "](h),h}B[" "]=function(){};var K=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function J(h,x,N){for(const A in h)x.call(N,h[A],A,h)}function R(h,x){for(const N in h)x.call(void 0,h[N],N,h)}function C(h){const x={};for(const N in h)x[N]=h[N];return x}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,x){let N,A;for(let W=1;W<arguments.length;W++){A=arguments[W];for(N in A)h[N]=A[N];for(let ee=0;ee<D.length;ee++)N=D[ee],Object.prototype.hasOwnProperty.call(A,N)&&(h[N]=A[N])}}function V(h){var x=1;h=h.split(":");const N=[];for(;0<x&&h.length;)N.push(h.shift()),x--;return h.length&&N.push(h.join(":")),N}function U(h){d.setTimeout(()=>{throw h},0)}function M(){var h=Q;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class oe{constructor(){this.h=this.g=null}add(x,N){const A=_e.get();A.set(x,N),this.h?this.h.next=A:this.g=A,this.h=A}}var _e=new k(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(x,N){this.h=x,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let he,Y=!1,Q=new oe,ne=()=>{const h=d.Promise.resolve(void 0);he=()=>{h.then(z)}};var z=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(N){U(N)}var x=_e;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}Y=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var fe=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};d.addEventListener("test",N,x),d.removeEventListener("test",N,x)}catch{}return h})();function xe(h,x){if(se.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var N=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(K){e:{try{B(x.nodeName);var W=!0;break e}catch{}W=!1}W||(x=null)}}else N=="mouseover"?x=h.fromElement:N=="mouseout"&&(x=h.toElement);this.relatedTarget=x,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ee[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xe.aa.h.call(this)}}j(xe,se);var Ee={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Le(h,x,N,A,W){this.listener=h,this.proxy=null,this.src=x,this.type=N,this.capture=!!A,this.ha=W,this.key=++ge,this.da=this.fa=!1}function Ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function $e(h){this.src=h,this.g={},this.h=0}$e.prototype.add=function(h,x,N,A,W){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var pe=qe(h,x,A,W);return-1<pe?(x=h[pe],N||(x.fa=!1)):(x=new Le(x,this.src,ee,!!A,W),x.fa=N,h.push(x)),x};function ve(h,x){var N=x.type;if(N in h.g){var A=h.g[N],W=Array.prototype.indexOf.call(A,x,void 0),ee;(ee=0<=W)&&Array.prototype.splice.call(A,W,1),ee&&(Ge(x),h.g[N].length==0&&(delete h.g[N],h.h--))}}function qe(h,x,N,A){for(var W=0;W<h.length;++W){var ee=h[W];if(!ee.da&&ee.listener==x&&ee.capture==!!N&&ee.ha==A)return W}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),wt={};function qt(h,x,N,A,W){if(Array.isArray(x)){for(var ee=0;ee<x.length;ee++)qt(h,x[ee],N,A,W);return null}return N=Ie(N),h&&h[we]?h.K(x,N,m(A)?!!A.capture:!1,W):vt(h,x,N,!1,A,W)}function vt(h,x,N,A,W,ee){if(!x)throw Error("Invalid event type");var pe=m(W)?!!W.capture:!!W,mt=ln(h);if(mt||(h[Ze]=mt=new $e(h)),N=mt.add(x,N,A,pe,ee),N.proxy)return N;if(A=on(),N.proxy=A,A.src=h,A.listener=N,h.addEventListener)fe||(W=pe),W===void 0&&(W=!1),h.addEventListener(x.toString(),A,W);else if(h.attachEvent)h.attachEvent(an(x.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return N}function on(){function h(N){return x.call(h.src,h.listener,N)}const x=kt;return h}function ft(h,x,N,A,W){if(Array.isArray(x))for(var ee=0;ee<x.length;ee++)ft(h,x[ee],N,A,W);else A=m(A)?!!A.capture:!!A,N=Ie(N),h&&h[we]?(h=h.i,x=String(x).toString(),x in h.g&&(ee=h.g[x],N=qe(ee,N,A,W),-1<N&&(Ge(ee[N]),Array.prototype.splice.call(ee,N,1),ee.length==0&&(delete h.g[x],h.h--)))):h&&(h=ln(h))&&(x=h.g[x.toString()],h=-1,x&&(h=qe(x,N,A,W)),(N=-1<h?x[h]:null)&&Pt(N))}function Pt(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[we])ve(x.i,h);else{var N=h.type,A=h.proxy;x.removeEventListener?x.removeEventListener(N,A,h.capture):x.detachEvent?x.detachEvent(an(N),A):x.addListener&&x.removeListener&&x.removeListener(A),(N=ln(x))?(ve(N,h),N.h==0&&(N.src=null,x[Ze]=null)):Ge(h)}}}function an(h){return h in wt?wt[h]:wt[h]="on"+h}function kt(h,x){if(h.da)h=!0;else{x=new xe(x,this);var N=h.listener,A=h.ha||h.src;h.fa&&Pt(h),h=N.call(A,x)}return h}function ln(h){return h=h[Ze],h instanceof $e?h:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(h){return typeof h=="function"?h:(h[me]||(h[me]=function(x){return h.handleEvent(x)}),h[me])}function Ve(){Z.call(this),this.i=new $e(this),this.M=this,this.F=null}j(Ve,Z),Ve.prototype[we]=!0,Ve.prototype.removeEventListener=function(h,x,N,A){ft(this,h,x,N,A)};function Qe(h,x){var N,A=h.F;if(A)for(N=[];A;A=A.F)N.push(A);if(h=h.M,A=x.type||x,typeof x=="string")x=new se(x,h);else if(x instanceof se)x.target=x.target||h;else{var W=x;x=new se(A,h),L(x,W)}if(W=!0,N)for(var ee=N.length-1;0<=ee;ee--){var pe=x.g=N[ee];W=yt(pe,A,!0,x)&&W}if(pe=x.g=h,W=yt(pe,A,!0,x)&&W,W=yt(pe,A,!1,x)&&W,N)for(ee=0;ee<N.length;ee++)pe=x.g=N[ee],W=yt(pe,A,!1,x)&&W}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var N=h.g[x],A=0;A<N.length;A++)Ge(N[A]);delete h.g[x],h.h--}}this.F=null},Ve.prototype.K=function(h,x,N,A){return this.i.add(String(h),x,!1,N,A)},Ve.prototype.L=function(h,x,N,A){return this.i.add(String(h),x,!0,N,A)};function yt(h,x,N,A){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var W=!0,ee=0;ee<x.length;++ee){var pe=x[ee];if(pe&&!pe.da&&pe.capture==N){var mt=pe.listener,dn=pe.ha||pe.src;pe.fa&&ve(h.i,pe),W=mt.call(dn,A)!==!1&&W}}return W&&!A.defaultPrevented}function cn(h,x,N){if(typeof h=="function")N&&(h=_(h,N));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:d.setTimeout(h,x||0)}function pt(h){h.g=cn(()=>{h.g=null,h.i&&(h.i=!1,pt(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class vn extends Z{constructor(x,N){super(),this.m=x,this.l=N,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(h){Z.call(this),this.h=h,this.g={}}j(Wt,Z);var Ln=[];function tr(h){J(h.g,function(x,N){this.g.hasOwnProperty(N)&&Pt(x)},h),h.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),tr(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=d.JSON.stringify,rr=d.JSON.parse,xr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Sn(){}Sn.prototype.h=null;function en(h){return h.h||(h.h=h.i())}function fs(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){se.call(this,"d")}j(Fn,se);function Rr(){se.call(this,"c")}j(Rr,se);var Pe={},_t=null;function bt(){return _t=_t||new Ve}Pe.La="serverreachability";function Yt(h){se.call(this,Pe.La,h)}j(Yt,se);function sr(h){const x=bt();Qe(x,new Yt(x))}Pe.STAT_EVENT="statevent";function Lt(h,x){se.call(this,Pe.STAT_EVENT,h),this.stat=x}j(Lt,se);function nt(h){const x=bt();Qe(x,new Lt(x,h))}Pe.Ma="timingevent";function Kr(h,x){se.call(this,Pe.Ma,h),this.size=x}j(Kr,se);function Ft(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},x)}function un(){this.g=!0}un.prototype.xa=function(){this.g=!1};function ps(h,x,N,A,W,ee){h.info(function(){if(h.g)if(ee)for(var pe="",mt=ee.split("&"),dn=0;dn<mt.length;dn++){var rt=mt[dn].split("=");if(1<rt.length){var yn=rt[0];rt=rt[1];var tn=yn.split("_");pe=2<=tn.length&&tn[1]=="type"?pe+(yn+"="+rt+"&"):pe+(yn+"=redacted&")}}else pe=null;else pe=ee;return"XMLHTTP REQ ("+A+") [attempt "+W+"]: "+x+`
`+N+`
`+pe})}function ir(h,x,N,A,W,ee,pe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+W+"]: "+x+`
`+N+`
`+ee+" "+pe})}function Pr(h,x,N,A){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+sp(h,N)+(A?" "+A:"")})}function Ml(h,x){h.info(function(){return"TIMEOUT: "+x})}un.prototype.info=function(){};function sp(h,x){if(!h.g)return x;if(!x)return null;try{var N=JSON.parse(x);if(N){for(h=0;h<N.length;h++)if(Array.isArray(N[h])){var A=N[h];if(!(2>A.length)){var W=A[1];if(Array.isArray(W)&&!(1>W.length)){var ee=W[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var pe=1;pe<W.length;pe++)W[pe]=""}}}}return nr(N)}catch{return x}}var ma={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gr;function To(){}j(To,Sn),To.prototype.g=function(){return new XMLHttpRequest},To.prototype.i=function(){return{}},Gr=new To;function Qr(h,x,N,A){this.j=h,this.i=x,this.l=N,this.R=A||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Du}function Du(){this.i=null,this.g="",this.h=!1}var Ll={},ga={};function va(h,x,N){h.L=1,h.v=Pi(_r(x)),h.m=N,h.P=!0,Fl(h,null)}function Fl(h,x){h.F=Date.now(),St(h),h.A=_r(h.v);var N=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Oi(N.i,"t",A),h.C=0,N=h.j.J,h.h=new Du,h.g=Ju(h.j,N?x:null,!h.m),0<h.O&&(h.M=new vn(_(h.Y,h,h.g),h.O)),x=h.U,N=h.g,A=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(Ln[0]=W.toString()),W=Ln);for(var ee=0;ee<W.length;ee++){var pe=qt(N,W[ee],A||x.handleEvent,!1,x.h||x);if(!pe)break;x.g[pe.key]=pe}x=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),sr(),ps(h.i,h.u,h.A,h.l,h.R,h.m)}Qr.prototype.ca=function(h){h=h.target;const x=this.M;x&&ar(h)==3?x.j():this.Y(h)},Qr.prototype.Y=function(h){try{if(h==this.g)e:{const tn=ar(this.g);var x=this.g.Ba();const Mr=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||ql(this.g)))){this.J||tn!=4||x==7||(x==8||0>=Mr?sr(3):sr(2)),jo(this);var N=this.g.Z();this.X=N;t:if(Ou(this)){var A=ql(this.g);h="";var W=A.length,ee=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),Ii(this);var pe="";break t}this.h.i=new d.TextDecoder}for(x=0;x<W;x++)this.h.h=!0,h+=this.h.i.decode(A[x],{stream:!(ee&&x==W-1)});A.length=0,this.h.g+=h,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=N==200,ir(this.i,this.u,this.A,this.l,this.R,tn,N),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,dn=this.g;if((mt=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(mt)){var rt=mt;break t}}rt=null}if(N=rt)Pr(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vl(this,N);else{this.o=!1,this.s=3,nt(12),Dr(this),Ii(this);break e}}if(this.P){N=!0;let Er;for(;!this.J&&this.C<pe.length;)if(Er=ip(this,pe),Er==ga){tn==4&&(this.s=4,nt(14),N=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Er==Ll){this.s=4,nt(15),Pr(this.i,this.l,pe,"[Invalid Chunk]"),N=!1;break}else Pr(this.i,this.l,Er,null),Vl(this,Er);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||pe.length!=0||this.h.h||(this.s=1,nt(16),N=!1),this.o=this.o&&N,!N)Pr(this.i,this.l,pe,"[Invalid Chunked Response]"),Dr(this),Ii(this);else if(0<pe.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Hl(yn),yn.M=!0,nt(11))}}else Pr(this.i,this.l,pe,null),Vl(this,pe);tn==4&&Dr(this),this.o&&!this.J&&(tn==4?ka(this.j,this):(this.o=!1,St(this)))}else Ea(this.g),N==400&&0<pe.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Dr(this),Ii(this)}}}catch{}finally{}};function Ou(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ip(h,x){var N=h.C,A=x.indexOf(`
`,N);return A==-1?ga:(N=Number(x.substring(N,A)),isNaN(N)?Ll:(A+=1,A+N>x.length?ga:(x=x.slice(A,A+N),h.C=A+N,x)))}Qr.prototype.cancel=function(){this.J=!0,Dr(this)};function St(h){h.S=Date.now()+h.I,Mu(h,h.I)}function Mu(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ft(_(h.ba,h),x)}function jo(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Qr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ml(this.i,this.A),this.L!=2&&(sr(),nt(17)),Dr(this),this.s=2,Ii(this)):Mu(this,this.S-h)};function Ii(h){h.j.G==0||h.J||ka(h.j,h)}function Dr(h){jo(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,tr(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function Vl(h,x){try{var N=h.j;if(N.G!=0&&(N.g==h||Qn(N.h,h))){if(!h.K&&Qn(N.h,h)&&N.G==3){try{var A=N.Da.g.parse(x)}catch{A=null}if(Array.isArray(A)&&A.length==3){var W=A;if(W[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<h.F)ja(N),es(N);else break e;Ta(N),nt(18)}}else N.za=W[1],0<N.za-N.T&&37500>W[2]&&N.F&&N.v==0&&!N.C&&(N.C=Ft(_(N.Za,N),6e3));if(1>=Fu(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Xs(N,11)}else if((h.K||N.g==h)&&ja(N),!P(x))for(W=N.Da.g.parse(x),x=0;x<W.length;x++){let rt=W[x];if(N.T=rt[0],rt=rt[1],N.G==2)if(rt[0]=="c"){N.K=rt[1],N.ia=rt[2];const yn=rt[3];yn!=null&&(N.la=yn,N.j.info("VER="+N.la));const tn=rt[4];tn!=null&&(N.Aa=tn,N.j.info("SVER="+N.Aa));const Mr=rt[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(A=1.5*Mr,N.L=A,N.j.info("backChannelRequestTimeoutMs_="+A)),A=N;const Er=h.g;if(Er){const Do=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Do){var ee=A.h;ee.g||Do.indexOf("spdy")==-1&&Do.indexOf("quic")==-1&&Do.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ul(ee,ee.h),ee.h=null))}if(A.D){const Ca=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(A.ya=Ca,Et(A.I,A.D,Ca))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-h.F,N.j.info("Handshake RTT: "+N.R+"ms")),A=N;var pe=h;if(A.qa=Xu(A,A.J?A.ia:null,A.W),pe.K){Vu(A.h,pe);var mt=pe,dn=A.L;dn&&(mt.I=dn),mt.B&&(jo(mt),St(mt)),A.g=pe}else Po(A);0<N.i.length&&ys(N)}else rt[0]!="stop"&&rt[0]!="close"||Xs(N,7);else N.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Xs(N,7):kn(N):rt[0]!="noop"&&N.l&&N.l.ta(rt),N.v=0)}}sr(4)}catch{}}var Lu=class{constructor(h,x){this.g=h,this.map=x}};function ko(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Fu(h){return h.h?1:h.g?h.g.size:0}function Qn(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Ul(h,x){h.g?h.g.add(x):h.h=x}function Vu(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}ko.prototype.cancel=function(){if(this.i=Uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Uu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const N of h.g.values())x=x.concat(N.D);return x}return T(h.i)}function ya(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var x=[],N=h.length,A=0;A<N;A++)x.push(h[A]);return x}x=[],N=0;for(A in h)x[N++]=h[A];return x}function xa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var x=[];h=h.length;for(var N=0;N<h;N++)x.push(N);return x}x=[],N=0;for(const A in h)x[N++]=A;return x}}}function Ci(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var N=xa(h),A=ya(h),W=A.length,ee=0;ee<W;ee++)x.call(void 0,A[ee],N&&N[ee],h)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function op(h,x){if(h){h=h.split("&");for(var N=0;N<h.length;N++){var A=h[N].indexOf("="),W=null;if(0<=A){var ee=h[N].substring(0,A);W=h[N].substring(A+1)}else ee=h[N];x(ee,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ks(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ks){this.h=h.h,Co(this,h.j),this.o=h.o,this.g=h.g,Ai(this,h.s),this.l=h.l;var x=h.i,N=new ms;N.i=x.i,x.g&&(N.g=new Map(x.g),N.h=x.h),Ri(this,N),this.m=h.m}else h&&(x=String(h).match(Io))?(this.h=!1,Co(this,x[1]||"",!0),this.o=et(x[2]||""),this.g=et(x[3]||"",!0),Ai(this,x[4]),this.l=et(x[5]||"",!0),Ri(this,x[6]||"",!0),this.m=et(x[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}Ks.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Di(x,wa,!0),":");var N=this.g;return(N||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Di(x,wa,!0),"@"),h.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&h.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(Di(N,N.charAt(0)=="/"?$u:zu,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",Di(N,Bl)),h.join("")};function _r(h){return new Ks(h)}function Co(h,x,N){h.j=N?et(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Ai(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function Ri(h,x,N){x instanceof ms?(h.i=x,gs(h.i,h.h)):(N||(x=Di(x,qu)),h.i=new ms(x,h.h))}function Et(h,x,N){h.i.set(x,N)}function Pi(h){return Et(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function et(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Di(h,x,N){return typeof h=="string"?(h=encodeURI(h).replace(x,Bu),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Bu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wa=/[#\/\?@]/g,zu=/[#\?:]/g,$u=/[#\?]/g,qu=/[#\?@]/g,Bl=/#/g;function ms(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&op(h.i,function(x,N){h.add(decodeURIComponent(x.replace(/\+/g," ")),N)}))}t=ms.prototype,t.add=function(h,x){jn(this),this.i=null,h=Or(this,h);var N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(x),this.h+=1,this};function Yr(h,x){jn(h),x=Or(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Xr(h,x){return jn(h),x=Or(h,x),h.g.has(x)}t.forEach=function(h,x){jn(this),this.g.forEach(function(N,A){N.forEach(function(W){h.call(x,W,A,this)},this)},this)},t.na=function(){jn(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),N=[];for(let A=0;A<x.length;A++){const W=h[A];for(let ee=0;ee<W.length;ee++)N.push(x[A])}return N},t.V=function(h){jn(this);let x=[];if(typeof h=="string")Xr(this,h)&&(x=x.concat(this.g.get(Or(this,h))));else{h=Array.from(this.g.values());for(let N=0;N<h.length;N++)x=x.concat(h[N])}return x},t.set=function(h,x){return jn(this),this.i=null,h=Or(this,h),Xr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function Oi(h,x,N){Yr(h,x),0<N.length&&(h.i=null,h.g.set(Or(h,x),T(N)),h.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var N=0;N<x.length;N++){var A=x[N];const ee=encodeURIComponent(String(A)),pe=this.V(A);for(A=0;A<pe.length;A++){var W=ee;pe[A]!==""&&(W+="="+encodeURIComponent(String(pe[A]))),h.push(W)}}return this.i=h.join("&")};function Or(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function gs(h,x){x&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(N,A){var W=A.toLowerCase();A!=W&&(Yr(this,A),Oi(this,W,N))},h)),h.j=x}function ap(h,x){const N=new un;if(d.Image){const A=new Image;A.onload=b(or,N,"TestLoadImage: loaded",!0,x,A),A.onerror=b(or,N,"TestLoadImage: error",!1,x,A),A.onabort=b(or,N,"TestLoadImage: abort",!1,x,A),A.ontimeout=b(or,N,"TestLoadImage: timeout",!1,x,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else x(!1)}function Wu(h,x){const N=new un,A=new AbortController,W=setTimeout(()=>{A.abort(),or(N,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:A.signal}).then(ee=>{clearTimeout(W),ee.ok?or(N,"TestPingServer: ok",!0,x):or(N,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(W),or(N,"TestPingServer: error",!1,x)})}function or(h,x,N,A,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),A(N)}catch{}}function lp(){this.g=new xr}function Hu(h,x,N){const A=N||"";try{Ci(h,function(W,ee){let pe=W;m(W)&&(pe=nr(W)),x.push(A+ee+"="+encodeURIComponent(pe))})}catch(W){throw x.push(A+"type="+encodeURIComponent("_badmap")),W}}function Gs(h){this.l=h.Ub||null,this.j=h.eb||!1}j(Gs,Sn),Gs.prototype.g=function(){return new Ao(this.l,this.j)},Gs.prototype.i=(function(h){return function(){return h}})({});function Ao(h,x){Ve.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Ao,Ve),t=Ao.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,Zr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||d).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ku(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ku(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Jr(this):Zr(this),this.readyState==3&&Ku(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Jr(this))},t.Qa=function(h){this.g&&(this.response=h,Jr(this))},t.ga=function(){this.g&&Jr(this)};function Jr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Zr(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var N=x.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=x.next();return h.join(`\r
`)};function Zr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Qs(h){let x="";return J(h,function(N,A){x+=A,x+=":",x+=N,x+=`\r
`}),x}function Mi(h,x,N){e:{for(A in N){var A=!1;break e}A=!0}A||(N=Qs(N),typeof h=="string"?N!=null&&encodeURIComponent(String(N)):Et(h,x,N))}function Dt(h){Ve.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Dt,Ve);var cp=/^https?$/i,zl=["POST","PUT"];t=Dt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,N,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gr.g(),this.v=this.o?en(this.o):en(Gr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(ee){Ro(this,ee);return}if(h=N||"",N=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var W in A)N.set(W,A[W]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())N.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(N.keys()).find(ee=>ee.toLowerCase()=="content-type"),W=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(zl,x,void 0))||A||W||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,pe]of N)this.g.setRequestHeader(ee,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){Ro(this,ee)}};function Ro(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,_a(h),br(h)}function _a(h){h.A||(h.A=!0,Qe(h,"complete"),Qe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Qe(this,"complete"),Qe(this,"abort"),br(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),Dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$l(this):this.bb())},t.bb=function(){$l(this)};function $l(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ar(h)!=4||h.Z()!=2)){if(h.u&&ar(h)==4)cn(h.Ea,0,h);else if(Qe(h,"readystatechange"),ar(h)==4){h.h=!1;try{const pe=h.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var N;if(!(N=x)){var A;if(A=pe===0){var W=String(h.D).match(Io)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),A=!cp.test(W?W.toLowerCase():"")}N=A}if(N)Qe(h,"complete"),Qe(h,"success");else{h.m=6;try{var ee=2<ar(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",_a(h)}}finally{br(h)}}}}function br(h,x){if(h.g){ba(h);const N=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Qe(h,"ready");try{N.onreadystatechange=A}catch{}}}function ba(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),rr(x)}};function ql(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ea(h){const x={};h=(h.g&&2<=ar(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(P(h[A]))continue;var N=V(h[A]);const W=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ee=x[W]||[];x[W]=ee,ee.push(N)}R(x,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(h,x,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||x}function Wl(h){this.Aa=0,this.i=[],this.j=new un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,h),this.cb=vs("retryDelaySeedMs",1e4,h),this.Wa=vs("forwardChannelMaxRetries",2,h),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ko(h&&h.concurrentRequestLimit),this.Da=new lp,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wl.prototype,t.la=8,t.G=1,t.connect=function(h,x,N,A){nt(0),this.W=h,this.H=x||{},N&&A!==void 0&&(this.H.OSID=N,this.H.OAID=A),this.F=this.X,this.I=Xu(this,null,this.W),ys(this)};function kn(h){if(Na(h),h.G==3){var x=h.U++,N=_r(h.I);if(Et(N,"SID",h.K),Et(N,"RID",x),Et(N,"TYPE","terminate"),Ys(h,N),x=new Qr(h,h.j,x),x.L=2,x.v=Pi(_r(N)),N=!1,d.navigator&&d.navigator.sendBeacon)try{N=d.navigator.sendBeacon(x.v.toString(),"")}catch{}!N&&d.Image&&(new Image().src=x.v,N=!0),N||(x.g=Ju(x.j,null),x.g.ea(x.v)),x.F=Date.now(),St(x)}Yu(h)}function es(h){h.g&&(Hl(h),h.g.cancel(),h.g=null)}function Na(h){es(h),h.u&&(d.clearTimeout(h.u),h.u=null),ja(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function ys(h){if(!wr(h.h)&&!h.s){h.s=!0;var x=h.Ga;he||ne(),Y||(he(),Y=!0),Q.add(x,h),h.B=0}}function up(h,x){return Fu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ft(_(h.Ga,h,x),Qu(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new Qr(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=C(ee),L(ee,this.S)):ee=this.S),this.m!==null||this.O||(W.H=ee,ee=null),this.P)e:{for(var x=0,N=0;N<this.i.length;N++){t:{var A=this.i[N];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(x+=A,4096<x){x=N;break e}if(x===4096||N===this.i.length-1){x=N+1;break e}}x=1e3}else x=1e3;x=Li(this,W,x),N=_r(this.I),Et(N,"RID",h),Et(N,"CVER",22),this.D&&Et(N,"X-HTTP-Session-Id",this.D),Ys(this,N),ee&&(this.O?x="headers="+encodeURIComponent(String(Qs(ee)))+"&"+x:this.m&&Mi(N,this.m,ee)),Ul(this.h,W),this.Ua&&Et(N,"TYPE","init"),this.P?(Et(N,"$req",x),Et(N,"SID","null"),W.T=!0,va(W,N,null)):va(W,N,x),this.G=2}}else this.G==3&&(h?Sa(this,h):this.i.length==0||wr(this.h)||Sa(this))};function Sa(h,x){var N;x?N=x.l:N=h.U++;const A=_r(h.I);Et(A,"SID",h.K),Et(A,"RID",N),Et(A,"AID",h.T),Ys(h,A),h.m&&h.o&&Mi(A,h.m,h.o),N=new Qr(h,h.j,N,h.B+1),h.m===null&&(N.H=h.o),x&&(h.i=x.D.concat(h.i)),x=Li(h,N,1e3),N.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ul(h.h,N),va(N,A,x)}function Ys(h,x){h.H&&J(h.H,function(N,A){Et(x,A,N)}),h.l&&Ci({},function(N,A){Et(x,A,N)})}function Li(h,x,N){N=Math.min(h.i.length,N);var A=h.l?_(h.l.Na,h.l,h):null;e:{var W=h.i;let ee=-1;for(;;){const pe=["count="+N];ee==-1?0<N?(ee=W[0].g,pe.push("ofs="+ee)):ee=0:pe.push("ofs="+ee);let mt=!0;for(let dn=0;dn<N;dn++){let rt=W[dn].g;const yn=W[dn].map;if(rt-=ee,0>rt)ee=Math.max(0,W[dn].g-100),mt=!1;else try{Hu(yn,pe,"req"+rt+"_")}catch{A&&A(yn)}}if(mt){A=pe.join("&");break e}}}return h=h.i.splice(0,N),x.D=h,A}function Po(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;he||ne(),Y||(he(),Y=!0),Q.add(x,h),h.v=0}}function Ta(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ft(_(h.Fa,h),Qu(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ft(_(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),es(this),Gu(this))};function Hl(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Gu(h){h.g=new Qr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=_r(h.qa);Et(x,"RID","rpc"),Et(x,"SID",h.K),Et(x,"AID",h.T),Et(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&Et(x,"TO",h.ja),Et(x,"TYPE","xmlhttp"),Ys(h,x),h.m&&h.o&&Mi(x,h.m,h.o),h.L&&(h.g.I=h.L);var N=h.g;h=h.ia,N.L=1,N.v=Pi(_r(x)),N.m=null,N.P=!0,Fl(N,h)}t.Za=function(){this.C!=null&&(this.C=null,es(this),Ta(this),nt(19))};function ja(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function ka(h,x){var N=null;if(h.g==x){ja(h),Hl(h),h.g=null;var A=2}else if(Qn(h.h,x))N=x.D,Vu(h.h,x),A=1;else return;if(h.G!=0){if(x.o)if(A==1){N=x.m?x.m.length:0,x=Date.now()-x.F;var W=h.B;A=bt(),Qe(A,new Kr(A,N)),ys(h)}else Po(h);else if(W=x.s,W==3||W==0&&0<x.X||!(A==1&&up(h,x)||A==2&&Ta(h)))switch(N&&0<N.length&&(x=h.h,x.i=x.i.concat(N)),W){case 1:Xs(h,5);break;case 4:Xs(h,10);break;case 3:Xs(h,6);break;default:Xs(h,2)}}}function Qu(h,x){let N=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(N*=2),N*x}function Xs(h,x){if(h.j.info("Error code "+x),x==2){var N=_(h.fb,h),A=h.Xa;const W=!A;A=new Ks(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Co(A,"https"),Pi(A),W?ap(A.toString(),N):Wu(A.toString(),N)}else nt(2);h.G=0,h.l&&h.l.sa(x),Yu(h),Na(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Yu(h){if(h.G=0,h.ka=[],h.l){const x=Uu(h.h);(x.length!=0||h.i.length!=0)&&(S(h.ka,x),S(h.ka,h.i),h.h.i.length=0,T(h.i),h.i.length=0),h.l.ra()}}function Xu(h,x,N){var A=N instanceof Ks?_r(N):new Ks(N);if(A.g!="")x&&(A.g=x+"."+A.g),Ai(A,A.s);else{var W=d.location;A=W.protocol,x=x?x+"."+W.hostname:W.hostname,W=+W.port;var ee=new Ks(null);A&&Co(ee,A),x&&(ee.g=x),W&&Ai(ee,W),N&&(ee.l=N),A=ee}return N=h.D,x=h.ya,N&&x&&Et(A,N,x),Et(A,"VER",h.la),Ys(h,A),A}function Ju(h,x,N){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new Dt(new Gs({eb:N})):new Dt(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kl(){}t=Kl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ia(){}Ia.prototype.g=function(h,x){return new Yn(h,x)};function Yn(h,x){Ve.call(this),this.g=new Wl(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!P(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!P(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new xs(this)}j(Yn,Ve),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){kn(this.g)},Yn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.u&&(N={},N.__data__=nr(h),h=N);x.i.push(new Lu(x.Ya++,h)),x.G==3&&ys(x)},Yn.prototype.N=function(){this.g.l=null,delete this.j,kn(this.g),delete this.g,Yn.aa.N.call(this)};function Zu(h){Fn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const N in x){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}j(Zu,Fn);function ed(){Rr.call(this),this.status=1}j(ed,Rr);function xs(h){this.g=h}j(xs,Kl),xs.prototype.ua=function(){Qe(this.g,"a")},xs.prototype.ta=function(h){Qe(this.g,new Zu(h))},xs.prototype.sa=function(h){Qe(this.g,new ed)},xs.prototype.ra=function(){Qe(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,h1=function(){return new Ia},d1=function(){return bt()},u1=Pe,kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,vh=ma,Pu.COMPLETE="complete",c1=Pu,fs.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,Sc=fs,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,l1=Dt}).apply(typeof Yd<"u"?Yd:typeof self<"u"?self:typeof window<"u"?window:{});const e_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new yv("@firebase/firestore");function yc(){return na.logLevel}function je(t,...e){if(na.logLevel<=tt.DEBUG){const n=e.map(Iv);na.debug(`Firestore (${Il}): ${t}`,...n)}}function xi(t,...e){if(na.logLevel<=tt.ERROR){const n=e.map(Iv);na.error(`Firestore (${Il}): ${t}`,...n)}}function pl(t,...e){if(na.logLevel<=tt.WARN){const n=e.map(Iv);na.warn(`Firestore (${Il}): ${t}`,...n)}}function Iv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t="Unexpected state"){const e=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: `+t;throw xi(e),new Error(e)}function gt(t,e){t||Be()}function Ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends $s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qn.UNAUTHENTICATED)))}shutdown(){}}class uP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dP{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new mi,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new mi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string"),new f1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string"),new qn(e)}}class hP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){gt(this.o===void 0);const r=a=>{a.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(gt(typeof n.token=="string"),this.R=n.token,new pP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gP(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function ml(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.timestamp=e}static fromTimestamp(e){return new We(e)}static min(){return new We(new gn(0,0))}static max(){return new We(new gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(),r===void 0?r=e.length-n:r>e.length-n&&Be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),c=n.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class jt extends zc{construct(e,n,r){return new jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const vP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends zc{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return vP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ye(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new ye(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(a(),i++)}if(a(),c)throw new ye(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(jt.fromString(e))}static fromName(e){return new Re(jt.fromString(e).popFirst(5))}static empty(){return new Re(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new jt(e.slice()))}}function yP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=We.fromTimestamp(r===1e9?new gn(n+1,0):new gn(n,r));return new vo(i,Re.empty(),e)}function xP(t){return new vo(t.readTime,t.key,-1)}class vo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vo(We.min(),Re.empty(),-1)}static max(){return new vo(We.max(),Re.empty(),-1)}}function wP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==_P)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let i=0,a=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++a,c&&a===i&&n()}),(f=>r(f)))})),c=!0,a===i&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((i=>i?le.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,i)=>{const a=e.length,c=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;n(e[m]).next((v=>{c[m]=v,++d,d===a&&r(c)}),(v=>i(v)))}}))}static doWhile(e,n){return new le(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function EP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cv.oe=-1;function xf(t){return t==null}function Vh(t){return t===0&&1/t==-1/0}function NP(t){return typeof t=="number"&&Number.isInteger(t)&&!Vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??An.RED,this.left=i??An.EMPTY,this.right=a??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new An(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return An.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Be();const e=this.left.check();if(e!==this.right.check())throw Be();return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Be()}get value(){throw Be()}get color(){throw Be()}get left(){throw Be()}get right(){throw Be()}copy(e,n,r,i,a){return this}insert(e,n,r){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new kr([])}unionWith(e){let n=new Dn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new g1("Invalid base64 string: "+a):a}})(e);return new On(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a})(e);return new On(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const SP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(t){if(gt(!!t),typeof t=="string"){let e=0;const n=SP.exec(t);if(gt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ra(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Av(t){const e=t.mapValue.fields.__previous_value__;return wf(e)?Av(e):e}function $c(t){const e=yo(t.mapValue.fields.__local_write_time__.timestampValue);return new gn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,i,a,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}class qc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd={mapValue:{}};function sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wf(t)?4:kP(t)?9007199254740991:jP(t)?10:11:Be()}function Vs(t,e){if(t===e)return!0;const n=sa(t);if(n!==sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $c(t).isEqual($c(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=yo(i.timestampValue),d=yo(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ra(i.bytesValue).isEqual(ra(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Jt(i.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Jt(i.integerValue)===Jt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=Jt(i.doubleValue),d=Jt(a.doubleValue);return c===d?Vh(c)===Vh(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return(function(i,a){const c=i.mapValue.fields||{},d=a.mapValue.fields||{};if(t_(c)!==t_(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Vs(c[f],d[f])))return!1;return!0})(t,e);default:return Be()}}function Wc(t,e){return(t.values||[]).find((n=>Vs(n,e)))!==void 0}function gl(t,e){if(t===e)return 0;const n=sa(t),r=sa(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const d=Jt(a.integerValue||a.doubleValue),f=Jt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return r_(t.timestampValue,e.timestampValue);case 4:return r_($c(t),$c(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return(function(a,c){const d=ra(a),f=ra(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const d=a.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=ct(d[m],f[m]);if(v!==0)return v}return ct(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const d=ct(Jt(a.latitude),Jt(c.latitude));return d!==0?d:ct(Jt(a.longitude),Jt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return s_(t.arrayValue,e.arrayValue);case 10:return(function(a,c){var d,f,m,v;const g=a.fields||{},_=c.fields||{},b=(d=g.value)===null||d===void 0?void 0:d.arrayValue,j=(f=_.value)===null||f===void 0?void 0:f.arrayValue,T=ct(((m=b?.values)===null||m===void 0?void 0:m.length)||0,((v=j?.values)===null||v===void 0?void 0:v.length)||0);return T!==0?T:s_(b,j)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Jd.mapValue&&c===Jd.mapValue)return 0;if(a===Jd.mapValue)return 1;if(c===Jd.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=c.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let g=0;g<f.length&&g<v.length;++g){const _=ct(f[g],v[g]);if(_!==0)return _;const b=gl(d[f[g]],m[v[g]]);if(b!==0)return b}return ct(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Be()}}function r_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=yo(t),r=yo(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function s_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=gl(n[i],r[i]);if(a)return a}return ct(n.length,r.length)}function vl(t){return Ig(t)}function Ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=yo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ra(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Ig(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const c of r)a?a=!1:i+=",",i+=`${c}:${Ig(n.fields[c])}`;return i+"}"})(t.mapValue):Be()}function Uh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cg(t){return!!t&&"integerValue"in t}function Rv(t){return!!t&&"arrayValue"in t}function i_(t){return!!t&&"nullValue"in t}function o_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yh(t){return!!t&&"mapValue"in t}function jP(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Rc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(n)}setAll(e){let n=Rn.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=Rc(c):i.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ua(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new mr(Rc(this.value))}}function v1(t){const e=[];return ua(t.fields,((n,r)=>{const i=new Rn([n]);if(yh(r)){const a=v1(r.mapValue).fields;if(a.length===0)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)})),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,r,i,a,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Wn(e,0,We.min(),We.min(),We.min(),mr.empty(),0)}static newFoundDocument(e,n,r,i){return new Wn(e,1,n,We.min(),r,i,0)}static newNoDocument(e,n){return new Wn(e,2,n,We.min(),We.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,We.min(),We.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.position=e,this.inclusive=n}}function a_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],c=t.position[i];if(a.field.isKeyField()?r=Re.comparator(Re.fromName(c.referenceValue),n.key):r=gl(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function l_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function IP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1=class{};class sn extends y1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AP(e,n,r):n==="array-contains"?new DP(e,r):n==="in"?new OP(e,r):n==="not-in"?new MP(e,r):n==="array-contains-any"?new LP(e,r):new sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RP(e,r):new PP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gl(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cs extends y1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new cs(e,n)}matches(e){return x1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function x1(t){return t.op==="and"}function w1(t){return CP(t)&&x1(t)}function CP(t){for(const e of t.filters)if(e instanceof cs)return!1;return!0}function Ag(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(w1(t))return t.filters.map((e=>Ag(e))).join(",");{const e=t.filters.map((n=>Ag(n))).join(",");return`${t.op}(${e})`}}function _1(t,e){return t instanceof sn?(function(r,i){return i instanceof sn&&r.op===i.op&&r.field.isEqual(i.field)&&Vs(r.value,i.value)})(t,e):t instanceof cs?(function(r,i){return i instanceof cs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,c,d)=>a&&_1(c,i.filters[d])),!0):!1})(t,e):void Be()}function b1(t){return t instanceof sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`})(t):t instanceof cs?(function(n){return n.op.toString()+" {"+n.getFilters().map(b1).join(" ,")+"}"})(t):"Filter"}class AP extends sn{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class RP extends sn{constructor(e,n){super(e,"in",n),this.keys=E1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class PP extends sn{constructor(e,n){super(e,"not-in",n),this.keys=E1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function E1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Re.fromName(r.referenceValue)))}class DP extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rv(n)&&Wc(n.arrayValue,this.value)}}class OP extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wc(this.value.arrayValue,n)}}class MP extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wc(this.value.arrayValue,n)}}class LP extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n=null,r=[],i=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=d,this.ue=null}}function c_(t,e=null,n=[],r=[],i=null,a=null,c=null){return new FP(t,e,n,r,i,a,c)}function Pv(t){const e=Ke(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ag(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vl(r))).join(",")),e.ue=n}return e.ue}function Dv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l_(t.startAt,e.startAt)&&l_(t.endAt,e.endAt)}function Rg(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n=null,r=[],i=[],a=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VP(t,e,n,r,i,a,c,d){return new da(t,e,n,r,i,a,c,d)}function _f(t){return new da(t)}function u_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ov(t){return t.collectionGroup!==null}function ll(t){const e=Ke(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Dn(Rn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Hc(a,r))})),n.has(Rn.keyField().canonicalString())||e.ce.push(new Hc(Rn.keyField(),r))}return e.ce}function Ms(t){const e=Ke(t);return e.le||(e.le=UP(e,ll(t))),e.le}function UP(t,e){if(t.limitType==="F")return c_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Hc(i.field,a)}));const n=t.endAt?new yl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yl(t.startAt.position,t.startAt.inclusive):null;return c_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pg(t,e){const n=t.filters.concat([e]);return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bh(t,e,n){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bf(t,e){return Dv(Ms(t),Ms(e))&&t.limitType===e.limitType}function N1(t){return`${Pv(Ms(t))}|lt:${t.limitType}`}function el(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>b1(i))).join(", ")}]`),xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>vl(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>vl(i))).join(",")),`Target(${r})`})(Ms(t))}; limitType=${t.limitType})`}function Ef(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of ll(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,f){const m=a_(c,d,f);return c.inclusive?m<=0:m<0})(r.startAt,ll(r),i)||r.endAt&&!(function(c,d,f){const m=a_(c,d,f);return c.inclusive?m>=0:m>0})(r.endAt,ll(r),i))})(t,e)}function BP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S1(t){return(e,n)=>{let r=!1;for(const i of ll(t)){const a=zP(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function zP(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(a,c,d){const f=c.data.field(a),m=d.data.field(a);return f!==null&&m!==null?gl(f,m):Be()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return m1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new $t(Re.comparator);function wi(){return $P}const T1=new $t(Re.comparator);function Tc(...t){let e=T1;for(const n of t)e=e.insert(n.key,n);return e}function j1(t){let e=T1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qo(){return Pc()}function k1(){return Pc()}function Pc(){return new Cl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qP=new $t(Re.comparator),WP=new Dn(Re.comparator);function Je(...t){let e=WP;for(const n of t)e=e.add(n);return e}const HP=new Dn(ct);function KP(){return HP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function I1(t){return{integerValue:""+t}}function GP(t,e){return NP(e)?I1(e):Mv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this._=void 0}}function QP(t,e,n){return t instanceof Kc?(function(i,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&wf(a)&&(a=Av(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}})(n,e):t instanceof Gc?A1(t,e):t instanceof Qc?R1(t,e):(function(i,a){const c=C1(i,a),d=d_(c)+d_(i.Pe);return Cg(c)&&Cg(i.Pe)?I1(d):Mv(i.serializer,d)})(t,e)}function YP(t,e,n){return t instanceof Gc?A1(t,e):t instanceof Qc?R1(t,e):n}function C1(t,e){return t instanceof zh?(function(r){return Cg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Kc extends Nf{}class Gc extends Nf{constructor(e){super(),this.elements=e}}function A1(t,e){const n=P1(e);for(const r of t.elements)n.some((i=>Vs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Qc extends Nf{constructor(e){super(),this.elements=e}}function R1(t,e){let n=P1(e);for(const r of t.elements)n=n.filter((i=>!Vs(i,r)));return{arrayValue:{values:n}}}class zh extends Nf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function d_(t){return Jt(t.integerValue||t.doubleValue)}function P1(t){return Rv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n){this.field=e,this.transform=n}}function JP(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Gc&&i instanceof Gc||r instanceof Qc&&i instanceof Qc?ml(r.elements,i.elements,Vs):r instanceof zh&&i instanceof zh?Vs(r.Pe,i.Pe):r instanceof Kc&&i instanceof Kc})(t.transform,e.transform)}class ZP{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sf{}function D1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lv(t.key,$r.none()):new yu(t.key,t.data,$r.none());{const n=t.data,r=mr.empty();let i=new Dn(Rn.comparator);for(let a of e.fields)if(!i.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),i=i.add(a)}return new So(t.key,r,new kr(i.toArray()),$r.none())}}function eD(t,e,n){t instanceof yu?(function(i,a,c){const d=i.value.clone(),f=f_(i.fieldTransforms,a,c.transformResults);d.setAll(f),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof So?(function(i,a,c){if(!xh(i.precondition,a))return void a.convertToUnknownDocument(c.version);const d=f_(i.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(O1(i)),f.setAll(d),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Dc(t,e,n,r){return t instanceof yu?(function(a,c,d,f){if(!xh(a.precondition,c))return d;const m=a.value.clone(),v=p_(a.fieldTransforms,f,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof So?(function(a,c,d,f){if(!xh(a.precondition,c))return d;const m=p_(a.fieldTransforms,f,c),v=c.data;return v.setAll(O1(a)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,c,d){return xh(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function tD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=C1(r.transform,i||null);a!=null&&(n===null&&(n=mr.empty()),n.set(r.field,a))}return n||null}function h_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ml(r,i,((a,c)=>JP(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends Sf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class So extends Sf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function O1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function f_(t,e,n){const r=new Map;gt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],c=a.transform,d=e.data.field(a.field);r.set(a.field,YP(c,d,n[i]))}return r}function p_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,c=n.data.field(i.field);r.set(i.field,QP(a,c,e))}return r}class Lv extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nD extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&eD(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=k1();return this.mutations.forEach((i=>{const a=e.get(i.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=n.has(i.key)?null:d;const f=D1(c,d);f!==null&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(We.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((n,r)=>h_(n,r)))&&ml(this.baseMutations,e.baseMutations,((n,r)=>h_(n,r)))}}class Fv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){gt(e.mutations.length===r.length);let i=(function(){return qP})();const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new Fv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,st;function oD(t){switch(t){default:return Be();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function M1(t){if(t===void 0)return xi("GRPC error has no .code"),te.UNKNOWN;switch(t){case rn.OK:return te.OK;case rn.CANCELLED:return te.CANCELLED;case rn.UNKNOWN:return te.UNKNOWN;case rn.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case rn.INTERNAL:return te.INTERNAL;case rn.UNAVAILABLE:return te.UNAVAILABLE;case rn.UNAUTHENTICATED:return te.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case rn.NOT_FOUND:return te.NOT_FOUND;case rn.ALREADY_EXISTS:return te.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return te.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case rn.ABORTED:return te.ABORTED;case rn.OUT_OF_RANGE:return te.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return te.UNIMPLEMENTED;case rn.DATA_LOSS:return te.DATA_LOSS;default:return Be()}}(st=rn||(rn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new Yo([4294967295,4294967295],0);function m_(t){const e=aD().encode(t),n=new a1;return n.update(e),new Uint8Array(n.digest())}function g_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yo([n,r],0),new Yo([i,a],0)]}class Vv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(r<0)throw new jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Yo.fromNumber(r)));return i.compare(lD)===1&&(i=new Yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=m_(e),[r,i]=g_(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(r,i,a);if(!this.de(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Vv(a,i,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=m_(e),[r,i]=g_(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(r,i,a);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tf(We.min(),i,new $t(ct),wi(),Je())}}class xu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class L1{constructor(e,n){this.targetId=e,this.me=n}}class F1{constructor(e,n,r=On.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class v_{constructor(){this.fe=0,this.ge=x_(),this.pe=On.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Je(),n=Je(),r=Je();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Be()}})),new xu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=x_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cD{constructor(e){this.Le=e,this.Be=new Map,this.ke=wi(),this.qe=y_(),this.Qe=new $t(ct)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Be()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(Rg(a))if(r===0){const c=new Re(a.path);this.Ue(n,c,Wn.newNoDocument(c,We.min()))}else gt(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),f=d?this.Xe(d,e,c):1;if(f!==0){this.je(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let c,d;try{c=ra(r).toUint8Array()}catch(f){if(f instanceof g1)return pl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Vv(c,i,a)}catch(f){return pl(f instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,a,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((a,c)=>{const d=this.Je(c);if(d){if(a.current&&Rg(d.target)){const f=new Re(d.target.path);this.ke.get(f)!==null||this.it(c,f)||this.Ue(c,f,Wn.newNoDocument(f,e))}a.be&&(n.set(c,a.ve()),a.Ce())}}));let r=Je();this.qe.forEach(((a,c)=>{let d=!0;c.forEachWhile((f=>{const m=this.Je(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ke.forEach(((a,c)=>c.setReadTime(e)));const i=new Tf(e,n,this.Qe,this.ke,r);return this.ke=wi(),this.qe=y_(),this.Qe=new $t(ct),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new v_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Dn(ct),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new v_),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function y_(){return new $t(Re.comparator)}function x_(){return new $t(Re.comparator)}const uD={asc:"ASCENDING",desc:"DESCENDING"},dD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hD={and:"AND",or:"OR"};class fD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dg(t,e){return t.useProto3Json||xf(e)?e:{value:e}}function $h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pD(t,e){return $h(t,e.toTimestamp())}function Ls(t){return gt(!!t),We.fromTimestamp((function(n){const r=yo(n);return new gn(r.seconds,r.nanos)})(t))}function Uv(t,e){return Og(t,e).canonicalString()}function Og(t,e){const n=(function(i){return new jt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function U1(t){const e=jt.fromString(t);return gt(W1(e)),e}function Mg(t,e){return Uv(t.databaseId,e.path)}function $m(t,e){const n=U1(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(z1(n))}function B1(t,e){return Uv(t.databaseId,e)}function mD(t){const e=U1(t);return e.length===4?jt.emptyPath():z1(e)}function Lg(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z1(t){return gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function w_(t,e,n){return{name:Mg(t,e),fields:n.value.mapValue.fields}}function gD(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Be()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(m,v){return m.useProto3Json?(gt(v===void 0||typeof v=="string"),On.fromBase64String(v||"")):(gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),On.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const v=m.code===void 0?te.UNKNOWN:M1(m.code);return new ye(v,m.message||"")})(c);n=new F1(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$m(t,r.document.name),a=Ls(r.document.updateTime),c=r.document.createTime?Ls(r.document.createTime):We.min(),d=new mr({mapValue:{fields:r.document.fields}}),f=Wn.newFoundDocument(i,a,c,d),m=r.targetIds||[],v=r.removedTargetIds||[];n=new wh(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$m(t,r.document),a=r.readTime?Ls(r.readTime):We.min(),c=Wn.newNoDocument(i,a),d=r.removedTargetIds||[];n=new wh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$m(t,r.document),a=r.removedTargetIds||[];n=new wh([],a,i,null)}else{if(!("filter"in e))return Be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,c=new iD(i,a),d=r.targetId;n=new L1(d,c)}}return n}function vD(t,e){let n;if(e instanceof yu)n={update:w_(t,e.key,e.value)};else if(e instanceof Lv)n={delete:Mg(t,e.key)};else if(e instanceof So)n={update:w_(t,e.key,e.data),updateMask:TD(e.fieldMask)};else{if(!(e instanceof nD))return Be();n={verify:Mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const d=c.transform;if(d instanceof Kc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Qc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zh)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Be()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:pD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be()})(t,e.precondition)),n}function yD(t,e){return t&&t.length>0?(gt(e!==void 0),t.map((n=>(function(i,a){let c=i.updateTime?Ls(i.updateTime):Ls(a);return c.isEqual(We.min())&&(c=Ls(a)),new ZP(c,i.transformResults||[])})(n,e)))):[]}function xD(t,e){return{documents:[B1(t,e.path)]}}function wD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=B1(t,i);const a=(function(m){if(m.length!==0)return q1(cs.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(m){if(m.length!==0)return m.map((v=>(function(_){return{field:tl(_.field),direction:ED(_.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Dg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:n,parent:i}}function _D(t){let e=mD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){gt(r===1);const v=n.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=(function(g){const _=$1(g);return _ instanceof cs&&w1(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((_=>(function(j){return new Hc(nl(j.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let _;return _=typeof g=="object"?g.value:g,xf(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(g){const _=!!g.before,b=g.values||[];return new yl(b,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(g){const _=!g.before,b=g.values||[];return new yl(b,_)})(n.endAt)),VP(e,i,c,a,d,"F",f,m)}function bD(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nl(n.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nl(n.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=nl(n.unaryFilter.field);return sn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=nl(n.unaryFilter.field);return sn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Be()}})(t):t.fieldFilter!==void 0?(function(n){return sn.create(nl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Be()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return cs.create(n.compositeFilter.filters.map((r=>$1(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be()}})(n.compositeFilter.op))})(t):Be()}function ED(t){return uD[t]}function ND(t){return dD[t]}function SD(t){return hD[t]}function tl(t){return{fieldPath:t.canonicalString()}}function nl(t){return Rn.fromServerFormat(t.fieldPath)}function q1(t){return t instanceof sn?(function(n){if(n.op==="=="){if(o_(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NAN"}};if(i_(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o_(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NAN"}};if(i_(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(n.field),op:ND(n.op),value:n.value}}})(t):t instanceof cs?(function(n){const r=n.getFilters().map((i=>q1(i)));return r.length===1?r[0]:{compositeFilter:{op:SD(n.op),filters:r}}})(t):Be()}function TD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function W1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i,a=We.min(),c=We.min(),d=On.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.ct=e}}function kD(t){const e=_D({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.un=new CD}addToCollectionParentIndex(e,n){return this.un.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(vo.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class CD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dn(jt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xl(0)}static kn(){return new xl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.changes=new Cl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Dc(r.mutation,i,kr.empty(),gn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Je()){const i=Qo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let c=Tc();return a.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Qo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Je())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,i){let a=wi();const c=Pc(),d=(function(){return Pc()})();return n.forEach(((f,m)=>{const v=r.get(m.key);i.has(m.key)&&(v===void 0||v.mutation instanceof So)?a=a.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),Dc(v.mutation,m,v.mutation.getFieldMask(),gn.now())):c.set(m.key,kr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,v)=>c.set(m,v))),n.forEach(((m,v)=>{var g;return d.set(m,new RD(v,(g=c.get(m))!==null&&g!==void 0?g:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=Pc();let i=new $t(((c,d)=>c-d)),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let v=r.get(f)||kr.empty();v=d.applyToLocalView(m,v),r.set(f,v);const g=(i.get(d.batchId)||Je()).add(f);i=i.insert(d.batchId,g)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,g=k1();v.forEach((_=>{if(!a.has(_)){const b=D1(n.get(_),r.get(_));b!==null&&g.set(_,b),a=a.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,g))}return le.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ov(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):le.resolve(Qo());let d=-1,f=a;return c.next((m=>le.forEach(m,((v,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),a.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{f=f.insert(v,_)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,Je()))).next((v=>({batchId:d,changes:j1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let i=Tc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let c=Tc();return this.indexManager.getCollectionParents(e,a).next((d=>le.forEach(d,(f=>{const m=(function(g,_){return new da(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((v=>{v.forEach(((g,_)=>{c=c.insert(g,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((c=>{a.forEach(((f,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,Wn.newInvalidDocument(v)))}));let d=Tc();return c.forEach(((f,m)=>{const v=a.get(f);v!==void 0&&Dc(v.mutation,m,kr.empty(),gn.now()),Ef(n,m)&&(d=d.insert(f,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ls(i.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:kD(i.bundledQuery),readTime:Ls(i.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.overlays=new $t(Re.comparator),this.Ir=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qo();return le.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.ht(e,n,a)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=Qo(),a=n.length+1,c=new Re(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new $t(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Qo(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Qo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=i)););return le.resolve(d)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new sD(n,r));let a=this.Ir.get(n);a===void 0&&(a=Je(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this.Tr=new Dn(bn.Er),this.dr=new Dn(bn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new bn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Re(new jt([])),r=new bn(n,e),i=new bn(n,e+1),a=[];return this.dr.forEachInRange([r,i],(c=>{this.Vr(c),a.push(c.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Re(new jt([])),r=new bn(n,e),i=new bn(n,e+1);let a=Je();return this.dr.forEachInRange([r,i],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new bn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Re.comparator(e.key,n.key)||ct(e.wr,n.wr)}static Ar(e,n){return ct(e.wr,n.wr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Dn(bn.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rD(a,n,r,i);this.mutationQueue.push(c);for(const d of i)this.br=this.br.add(new bn(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,n){return le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),i=new bn(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],(c=>{const d=this.Dr(c.wr);a.push(d)})),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(ct);return n.forEach((i=>{const a=new bn(i,0),c=new bn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],(d=>{r=r.add(d.wr)}))})),le.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Re.isDocumentKey(a)||(a=a.child(""));const c=new bn(new Re(a),0);let d=new Dn(ct);return this.br.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(f.wr)),!0)}),c),le.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){gt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return le.forEach(n.mutations,(i=>{const a=new bn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new bn(n,0),i=this.br.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.Mr=e,this.docs=(function(){return new $t(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let r=wi();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Wn.newInvalidDocument(i))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=wi();const c=n.path,d=new Re(c.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||wP(xP(v),r)<=0||(i.has(v.key)||Ef(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Be()}Or(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new VD(this)}getSize(e){return le.resolve(this.size)}}class VD extends AD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.persistence=e,this.Nr=new Cl((n=>Pv(n)),Dv),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bv,this.targetCount=0,this.kr=xl.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Kn(n),le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),le.waitFor(a).next((()=>i))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((c=>{a.push(i.markPotentiallyOrphaned(e,c))})),le.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Cv(0),this.Kr=!1,this.Kr=!0,this.$r=new MD,this.referenceDelegate=e(this),this.Ur=new UD(this),this.indexManager=new ID,this.remoteDocumentCache=(function(i){return new FD(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new jD(n),this.Gr=new DD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new LD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const i=new zD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,n){return le.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class zD extends bP{constructor(e){super(),this.currentSequenceNumber=e}}class zv{constructor(e){this.persistence=e,this.Jr=new Bv,this.Yr=null}static Zr(e){return new zv(e)}get Xr(){if(this.Yr)return this.Yr;throw Be()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,(r=>{const i=Re.fromPath(r);return this.ei(e,i).next((a=>{a||n.removeEntry(i,We.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return le.or([()=>le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Je(),i=Je();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new $v(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return I2()?8:EP(Kn())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.Zi(e,n,i,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new $D;return this.Xi(e,n,c).next((d=>{if(a.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>a.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(yc()<=tt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(yc()<=tt.DEBUG&&je("QueryEngine","Query:",el(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(yc()<=tt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(n))):le.resolve())}Yi(e,n){if(u_(n))return le.resolve(null);let r=Ms(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Bh(n,null,"F"),r=Ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=Je(...a);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.ts(n,d);return this.ns(n,m,c,f.readTime)?this.Yi(e,Bh(n,null,"F")):this.rs(e,m,n,f)}))))})))))}Zi(e,n,r,i){return u_(n)||i.isEqual(We.min())?le.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const c=this.ts(n,a);return this.ns(n,c,r,i)?le.resolve(null):(yc()<=tt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),el(n)),this.rs(e,c,n,yP(i,-1)).next((d=>d)))}))}ts(e,n){let r=new Dn(S1(e));return n.forEach(((i,a)=>{Ef(e,a)&&(r=r.add(a))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return yc()<=tt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",el(n)),this.Ji.getDocumentsMatchingQuery(e,n,vo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new $t(ct),this._s=new Cl((a=>Pv(a)),Dv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function HD(t,e,n,r){return new WD(t,e,n,r)}async function H1(t,e){const n=Ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],d=[];let f=Je();for(const m of i){c.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(r,f).next((m=>({hs:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function KD(t,e){const n=Ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,v){const g=m.batch,_=g.keys();let b=le.resolve();return _.forEach((j=>{b=b.next((()=>v.getEntry(f,j))).next((T=>{const S=m.docVersions.get(j);gt(S!==null),T.version.compareTo(S)<0&&(g.applyToRemoteDocument(T,m),T.isValidDocument()&&(T.setReadTime(m.commitVersion),v.addEntry(T)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Je();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function K1(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function GD(t,e){const n=Ke(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const d=[];e.targetChanges.forEach(((v,g)=>{const _=i.get(g);if(!_)return;d.push(n.Ur.removeMatchingKeys(a,v.removedDocuments,g).next((()=>n.Ur.addMatchingKeys(a,v.addedDocuments,g))));let b=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(On.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,r)),i=i.insert(g,b),(function(T,S,k){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(_,b,v)&&d.push(n.Ur.updateTargetData(a,b))}));let f=wi(),m=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(QD(a,c,e.documentUpdates).next((v=>{f=v.Ps,m=v.Is}))),!r.isEqual(We.min())){const v=n.Ur.getLastRemoteSnapshotVersion(a).next((g=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(v)}return le.waitFor(d).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(n.os=i,a)))}function QD(t,e,n){let r=Je(),i=Je();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=wi();return n.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(We.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):je("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Ps:c,Is:i}}))}function YD(t,e){const n=Ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function XD(t,e){const n=Ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((a=>a?(i=a,le.resolve(i)):n.Ur.allocateTargetId(r).next((c=>(i=new co(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function Fg(t,e,n){const r=Ke(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!vu(c))throw c;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function __(t,e,n){const r=Ke(t);let i=We.min(),a=Je();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,v){const g=Ke(f),_=g._s.get(v);return _!==void 0?le.resolve(g.os.get(_)):g.Ur.getTargetData(m,v)})(r,c,Ms(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((f=>{a=f}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?i:We.min(),n?a:Je()))).next((d=>(JD(r,BP(e),d),{documents:d,Ts:a})))))}function JD(t,e,n){let r=t.us.get(e)||We.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.us.set(e,r)}class b_{constructor(){this.activeTargetIds=KP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZD{constructor(){this.so=new b_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new b_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd=null;function qm(){return Zd===null?Zd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zd++,"0x"+Zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class rO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,c){const d=qm(),f=this.xo(n,r.toUriEncodedString());je("RestConnection",`Sending RPC '${n}' ${d}:`,f,i);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,a,c),this.No(n,f,m,i).then((v=>(je("RestConnection",`Received RPC '${n}' ${d}: `,v),v)),(v=>{throw pl("RestConnection",`RPC '${n}' ${d} failed with error: `,v,"url: ",f,"request:",i),v}))}Lo(n,r,i,a,c,d){return this.Mo(n,r,i,a,c)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Il})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,c)=>n[c]=a)),i&&i.headers.forEach(((a,c)=>n[c]=a))}xo(n,r){const i=tO[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=qm();return new Promise(((c,d)=>{const f=new l1;f.setWithCredentials(!0),f.listenOnce(c1.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case vh.NO_ERROR:const v=f.getResponseJson();je($n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),c(v);break;case vh.TIMEOUT:je($n,`RPC '${e}' ${a} timed out`),d(new ye(te.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const g=f.getStatus();if(je($n,`RPC '${e}' ${a} failed with status:`,g,"response text:",f.getResponseText()),g>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const b=_?.error;if(b&&b.status&&b.message){const j=(function(S){const k=S.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(k)>=0?k:te.UNKNOWN})(b.status);d(new ye(j,b.message))}else d(new ye(te.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ye(te.UNAVAILABLE,"Connection failed."));break;default:Be()}}finally{je($n,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(i);je($n,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",m,r,15)}))}Bo(e,n,r){const i=qm(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=h1(),d=d1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const v=a.join("");je($n,`Creating RPC '${e}' stream ${i}: ${v}`,f);const g=c.createWebChannel(v,f);let _=!1,b=!1;const j=new nO({Io:S=>{b?je($n,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(_||(je($n,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),je($n,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},To:()=>g.close()}),T=(S,k,P)=>{S.listen(k,(O=>{try{P(O)}catch(B){setTimeout((()=>{throw B}),0)}}))};return T(g,Sc.EventType.OPEN,(()=>{b||(je($n,`RPC '${e}' stream ${i} transport opened.`),j.yo())})),T(g,Sc.EventType.CLOSE,(()=>{b||(b=!0,je($n,`RPC '${e}' stream ${i} transport closed`),j.So())})),T(g,Sc.EventType.ERROR,(S=>{b||(b=!0,pl($n,`RPC '${e}' stream ${i} transport errored:`,S),j.So(new ye(te.UNAVAILABLE,"The operation could not be completed")))})),T(g,Sc.EventType.MESSAGE,(S=>{var k;if(!b){const P=S.data[0];gt(!!P);const O=P,B=O.error||((k=O[0])===null||k===void 0?void 0:k.error);if(B){je($n,`RPC '${e}' stream ${i} received error:`,B);const K=B.status;let J=(function(D){const L=rn[D];if(L!==void 0)return M1(L)})(K),R=B.message;J===void 0&&(J=te.INTERNAL,R="Unknown error status: "+K+" with message "+B.message),b=!0,j.So(new ye(J,R)),g.close()}else je($n,`RPC '${e}' stream ${i} received:`,P),j.bo(P)}})),T(d,u1.STAT_EVENT,(S=>{S.stat===kg.PROXY?je($n,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===kg.NOPROXY&&je($n,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{j.wo()}),0),j}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){return new fD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,r,i,a,c,d,f){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new G1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new ye(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sO extends Q1{constructor(e,n,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gD(this.serializer,e),r=(function(a){if(!("targetChange"in a))return We.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?We.min():c.readTime?Ls(c.readTime):We.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Lg(this.serializer),n.addTarget=(function(a,c){let d;const f=c.target;if(d=Rg(f)?{documents:xD(a,f)}:{query:wD(a,f)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=V1(a,c.resumeToken);const m=Dg(a,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(We.min())>0){d.readTime=$h(a,c.snapshotVersion.toTimestamp());const m=Dg(a,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=bD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Lg(this.serializer),n.removeTarget=e,this.a_(n)}}class iO extends Q1{constructor(e,n,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return gt(!!e.streamToken),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=yD(e.writeResults,e.commitTime),r=Ls(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Lg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>vD(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Mo(e,Og(n,r),i,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(te.UNKNOWN,a.toString())}))}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,Og(n,r),i,c,d,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(te.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class aO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xi(n),this.D_=!1):je("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((c=>{r.enqueueAndForget((async()=>{ha(this)&&(je("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const m=Ke(f);m.L_.add(4),await wu(m),m.q_.set("Unknown"),m.L_.delete(4),await kf(m)})(this))}))})),this.q_=new aO(r,i)}}async function kf(t){if(ha(t))for(const e of t.B_)await e(!0)}async function wu(t){for(const e of t.B_)await e(!1)}function Y1(t,e){const n=Ke(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Kv(n)?Hv(n):Al(n).r_()&&Wv(n,e))}function qv(t,e){const n=Ke(t),r=Al(n);n.N_.delete(e),r.r_()&&X1(n,e),n.N_.size===0&&(r.r_()?r.o_():ha(n)&&n.q_.set("Unknown"))}function Wv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Al(t).A_(e)}function X1(t,e){t.Q_.xe(e),Al(t).R_(e)}function Hv(t){t.Q_=new cD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Al(t).start(),t.q_.v_()}function Kv(t){return ha(t)&&!Al(t).n_()&&t.N_.size>0}function ha(t){return Ke(t).L_.size===0}function J1(t){t.Q_=void 0}async function cO(t){t.q_.set("Online")}async function uO(t){t.N_.forEach(((e,n)=>{Wv(t,e)}))}async function dO(t,e){J1(t),Kv(t)?(t.q_.M_(e),Hv(t)):t.q_.set("Unknown")}async function hO(t,e,n){if(t.q_.set("Online"),e instanceof F1&&e.state===2&&e.cause)try{await(async function(i,a){const c=a.cause;for(const d of a.targetIds)i.N_.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.N_.delete(d),i.Q_.removeTarget(d))})(t,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qh(t,r)}else if(e instanceof wh?t.Q_.Ke(e):e instanceof L1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(We.min()))try{const r=await K1(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const d=a.Q_.rt(c);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.N_.get(m);v&&a.N_.set(m,v.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,m)=>{const v=a.N_.get(f);if(!v)return;a.N_.set(f,v.withResumeToken(On.EMPTY_BYTE_STRING,v.snapshotVersion)),X1(a,f);const g=new co(v.target,f,m,v.sequenceNumber);Wv(a,g)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){je("RemoteStore","Failed to raise snapshot:",r),await qh(t,r)}}async function qh(t,e,n){if(!vu(e))throw e;t.L_.add(1),await wu(t),t.q_.set("Offline"),n||(n=()=>K1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{je("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await kf(t)}))}function Z1(t,e){return e().catch((n=>qh(t,n,e)))}async function If(t){const e=Ke(t),n=xo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fO(e);)try{const i=await YD(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,pO(e,i)}catch(i){await qh(e,i)}eN(e)&&tN(e)}function fO(t){return ha(t)&&t.O_.length<10}function pO(t,e){t.O_.push(e);const n=xo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function eN(t){return ha(t)&&!xo(t).n_()&&t.O_.length>0}function tN(t){xo(t).start()}async function mO(t){xo(t).p_()}async function gO(t){const e=xo(t);for(const n of t.O_)e.m_(n.mutations)}async function vO(t,e,n){const r=t.O_.shift(),i=Fv.from(r,e,n);await Z1(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await If(t)}async function yO(t,e){e&&xo(t).V_&&await(async function(r,i){if((function(c){return oD(c)&&c!==te.ABORTED})(i.code)){const a=r.O_.shift();xo(r).s_(),await Z1(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await If(r)}})(t,e),eN(t)&&tN(t)}async function N_(t,e){const n=Ke(t);n.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=ha(n);n.L_.add(3),await wu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await kf(n)}async function xO(t,e){const n=Ke(t);e?(n.L_.delete(2),await kf(n)):e||(n.L_.add(2),await wu(n),n.q_.set("Unknown"))}function Al(t){return t.K_||(t.K_=(function(n,r,i){const a=Ke(n);return a.w_(),new sO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:cO.bind(null,t),Ro:uO.bind(null,t),mo:dO.bind(null,t),d_:hO.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Kv(t)?Hv(t):t.q_.set("Unknown")):(await t.K_.stop(),J1(t))}))),t.K_}function xo(t){return t.U_||(t.U_=(function(n,r,i){const a=Ke(n);return a.w_(),new iO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mO.bind(null,t),mo:yO.bind(null,t),f_:gO.bind(null,t),g_:vO.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await If(t)):(await t.U_.stop(),t.O_.length>0&&(je("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const c=Date.now()+r,d=new Gv(e,n,c,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qv(t,e){if(xi("AsyncQueue",`${e}: ${t}`),vu(t))return new ye(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=Tc(),this.sortedSet=new $t(this.comparator)}static emptySet(e){return new cl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.W_=new $t(Re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Be():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class wl{constructor(e,n,r,i,a,c,d,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,a){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new wl(e,n,cl.emptySet(n),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class _O{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ke(n),a=i.queries;i.queries=T_(),a.forEach(((c,d)=>{for(const f of d.j_)f.onError(r)}))})(this,new ye(te.ABORTED,"Firestore shutting down"))}}function T_(){return new Cl((t=>N1(t)),bf)}async function Yv(t,e){const n=Ke(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new wO,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=Qv(c,`Initialization of query '${el(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&Jv(n)}async function Xv(t,e){const n=Ke(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bO(t,e){const n=Ke(t);let r=!1;for(const i of e){const a=i.query,c=n.queries.get(a);if(c){for(const d of c.j_)d.X_(i)&&(r=!0);c.z_=i}}r&&Jv(n)}function EO(t,e,n){const r=Ke(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function Jv(t){t.Y_.forEach((e=>{e.next()}))}var Vg,j_;(j_=Vg||(Vg={})).ea="default",j_.Cache="cache";class Zv{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.key=e}}class rN{constructor(e){this.key=e}}class NO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Je(),this.mutatedKeys=Je(),this.Aa=S1(e),this.Ra=new cl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new S_,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,g)=>{const _=i.get(v),b=Ef(this.query,g)?g:null,j=!!_&&this.mutatedKeys.has(_.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;_&&b?_.data.isEqual(b.data)?j!==T&&(r.track({type:3,doc:b}),S=!0):this.ga(_,b)||(r.track({type:2,doc:b}),S=!0,(f&&this.Aa(b,f)>0||m&&this.Aa(b,m)<0)&&(d=!0)):!_&&b?(r.track({type:0,doc:b}),S=!0):_&&!b&&(r.track({type:1,doc:_}),S=!0,(f||m)&&(d=!0)),S&&(b?(c=c.add(b),a=T?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{Ra:c,fa:r,ns:d,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((v,g)=>(function(b,j){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be()}};return T(b)-T(j)})(v.type,g.type)||this.Aa(v.doc,g.doc))),this.pa(r),i=i!=null&&i;const d=n&&!i?this.ya():[],f=this.da.size===0&&this.current&&!i?1:0,m=f!==this.Ea;return this.Ea=f,c.length!==0||m?{snapshot:new wl(this.query,e.Ra,a,c,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new S_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Je(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new rN(r))})),this.da.forEach((r=>{e.has(r)||n.push(new nN(r))})),n}ba(e){this.Ta=e.Ts,this.da=Je();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return wl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class SO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TO{constructor(e){this.key=e,this.va=!1}}class jO{constructor(e,n,r,i,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Cl((d=>N1(d)),bf),this.Ma=new Map,this.xa=new Set,this.Oa=new $t(Re.comparator),this.Na=new Map,this.La=new Bv,this.Ba={},this.ka=new Map,this.qa=xl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kO(t,e,n=!0){const r=cN(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await sN(r,e,n,!0),i}async function IO(t,e){const n=cN(t);await sN(n,e,!0,!1)}async function sN(t,e,n,r){const i=await XD(t.localStore,Ms(e)),a=i.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await CO(t,e,a,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&Y1(t.remoteStore,i),d}async function CO(t,e,n,r,i){t.Ka=(g,_,b)=>(async function(T,S,k,P){let O=S.view.ma(k);O.ns&&(O=await __(T.localStore,S.query,!1).then((({documents:R})=>S.view.ma(R,O))));const B=P&&P.targetChanges.get(S.targetId),K=P&&P.targetMismatches.get(S.targetId)!=null,J=S.view.applyChanges(O,T.isPrimaryClient,B,K);return I_(T,S.targetId,J.wa),J.snapshot})(t,g,_,b);const a=await __(t.localStore,e,!0),c=new NO(e,a.Ts),d=c.ma(a.documents),f=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=c.applyChanges(d,t.isPrimaryClient,f);I_(t,n,m.wa);const v=new SO(e,n,c);return t.Fa.set(e,v),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function AO(t,e,n){const r=Ke(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter((c=>!bf(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Fg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qv(r.remoteStore,i.targetId),Ug(r,i.targetId)})).catch(gu)):(Ug(r,i.targetId),await Fg(r.localStore,i.targetId,!0))}async function RO(t,e){const n=Ke(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qv(n.remoteStore,r.targetId))}async function PO(t,e,n){const r=UO(t);try{const i=await(function(c,d){const f=Ke(c),m=gn.now(),v=d.reduce(((b,j)=>b.add(j.key)),Je());let g,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let j=wi(),T=Je();return f.cs.getEntries(b,v).next((S=>{j=S,j.forEach(((k,P)=>{P.isValidDocument()||(T=T.add(k))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,j))).next((S=>{g=S;const k=[];for(const P of d){const O=tD(P,g.get(P.key).overlayedDocument);O!=null&&k.push(new So(P.key,O,v1(O.value.mapValue),$r.exists(!0)))}return f.mutationQueue.addMutationBatch(b,m,k,d)})).next((S=>{_=S;const k=S.applyToLocalDocumentSet(g,T);return f.documentOverlayCache.saveOverlays(b,S.batchId,k)}))})).then((()=>({batchId:_.batchId,changes:j1(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,f){let m=c.Ba[c.currentUser.toKey()];m||(m=new $t(ct)),m=m.insert(d,f),c.Ba[c.currentUser.toKey()]=m})(r,i.batchId,n),await _u(r,i.changes),await If(r.remoteStore)}catch(i){const a=Qv(i,"Failed to persist write");n.reject(a)}}async function iN(t,e){const n=Ke(t);try{const r=await GD(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const c=n.Na.get(a);c&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.va=!0:i.modifiedDocuments.size>0?gt(c.va):i.removedDocuments.size>0&&(gt(c.va),c.va=!1))})),await _u(n,r,e)}catch(r){await gu(r)}}function k_(t,e,n){const r=Ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((a,c)=>{const d=c.view.Z_(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const f=Ke(c);f.onlineState=d;let m=!1;f.queries.forEach(((v,g)=>{for(const _ of g.j_)_.Z_(d)&&(m=!0)})),m&&Jv(f)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DO(t,e,n){const r=Ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let c=new $t(Re.comparator);c=c.insert(a,Wn.newNoDocument(a,We.min()));const d=Je().add(a),f=new Tf(We.min(),new Map,new $t(ct),c,d);await iN(r,f),r.Oa=r.Oa.remove(a),r.Na.delete(e),ey(r)}else await Fg(r.localStore,e,!1).then((()=>Ug(r,e,n))).catch(gu)}async function OO(t,e){const n=Ke(t),r=e.batch.batchId;try{const i=await KD(n.localStore,e);aN(n,r,null),oN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,i)}catch(i){await gu(i)}}async function MO(t,e,n){const r=Ke(t);try{const i=await(function(c,d){const f=Ke(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next((g=>(gt(g!==null),v=g.keys(),f.mutationQueue.removeMutationBatch(m,g)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(r.localStore,e);aN(r,e,n),oN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,i)}catch(i){await gu(i)}}function oN(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function aN(t,e,n){const r=Ke(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ug(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||lN(t,r)}))}function lN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(qv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ey(t))}function I_(t,e,n){for(const r of n)r instanceof nN?(t.La.addReference(r.key,e),LO(t,r)):r instanceof rN?(je("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||lN(t,r.key)):Be()}function LO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(je("SyncEngine","New document in limbo: "+n),t.xa.add(r),ey(t))}function ey(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Re(jt.fromString(e)),r=t.qa.next();t.Na.set(r,new TO(n)),t.Oa=t.Oa.insert(n,r),Y1(t.remoteStore,new co(Ms(_f(n.path)),r,"TargetPurposeLimboResolution",Cv.oe))}}async function _u(t,e,n){const r=Ke(t),i=[],a=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,f)=>{c.push(r.Ka(f,e,n).then((m=>{var v;if((m||n)&&r.isPrimaryClient){const g=m?!m.fromCache:(v=n?.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){i.push(m);const g=$v.Wi(f.targetId,m);a.push(g)}})))})),await Promise.all(c),r.Ca.d_(i),await(async function(f,m){const v=Ke(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>le.forEach(m,(_=>le.forEach(_.$i,(b=>v.persistence.referenceDelegate.addReference(g,_.targetId,b))).next((()=>le.forEach(_.Ui,(b=>v.persistence.referenceDelegate.removeReference(g,_.targetId,b)))))))))}catch(g){if(!vu(g))throw g;je("LocalStore","Failed to update sequence numbers: "+g)}for(const g of m){const _=g.targetId;if(!g.fromCache){const b=v.os.get(_),j=b.snapshotVersion,T=b.withLastLimboFreeSnapshotVersion(j);v.os=v.os.insert(_,T)}}})(r.localStore,a))}async function FO(t,e){const n=Ke(t);if(!n.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=await H1(n.localStore,e);n.currentUser=e,(function(a,c){a.ka.forEach((d=>{d.forEach((f=>{f.reject(new ye(te.CANCELLED,c))}))})),a.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.hs)}}function VO(t,e){const n=Ke(t),r=n.Na.get(e);if(r&&r.va)return Je().add(r.key);{let i=Je();const a=n.Ma.get(e);if(!a)return i;for(const c of a){const d=n.Fa.get(c);i=i.unionWith(d.view.Va)}return i}}function cN(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DO.bind(null,e),e.Ca.d_=bO.bind(null,e.eventManager),e.Ca.$a=EO.bind(null,e.eventManager),e}function UO(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MO.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return HD(this.persistence,new qD,e.initialUser,this.serializer)}Ga(e){return new BD(zv.Zr,this.serializer)}Wa(e){return new ZD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class Bg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FO.bind(null,this.syncEngine),await xO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _O})()}createDatastore(e){const n=jf(e.databaseInfo.databaseId),r=(function(a){return new rO(a)})(e.databaseInfo);return(function(a,c,d,f){return new oO(a,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,c,d){return new lO(r,i,a,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>k_(this.syncEngine,n,0)),(function(){return E_.D()?new E_:new eO})())}createSyncEngine(e,n){return(function(i,a,c,d,f,m,v){const g=new jO(i,a,c,d,f,m);return v&&(g.Qa=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Ke(i);je("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await wu(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=p1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{je("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Hm(t,e){t.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await H1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function C_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zO(t);je("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>N_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>N_(e.remoteStore,i))),t._onlineComponents=e}async function zO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await Hm(t,new Wh)}}else je("FirestoreClient","Using default OfflineComponentProvider"),await Hm(t,new Wh);return t._offlineComponents}async function uN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),await C_(t,t._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),await C_(t,new Bg))),t._onlineComponents}function $O(t){return uN(t).then((e=>e.syncEngine))}async function Hh(t){const e=await uN(t),n=e.eventManager;return n.onListen=kO.bind(null,e.syncEngine),n.onUnlisten=AO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RO.bind(null,e.syncEngine),n}function qO(t,e,n={}){const r=new mi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,f,m){const v=new ty({next:_=>{v.Za(),c.enqueueAndForget((()=>Xv(a,g)));const b=_.docs.has(d);!b&&_.fromCache?m.reject(new ye(te.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&f&&f.source==="server"?m.reject(new ye(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),g=new Zv(_f(d.path),v,{includeMetadataChanges:!0,_a:!0});return Yv(a,g)})(await Hh(t),t.asyncQueue,e,n,r))),r.promise}function WO(t,e,n={}){const r=new mi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,f,m){const v=new ty({next:_=>{v.Za(),c.enqueueAndForget((()=>Xv(a,g))),_.fromCache&&f.source==="server"?m.reject(new ye(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),g=new Zv(d,v,{includeMetadataChanges:!0,_a:!0});return Yv(a,g)})(await Hh(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e,n){if(!n)throw new ye(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HO(t,e,n,r){if(e===!0&&r===!0)throw new ye(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R_(t){if(!Re.isDocumentKey(t))throw new ye(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function P_(t){if(Re.isDocumentKey(t))throw new ye(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(t);throw new ye(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function KO(t,e){if(e<=0)throw new ye(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cP;switch(r.type){case"firstParty":return new fP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=A_.get(n);r&&(je("ComponentProvider","Removing Datastore"),A_.delete(n),r.terminate())})(this),Promise.resolve()}}function GO(t,e,n,r={}){var i;const a=(t=vr(t,Af))._getSettings(),c=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=qn.MOCK_USER;else{d=wE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ye(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qn(m)}t._authCredentials=new uP(new f1(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class Hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class po extends qs{constructor(e,n,r){super(e,n,_f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Re(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function Pn(t,e,...n){if(t=Rt(t),hN("collection","path",e),t instanceof Af){const r=jt.fromString(e,...n);return P_(r),new po(t,null,r)}{if(!(t instanceof Hn||t instanceof po))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return P_(r),new po(t.firestore,null,r)}}function En(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=p1.newId()),hN("doc","path",e),t instanceof Af){const r=jt.fromString(e,...n);return R_(r),new Hn(t,null,new Re(r))}{if(!(t instanceof Hn||t instanceof po))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jt.fromString(e,...n));return R_(r),new Hn(t.firestore,t instanceof po?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new G1(this,"async_queue_retry"),this.Vu=()=>{const r=Wm();r&&je("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new mi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!vu(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw xi("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Gv.createAndSchedule(this,e,n,r,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&Be()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function M_(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class _i extends Af{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new O_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function QO(t,e){const n=typeof t=="object"?t:wv(),r=typeof t=="string"?t:"(default)",i=mf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=vE("firestore");a&&GO(i,...a)}return i}function Rf(t){if(t._terminated)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YO(t),t._firestoreClient}function YO(t){var e,n,r;const i=t._freezeSettings(),a=(function(d,f,m,v){return new TP(d,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,dN(v.experimentalLongPollingOptions),v.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new BO(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(d){const f=d?._online.build();return{_offline:d?._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(On.fromBase64String(e))}catch(n){throw new ye(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _l(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=/^__.*__$/;class JO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new So(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class fN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new So(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be()}}class sy{constructor(e,n,r,i,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Kh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(pN(this.Cu)&&XO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ZO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jf(e)}Qu(e,n,r,i=!1){return new sy({Cu:e,methodName:n,qu:r,path:Rn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bu(t){const e=t._freezeSettings(),n=jf(t._databaseId);return new ZO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mN(t,e,n,r,i,a={}){const c=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);oy("Data must be an object, but it was:",c,r);const d=vN(r,c);let f,m;if(a.merge)f=new kr(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const v=[];for(const g of a.mergeFields){const _=zg(e,g,n);if(!c.contains(_))throw new ye(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);xN(v,_)||v.push(_)}f=new kr(v),m=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,m=c.fieldTransforms;return new JO(new mr(d),f,m)}class Of extends Df{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}class iy extends Df{_toFieldTransform(e){return new XP(e.path,new Kc)}isEqual(e){return e instanceof iy}}function e4(t,e,n,r){const i=t.Qu(1,e,n);oy("Data must be an object, but it was:",i,r);const a=[],c=mr.empty();ua(r,((f,m)=>{const v=ay(e,f,n);m=Rt(m);const g=i.Nu(v);if(m instanceof Of)a.push(v);else{const _=Eu(m,g);_!=null&&(a.push(v),c.set(v,_))}}));const d=new kr(a);return new fN(c,d,i.fieldTransforms)}function t4(t,e,n,r,i,a){const c=t.Qu(1,e,n),d=[zg(e,r,n)],f=[i];if(a.length%2!=0)throw new ye(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)d.push(zg(e,a[_])),f.push(a[_+1]);const m=[],v=mr.empty();for(let _=d.length-1;_>=0;--_)if(!xN(m,d[_])){const b=d[_];let j=f[_];j=Rt(j);const T=c.Nu(b);if(j instanceof Of)m.push(b);else{const S=Eu(j,T);S!=null&&(m.push(b),v.set(b,S))}}const g=new kr(m);return new fN(v,g,c.fieldTransforms)}function gN(t,e,n,r=!1){return Eu(n,t.Qu(r?4:3,e))}function Eu(t,e){if(yN(t=Rt(t)))return oy("Unsupported field value:",e,t),vN(t,e);if(t instanceof Df)return(function(r,i){if(!pN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const a=[];let c=0;for(const d of r){let f=Eu(d,i.Lu(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gn.fromDate(r);return{timestampValue:$h(i.serializer,a)}}if(r instanceof gn){const a=new gn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$h(i.serializer,a)}}if(r instanceof ny)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _l)return{bytesValue:V1(i.serializer,r._byteString)};if(r instanceof Hn){const a=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw i.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Uv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ry)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw d.Bu("VectorValues must only contain numeric values.");return Mv(d.serializer,f)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${Cf(r)}`)})(t,e)}function vN(t,e){const n={};return m1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,((r,i)=>{const a=Eu(i,e.Mu(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function yN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gn||t instanceof ny||t instanceof _l||t instanceof Hn||t instanceof Df||t instanceof ry)}function oy(t,e,n){if(!yN(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=Cf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function zg(t,e,n){if((e=Rt(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return ay(t,e);throw Kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const n4=new RegExp("[~\\*/\\[\\]]");function ay(t,e,n){if(e.search(n4)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pf(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kh(t,e,n,r,i){const a=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new ye(te.INVALID_ARGUMENT,d+t+f)}function xN(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r4 extends ly{data(){return super.data()}}function Mf(t,e){return typeof e=="string"?ay(t,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cy{}class Lf extends cy{}function Mt(t,e,...n){let r=[];e instanceof cy&&r.push(e),r=r.concat(n),(function(a){const c=a.filter((f=>f instanceof uy)).length,d=a.filter((f=>f instanceof Ff)).length;if(c>1||c>0&&d>0)throw new ye(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Ff extends Lf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ff(e,n,r)}_apply(e){const n=this._parse(e);return _N(e._query,n),new qs(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=bu(e.firestore);return(function(a,c,d,f,m,v,g){let _;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){F_(g,v);const b=[];for(const j of g)b.push(L_(f,a,j));_={arrayValue:{values:b}}}else _=L_(f,a,g)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||F_(g,v),_=gN(d,c,g,v==="in"||v==="not-in");return sn.create(m,v,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kt(t,e,n){const r=e,i=Mf("where",t);return Ff._create(i,r,n)}class uy extends cy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:cs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let c=i;const d=a.getFlattenedFilters();for(const f of d)_N(c,f),c=Pg(c,f)})(e._query,n),new qs(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dy extends Lf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dy(e,n)}_apply(e){const n=(function(i,a,c){if(i.startAt!==null)throw new ye(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hc(a,c)})(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,(function(i,a){const c=i.explicitOrderBy.concat([a]);return new da(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function $g(t,e="asc"){const n=e,r=Mf("orderBy",t);return dy._create(r,n)}class hy extends Lf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new hy(e,n,r)}_apply(e){return new qs(e.firestore,e.converter,Bh(e._query,this._limit,this._limitType))}}function s4(t){return KO("limit",t),hy._create("limit",t,"F")}class fy extends Lf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new fy(e,n,r)}_apply(e){const n=o4(e,this.type,this._docOrFields,this._inclusive);return new qs(e.firestore,e.converter,(function(i,a){return new da(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function i4(...t){return fy._create("startAfter",t,!1)}function o4(t,e,n,r){if(n[0]=Rt(n[0]),n[0]instanceof ly)return(function(a,c,d,f,m){if(!f)throw new ye(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const g of ll(a))if(g.field.isKeyField())v.push(Uh(c,f.key));else{const _=f.data.field(g.field);if(wf(_))throw new ye(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const b=g.field.canonicalString();throw new ye(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}v.push(_)}return new yl(v,m)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=bu(t.firestore);return(function(c,d,f,m,v,g){const _=c.explicitOrderBy;if(v.length>_.length)throw new ye(te.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let j=0;j<v.length;j++){const T=v[j];if(_[j].field.isKeyField()){if(typeof T!="string")throw new ye(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof T}`);if(!Ov(c)&&T.indexOf("/")!==-1)throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${T}' contains a slash.`);const S=c.path.child(jt.fromString(T));if(!Re.isDocumentKey(S))throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const k=new Re(S);b.push(Uh(d,k))}else{const S=gN(f,m,T);b.push(S)}}return new yl(b,g)})(t._query,t.firestore._databaseId,i,e,n,r)}}function L_(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new ye(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ov(e)&&n.indexOf("/")!==-1)throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(jt.fromString(n));if(!Re.isDocumentKey(r))throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uh(t,new Re(r))}if(n instanceof Hn)return Uh(t,n._key);throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(n)}.`)}function F_(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _N(t,e){const n=(function(i,a){for(const c of i)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class a4{convertValue(e,n="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((c=>Jt(c.doubleValue)));return new ry(a)}convertGeoPoint(e){return new ny(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Av(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){const n=yo(e);return new gn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=jt.fromString(e);gt(W1(r));const i=new qc(r.get(1),r.get(3)),a=new Re(r.popFirst(5));return i.isEqual(n)||xi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EN extends ly{constructor(e,n,r,i,a,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _h extends EN{data(e={}){return super.data(e)}}class NN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new _h(this._firestore,this._userDataWriter,r.key,r,new kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const f=new _h(i._firestore,i._userDataWriter,d.doc.key,d.doc,new kc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new _h(i._firestore,i._userDataWriter,d.doc.key,d.doc,new kc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:l4(d.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function l4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){t=vr(t,Hn);const e=vr(t.firestore,_i);return qO(Rf(e),t._key).then((n=>SN(e,t,n)))}class py extends a4{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function hi(t){t=vr(t,qs);const e=vr(t.firestore,_i),n=Rf(e),r=new py(e);return wN(t._query),WO(n,t._query).then((i=>new NN(e,r,t,i)))}function Gh(t,e,n){t=vr(t,Hn);const r=vr(t.firestore,_i),i=bN(t.converter,e);return Uf(r,[mN(bu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$r.none())])}function ul(t,e,n,...r){t=vr(t,Hn);const i=vr(t.firestore,_i),a=bu(i);let c;return c=typeof(e=Rt(e))=="string"||e instanceof Pf?t4(a,"updateDoc",t._key,e,n,r):e4(a,"updateDoc",t._key,e),Uf(i,[c.toMutation(t._key,$r.exists(!0))])}function c4(t){return Uf(vr(t.firestore,_i),[new Lv(t._key,$r.none())])}function Vf(t,e){const n=vr(t.firestore,_i),r=En(t),i=bN(t.converter,e);return Uf(n,[mN(bu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then((()=>r))}function bl(t,...e){var n,r,i;t=Rt(t);let a={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||M_(e[c])||(a=e[c],c++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(M_(e[c])){const g=e[c];e[c]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[c+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[c+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let f,m,v;if(t instanceof Hn)m=vr(t.firestore,_i),v=_f(t._key.path),f={next:g=>{e[c]&&e[c](SN(m,t,g))},error:e[c+1],complete:e[c+2]};else{const g=vr(t,qs);m=vr(g.firestore,_i),v=g._query;const _=new py(m);f={next:b=>{e[c]&&e[c](new NN(m,_,g,b))},error:e[c+1],complete:e[c+2]},wN(t._query)}return(function(_,b,j,T){const S=new ty(T),k=new Zv(b,S,j);return _.asyncQueue.enqueueAndForget((async()=>Yv(await Hh(_),k))),()=>{S.Za(),_.asyncQueue.enqueueAndForget((async()=>Xv(await Hh(_),k)))}})(Rf(m),v,d,f)}function Uf(t,e){return(function(r,i){const a=new mi;return r.asyncQueue.enqueueAndForget((async()=>PO(await $O(r),i,a))),a.promise})(Rf(t),e)}function SN(t,e,n){const r=n.docs.get(e._key),i=new py(t);return new EN(t,i,e._key,r,new kc(n.hasPendingWrites,n.fromCache),e.converter)}function js(){return new iy("serverTimestamp")}(function(e,n=!0){(function(i){Il=i})(la),Zo(new go("firestore",((r,{instanceIdentifier:i,options:a})=>{const c=r.getProvider("app").getImmediate(),d=new _i(new dP(r.getProvider("auth-internal")),new mP(r.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(m.options.projectId,v)})(c,i),c);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Ps(e_,"4.7.3",e),Ps(e_,"4.7.3","esm2017")})();var u4="firebase",d4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(u4,d4,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="firebasestorage.googleapis.com",jN="storageBucket",h4=120*1e3,f4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends $s{constructor(e,n,r=0){super(Km(e),`Firebase Storage: ${n} (${Km(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gt||(Gt={}));function Km(t){return"storage/"+t}function my(){const t="An unknown error occurred, please check the error payload for server response.";return new Qt(Gt.UNKNOWN,t)}function p4(t){return new Qt(Gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function m4(t){return new Qt(Gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function g4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Gt.UNAUTHENTICATED,t)}function v4(){return new Qt(Gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function y4(t){return new Qt(Gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function x4(){return new Qt(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function w4(){return new Qt(Gt.CANCELED,"User canceled the upload/download.")}function _4(t){return new Qt(Gt.INVALID_URL,"Invalid URL '"+t+"'.")}function b4(t){return new Qt(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function E4(){return new Qt(Gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jN+"' property when initializing the app?")}function N4(){return new Qt(Gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function S4(){return new Qt(Gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function T4(t){return new Qt(Gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qg(t){return new Qt(Gt.INVALID_ARGUMENT,t)}function kN(){return new Qt(Gt.APP_DELETED,"The Firebase app was deleted.")}function j4(t){return new Qt(Gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Oc(t,e){return new Qt(Gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xc(t){throw new Qt(Gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ir.makeFromUrl(e,n)}catch{return new Ir(e,"")}if(r.path==="")return r;throw b4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+i+c,"i"),f={bucket:1,path:3};function m(B){B.path_=decodeURIComponent(B.path)}const v="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",b=new RegExp(`^https?://${g}/${v}/b/${i}/o${_}`,"i"),j={bucket:1,path:3},T=n===TN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",k=new RegExp(`^https?://${T}/${i}/${S}`,"i"),O=[{regex:d,indices:f,postModify:a},{regex:b,indices:j,postModify:m},{regex:k,indices:{bucket:1,path:2},postModify:m}];for(let B=0;B<O.length;B++){const K=O[B],J=K.regex.exec(e);if(J){const R=J[K.indices.bucket];let C=J[K.indices.path];C||(C=""),r=new Ir(R,C),K.postModify(r);break}}if(r==null)throw _4(e);return r}}class k4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t,e,n){let r=1,i=null,a=null,c=!1,d=0;function f(){return d===2}let m=!1;function v(...S){m||(m=!0,e.apply(null,S))}function g(S){i=setTimeout(()=>{i=null,t(b,f())},S)}function _(){a&&clearTimeout(a)}function b(S,...k){if(m){_();return}if(S){_(),v.call(null,S,...k);return}if(f()||c){_(),v.call(null,S,...k);return}r<64&&(r*=2);let O;d===1?(d=2,O=0):O=(r+Math.random())*1e3,g(O)}let j=!1;function T(S){j||(j=!0,_(),!m&&(i!==null?(S||(d=2),clearTimeout(i),g(0)):S||(d=1)))}return g(0),a=setTimeout(()=>{c=!0,T(!0)},n),T}function C4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t){return t!==void 0}function R4(t){return typeof t=="object"&&!Array.isArray(t)}function gy(t){return typeof t=="string"||t instanceof String}function V_(t){return vy()&&t instanceof Blob}function vy(){return typeof Blob<"u"}function U_(t,e,n,r){if(r<e)throw qg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw qg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function IN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,i,a,c,d,f,m,v,g,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,j)=>{this.resolve_=b,this.reject_=j,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new eh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const d=a.getErrorCode()===Xo.NO_ERROR,f=a.getStatus();if(!d||P4(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Xo.ABORT;r(!1,new eh(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new eh(m,a))})},n=(r,i)=>{const a=this.resolve_,c=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());A4(f)?a(f):a()}catch(f){c(f)}else if(d!==null){const f=my();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(i.canceled){const f=this.appDelete_?kN():w4();c(f)}else{const f=x4();c(f)}};this.canceled_?n(!1,new eh(!1,null,!0)):this.backoffId_=I4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&C4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function O4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function M4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function L4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function F4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function V4(t,e,n,r,i,a,c=!0){const d=IN(t.urlParams),f=t.url+d,m=Object.assign({},t.headers);return L4(m,e),O4(m,n),M4(m,a),F4(m,r),new D4(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function B4(...t){const e=U4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(vy())return new Blob(t);throw new Qt(Gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function z4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){if(typeof atob>"u")throw T4("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gm{constructor(e,n){this.data=e,this.contentType=n||null}}function q4(t,e){switch(t){case As.RAW:return new Gm(CN(e));case As.BASE64:case As.BASE64URL:return new Gm(AN(t,e));case As.DATA_URL:return new Gm(H4(e),K4(e))}throw my()}function CN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,c=t.charCodeAt(++n);r=65536|(a&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function W4(t){let e;try{e=decodeURIComponent(t)}catch{throw Oc(As.DATA_URL,"Malformed data URL.")}return CN(e)}function AN(t,e){switch(t){case As.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Oc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case As.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Oc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$4(e)}catch(i){throw i.message.includes("polyfill")?i:Oc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class RN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Oc(As.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=G4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function H4(t){const e=new RN(t);return e.base64?AN(As.BASE64,e.rest):W4(e.rest)}function K4(t){return new RN(t).contentType}function G4(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){let r=0,i="";V_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(V_(this.data_)){const r=this.data_,i=z4(r,e,n);return i===null?null:new ao(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ao(r,!0)}}static getBlob(...e){if(vy()){const n=e.map(r=>r instanceof ao?r.data_:r);return new ao(B4.apply(null,n))}else{const n=e.map(c=>gy(c)?q4(As.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)i[a++]=c[d]}),new ao(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){let e;try{e=JSON.parse(t)}catch{return null}return R4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Y4(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function DN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e){return e}class Zn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||X4}}let th=null;function J4(t){return!gy(t)||t.length<2?t:DN(t)}function ON(){if(th)return th;const t=[];t.push(new Zn("bucket")),t.push(new Zn("generation")),t.push(new Zn("metageneration")),t.push(new Zn("name","fullPath",!0));function e(a,c){return J4(c)}const n=new Zn("name");n.xform=e,t.push(n);function r(a,c){return c!==void 0?Number(c):c}const i=new Zn("size");return i.xform=r,t.push(i),t.push(new Zn("timeCreated")),t.push(new Zn("updated")),t.push(new Zn("md5Hash",null,!0)),t.push(new Zn("cacheControl",null,!0)),t.push(new Zn("contentDisposition",null,!0)),t.push(new Zn("contentEncoding",null,!0)),t.push(new Zn("contentLanguage",null,!0)),t.push(new Zn("contentType",null,!0)),t.push(new Zn("metadata","customMetadata",!0)),th=t,th}function Z4(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Ir(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function eM(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const c=n[a];r[c.local]=c.xform(r,e[c.server])}return Z4(r,t),r}function MN(t,e,n){const r=PN(e);return r===null?null:eM(t,r,n)}function tM(t,e,n,r){const i=PN(e);if(i===null||!gy(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(m=>{const v=t.bucket,g=t.fullPath,_="/b/"+c(v)+"/o/"+c(g),b=yy(_,n,r),j=IN({alt:"media",token:m});return b+j})[0]}function nM(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class LN{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){if(!t)throw my()}function rM(t,e){function n(r,i){const a=MN(t,i,e);return FN(a!==null),a}return n}function sM(t,e){function n(r,i){const a=MN(t,i,e);return FN(a!==null),tM(a,i,t.host,t._protocol)}return n}function VN(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=v4():i=g4():n.getStatus()===402?i=m4(t.bucket):n.getStatus()===403?i=y4(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function iM(t){const e=VN(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=p4(t.path)),a.serverResponse=i.serverResponse,a}return n}function oM(t,e,n){const r=e.fullServerUrl(),i=yy(r,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,d=new LN(i,a,sM(t,n),c);return d.errorHandler=iM(e),d}function aM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function lM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=aM(null,e)),r}function cM(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let O="";for(let B=0;B<2;B++)O=O+Math.random().toString().slice(2);return O}const f=d();c["Content-Type"]="multipart/related; boundary="+f;const m=lM(e,r,i),v=nM(m,n),g="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,_=`\r
--`+f+"--",b=ao.getBlob(g,r,_);if(b===null)throw N4();const j={name:m.fullPath},T=yy(a,t.host,t._protocol),S="POST",k=t.maxUploadRetryTime,P=new LN(T,S,rM(t,n),k);return P.urlParams=j,P.headers=c,P.body=b.uploadData(),P.errorHandler=VN(e),P}class uM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw xc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class dM extends uM{initXhr(){this.xhr_.responseType="text"}}function UN(){return new dM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this._service=e,n instanceof Ir?this._location=n:this._location=Ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ia(e,n)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DN(this._location.path)}get storage(){return this._service}get parent(){const e=Q4(this._location.path);if(e===null)return null;const n=new Ir(this._location.bucket,e);return new ia(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw j4(e)}}function hM(t,e,n){t._throwIfRoot("uploadBytes");const r=cM(t.storage,t._location,ON(),new ao(e,!0),n);return t.storage.makeRequestWithTokens(r,UN).then(i=>({metadata:i,ref:t}))}function fM(t){t._throwIfRoot("getDownloadURL");const e=oM(t.storage,t._location,ON());return t.storage.makeRequestWithTokens(e,UN).then(n=>{if(n===null)throw S4();return n})}function pM(t,e){const n=Y4(t._location.path,e),r=new Ir(t._location.bucket,n);return new ia(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t){return/^[A-Za-z]+:\/\//.test(t)}function gM(t,e){return new ia(t,e)}function BN(t,e){if(t instanceof xy){const n=t;if(n._bucket==null)throw E4();const r=new ia(n,n._bucket);return e!=null?BN(r,e):r}else return e!==void 0?pM(t,e):t}function vM(t,e){if(e&&mM(e)){if(t instanceof xy)return gM(t,e);throw qg("To use ref(service, url), the first argument must be a Storage instance.")}else return BN(t,e)}function B_(t,e){const n=e?.[jN];return n==null?null:Ir.makeFromBucketSpec(n,t)}function yM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:wE(i,t.app.options.projectId))}class xy{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=TN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=h4,this._maxUploadRetryTime=f4,this._requests=new Set,i!=null?this._bucket=Ir.makeFromBucketSpec(i,this._host):this._bucket=B_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=B_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){U_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){U_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ia(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new k4(kN());{const c=V4(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const z_="@firebase/storage",$_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="storage";function wy(t,e,n){return t=Rt(t),hM(t,e,n)}function _y(t){return t=Rt(t),fM(t)}function by(t,e){return t=Rt(t),vM(t,e)}function xM(t=wv(),e){t=Rt(t);const r=mf(t,zN).getImmediate({identifier:e}),i=vE("storage");return i&&wM(r,...i),r}function wM(t,e,n,r={}){yM(t,e,n,r)}function _M(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new xy(n,r,i,e,la)}function bM(){Zo(new go(zN,_M,"PUBLIC").setMultipleInstances(!0)),Ps(z_,$_,""),Ps(z_,$_,"esm2017")}bM();const EM={apiKey:"AIzaSyDl6CTS0v8mcxcDP1mT4uhVE1X3kzAjzJA",authDomain:"bazarna-server.firebaseapp.com",projectId:"bazarna-server",storageBucket:"bazarna-server.firebasestorage.app",messagingSenderId:"374169183306",appId:"1:374169183306:web:dfb44a69ba14745360f2b3",measurementId:"G-ZEBTB8BVYX"},Ey=EE(EM),wc=aP(Ey),it=QO(Ey),Ny=xM(Ey),$N=E.createContext(),Mn=()=>{const t=E.useContext($N);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},NM=({children:t})=>{const[e,n]=E.useState(null),[r,i]=E.useState(null),[a,c]=E.useState(!0),[d,f]=E.useState(!1);E.useEffect(()=>{let S=null;const k=QA(wc,async P=>{P?(n(P),S=bl(En(it,"profiles",P.uid),O=>{O.exists()?i(O.data()):i(null),c(!1)},O=>{console.error("Profile listener error:",O),c(!1)})):(n(null),i(null),c(!1),S&&(S(),S=null))});return()=>{k(),S&&S()}},[]);const T={user:e,userProfile:r,login:async(S,k)=>{const P=await HA(wc,S,k),O=P.user;if(!(await Yc(En(it,"profiles",O.uid))).exists()){const K={id:O.uid,email:O.email,role:O.email==="admin@airbnb.com"?"admin":"buyer",kycStatus:O.email==="admin@airbnb.com"?"approved":"not_required",emailVerified:!0,createdAt:new Date,lastLogin:new Date,deviceTokens:[]};await Gh(En(it,"profiles",O.uid),K)}return P},register:async(S,k,P,O="buyer")=>{const B=await WA(wc,S,k),K=B.user;return await Gh(En(it,"profiles",K.uid),{id:K.uid,email:K.email,phone:P,role:O,kycStatus:O==="owner"?"pending":"not_required",emailVerified:!1,createdAt:new Date,lastLogin:new Date,deviceTokens:[]}),await $w(K),B},logout:async()=>{try{return n(null),i(null),await YA(wc),localStorage.removeItem("userProfile"),sessionStorage.clear(),Promise.resolve()}catch(S){throw console.error("Logout error:",S),S}},resetPassword:S=>qA(wc,S),refreshProfile:async()=>{if(e){const S=await Yc(En(it,"profiles",e.uid));S.exists()&&i(S.data())}},resendEmailVerification:async()=>{if(!(!e||e.emailVerified)){if(d){alert("Please wait before resending the verification email.");return}try{await $w(e),alert("Verification email sent!"),f(!0),setTimeout(()=>f(!1),6e4)}catch(S){S.code==="auth/too-many-requests"?alert("Too many requests. Please try again later."):console.error("Error sending email verification:",S)}}},loading:a,cooldown:d};return l.jsx($N.Provider,{value:T,children:t})},qN=E.createContext(),Bf=()=>{const t=E.useContext(qN);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},SM=({children:t})=>{const[e,n]=E.useState(()=>localStorage.getItem("language")||"en"),r=e==="ar";E.useEffect(()=>{localStorage.setItem("language",e),document.documentElement.dir=r?"rtl":"ltr",document.documentElement.lang=e},[e,r]);const a={language:e,setLanguage:n,isRTL:r,toggleLanguage:()=>{n(c=>c==="en"?"ar":"en")}};return l.jsx(qN.Provider,{value:a,children:t})};function WN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=WN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function HN(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=WN(t))&&(r&&(r+=" "),r+=e);return r}const Sy="-",TM=t=>{const e=kM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const d=c.split(Sy);return d[0]===""&&d.length!==1&&d.shift(),KN(d,e)||jM(c)},getConflictingClassGroupIds:(c,d)=>{const f=n[c]||[];return d&&r[c]?[...f,...r[c]]:f}}},KN=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?KN(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Sy);return e.validators.find(({validator:c})=>c(a))?.classGroupId},q_=/^\[(.+)\]$/,jM=t=>{if(q_.test(t)){const e=q_.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},kM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return CM(Object.entries(t.classGroups),n).forEach(([a,c])=>{Wg(c,r,a,e)}),r},Wg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:W_(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(IM(i)){Wg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,c])=>{Wg(c,W_(e,a),n,r)})})},W_=(t,e)=>{let n=t;return e.split(Sy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},IM=t=>t.isThemeGetter,CM=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,d])=>[e+c,d])):a);return[n,i]}):t,AM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,c)=>{n.set(a,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return i(a,c),c},set(a,c){n.has(a)?n.set(a,c):i(a,c)}}},GN="!",RM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,c=d=>{const f=[];let m=0,v=0,g;for(let S=0;S<d.length;S++){let k=d[S];if(m===0){if(k===i&&(r||d.slice(S,S+a)===e)){f.push(d.slice(v,S)),v=S+a;continue}if(k==="/"){g=S;continue}}k==="["?m++:k==="]"&&m--}const _=f.length===0?d:d.substring(v),b=_.startsWith(GN),j=b?_.substring(1):_,T=g&&g>v?g-v:void 0;return{modifiers:f,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:T}};return n?d=>n({className:d,parseClassName:c}):c},PM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},DM=t=>({cache:AM(t.cacheSize),parseClassName:RM(t),...TM(t)}),OM=/\s+/,MM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],c=t.trim().split(OM);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{modifiers:v,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:b}=n(m);let j=!!b,T=r(j?_.substring(0,b):_);if(!T){if(!j){d=m+(d.length>0?" "+d:d);continue}if(T=r(_),!T){d=m+(d.length>0?" "+d:d);continue}j=!1}const S=PM(v).join(":"),k=g?S+GN:S,P=k+T;if(a.includes(P))continue;a.push(P);const O=i(T,j);for(let B=0;B<O.length;++B){const K=O[B];a.push(k+K)}d=m+(d.length>0?" "+d:d)}return d};function LM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=QN(e))&&(r&&(r+=" "),r+=n);return r}const QN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=QN(t[r]))&&(n&&(n+=" "),n+=e);return n};function FM(t,...e){let n,r,i,a=c;function c(f){const m=e.reduce((v,g)=>g(v),t());return n=DM(m),r=n.cache.get,i=n.cache.set,a=d,d(f)}function d(f){const m=r(f);if(m)return m;const v=MM(f,n);return i(f,v),v}return function(){return a(LM.apply(null,arguments))}}const At=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},YN=/^\[(?:([a-z-]+):)?(.+)\]$/i,VM=/^\d+\/\d+$/,UM=new Set(["px","full","screen"]),BM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$M=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ai=t=>dl(t)||UM.has(t)||VM.test(t),Zi=t=>Rl(t,"length",ZM),dl=t=>!!t&&!Number.isNaN(Number(t)),Qm=t=>Rl(t,"number",dl),_c=t=>!!t&&Number.isInteger(Number(t)),HM=t=>t.endsWith("%")&&dl(t.slice(0,-1)),Ye=t=>YN.test(t),eo=t=>BM.test(t),KM=new Set(["length","size","percentage"]),GM=t=>Rl(t,KM,XN),QM=t=>Rl(t,"position",XN),YM=new Set(["image","url"]),XM=t=>Rl(t,YM,tL),JM=t=>Rl(t,"",eL),bc=()=>!0,Rl=(t,e,n)=>{const r=YN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},ZM=t=>zM.test(t)&&!$M.test(t),XN=()=>!1,eL=t=>qM.test(t),tL=t=>WM.test(t),nL=()=>{const t=At("colors"),e=At("spacing"),n=At("blur"),r=At("brightness"),i=At("borderColor"),a=At("borderRadius"),c=At("borderSpacing"),d=At("borderWidth"),f=At("contrast"),m=At("grayscale"),v=At("hueRotate"),g=At("invert"),_=At("gap"),b=At("gradientColorStops"),j=At("gradientColorStopPositions"),T=At("inset"),S=At("margin"),k=At("opacity"),P=At("padding"),O=At("saturate"),B=At("scale"),K=At("sepia"),J=At("skew"),R=At("space"),C=At("translate"),D=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Ye,e],U=()=>[Ye,e],M=()=>["",ai,Zi],oe=()=>["auto",dl,Ye],_e=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",Ye],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[dl,Ye];return{cacheSize:500,separator:":",theme:{colors:[bc],spacing:[ai,Zi],blur:["none","",eo,Ye],brightness:z(),borderColor:[t],borderRadius:["none","","full",eo,Ye],borderSpacing:U(),borderWidth:M(),contrast:z(),grayscale:Q(),hueRotate:z(),invert:Q(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[HM,Zi],inset:V(),margin:V(),opacity:z(),padding:U(),saturate:z(),scale:z(),sepia:Q(),skew:z(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[eo]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._e(),Ye]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_c,Ye]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",_c,Ye]}],"grid-cols":[{"grid-cols":[bc]}],"col-start-end":[{col:["auto",{span:["full",_c,Ye]},Ye]}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":[bc]}],"row-start-end":[{row:["auto",{span:[_c,Ye]},Ye]}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[eo]},eo]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",eo,Zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qm]}],"font-family":[{font:[bc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",dl,Qm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ai,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ai,Zi]}],"underline-offset":[{"underline-offset":["auto",ai,Ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._e(),QM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:ue()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[ai,Ye]}],"outline-w":[{outline:[ai,Zi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[ai,Zi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",eo,JM]}],"shadow-color":[{shadow:[bc]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",eo,Ye]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[g]}],saturate:[{saturate:[O]}],sepia:[{sepia:[K]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[K]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[B]}],"scale-x":[{"scale-x":[B]}],"scale-y":[{"scale-y":[B]}],rotate:[{rotate:[_c,Ye]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ai,Zi,Qm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JN=FM(nL);function Gn(...t){return JN(HN(t))}const Ae=re.forwardRef(({className:t,variant:e="default",size:n="default",asChild:r=!1,...i},a)=>{const c=r?"span":"button",d={default:"bg-primary-500 text-white hover:bg-primary-600",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-gray-300 bg-white hover:bg-gray-50",secondary:"bg-secondary-100 text-secondary-900 hover:bg-secondary-200",ghost:"hover:bg-gray-100",link:"text-primary-500 underline-offset-4 hover:underline"},f={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return l.jsx(c,{className:Gn("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",d[e],f[n],t),ref:a,...i})});Ae.displayName="Button";function Pl(t,e=[]){let n=[];function r(a,c){const d=E.createContext(c),f=n.length;n=[...n,c];const m=g=>{const{scope:_,children:b,...j}=g,T=_?.[t]?.[f]||d,S=E.useMemo(()=>j,Object.values(j));return l.jsx(T.Provider,{value:S,children:b})};m.displayName=a+"Provider";function v(g,_){const b=_?.[t]?.[f]||d,j=E.useContext(b);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[m,v]}const i=()=>{const a=n.map(c=>E.createContext(c));return function(d){const f=d?.[t]||a;return E.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return i.scopeName=t,[r,rL(i,...e)]}function rL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=r.reduce((d,{useScope:f,scopeName:m})=>{const g=f(a)[`__scope${m}`];return{...d,...g}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function Us(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>e.current?.(...n),[])}var us=globalThis?.document?E.useLayoutEffect:()=>{};function H_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zf(...t){return e=>{let n=!1;const r=t.map(i=>{const a=H_(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():H_(t[i],null)}}}}function yr(...t){return E.useCallback(zf(...t),t)}function Qh(t){const e=sL(t),n=E.forwardRef((r,i)=>{const{children:a,...c}=r,d=E.Children.toArray(a),f=d.find(oL);if(f){const m=f.props.children,v=d.map(g=>g===f?E.Children.count(m)>1?E.Children.only(null):E.isValidElement(m)?m.props.children:null:g);return l.jsx(e,{...c,ref:i,children:E.isValidElement(m)?E.cloneElement(m,void 0,v):null})}return l.jsx(e,{...c,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function sL(t){const e=E.forwardRef((n,r)=>{const{children:i,...a}=n;if(E.isValidElement(i)){const c=lL(i),d=aL(a,i.props);return i.type!==E.Fragment&&(d.ref=r?zf(r,c):c),E.cloneElement(i,d)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var iL=Symbol("radix.slottable");function oL(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iL}function aL(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const f=a(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function lL(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nn=cL.reduce((t,e)=>{const n=Qh(`Primitive.${e}`),r=E.forwardRef((i,a)=>{const{asChild:c,...d}=i,f=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ZN(t,e){t&&hv.flushSync(()=>t.dispatchEvent(e))}var Ym={exports:{}},Xm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function uL(){if(K_)return Xm;K_=1;var t=cf();function e(g,_){return g===_&&(g!==0||1/g===1/_)||g!==g&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function d(g,_){var b=_(),j=r({inst:{value:b,getSnapshot:_}}),T=j[0].inst,S=j[1];return a(function(){T.value=b,T.getSnapshot=_,f(T)&&S({inst:T})},[g,b,_]),i(function(){return f(T)&&S({inst:T}),g(function(){f(T)&&S({inst:T})})},[g]),c(b),b}function f(g){var _=g.getSnapshot;g=g.value;try{var b=_();return!n(g,b)}catch{return!0}}function m(g,_){return _()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Xm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,Xm}var G_;function dL(){return G_||(G_=1,Ym.exports=uL()),Ym.exports}var hL=dL();function fL(){return hL.useSyncExternalStore(pL,()=>!0,()=>!1)}function pL(){return()=>{}}var Ty="Avatar",[mL,tB]=Pl(Ty),[gL,eS]=mL(Ty),tS=E.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=E.useState("idle");return l.jsx(gL,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:l.jsx(Nn.span,{...r,ref:e})})});tS.displayName=Ty;var nS="AvatarImage",rS=E.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,c=eS(nS,n),d=vL(r,a),f=Us(m=>{i(m),c.onImageLoadingStatusChange(m)});return us(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?l.jsx(Nn.img,{...a,ref:e,src:r}):null});rS.displayName=nS;var sS="AvatarFallback",iS=E.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=eS(sS,n),[c,d]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(f)}},[r]),c&&a.imageLoadingStatus!=="loaded"?l.jsx(Nn.span,{...i,ref:e}):null});iS.displayName=sS;function Q_(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function vL(t,{referrerPolicy:e,crossOrigin:n}){const r=fL(),i=E.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[c,d]=E.useState(()=>Q_(a,t));return us(()=>{d(Q_(a,t))},[a,t]),us(()=>{const f=g=>()=>{d(g)};if(!a)return;const m=f("loaded"),v=f("error");return a.addEventListener("load",m),a.addEventListener("error",v),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",m),a.removeEventListener("error",v)}},[a,n,e]),c}var oS=tS,aS=rS,lS=iS;function Ar(...t){return JN(HN(t))}const $f=E.forwardRef(({className:t,...e},n)=>l.jsx(oS,{ref:n,className:Ar("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));$f.displayName=oS.displayName;const qf=E.forwardRef(({className:t,...e},n)=>l.jsx(aS,{ref:n,className:Ar("aspect-square h-full w-full",t),...e}));qf.displayName=aS.displayName;const Wf=E.forwardRef(({className:t,...e},n)=>l.jsx(lS,{ref:n,className:Ar("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Wf.displayName=lS.displayName;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Me=(t,e)=>{const n=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:d="",children:f,...m},v)=>E.createElement("svg",{ref:v,...yL,width:i,height:i,stroke:r,strokeWidth:c?Number(a)*24/Number(i):a,className:["lucide",`lucide-${xL(t)}`,d].join(" "),...m},[...e.map(([g,_])=>E.createElement(g,_)),...Array.isArray(f)?f:[f]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=Me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=Me("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Me("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Me("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=Me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=Me("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=Me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=Me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=Me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Me("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=Me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=Me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=Me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=Me("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=Me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=Me("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=Me("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=Me("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=Me("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=Me("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Me("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ot(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}var HL=dv[" useInsertionEffect ".trim().toString()]||us;function fS({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,c]=KL({defaultProp:e,onChange:n}),d=t!==void 0,f=d?t:i;{const v=E.useRef(t!==void 0);E.useEffect(()=>{const g=v.current;g!==d&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,r])}const m=E.useCallback(v=>{if(d){const g=GL(v)?v(t):v;g!==t&&c.current?.(g)}else a(v)},[d,t,a,c]);return[f,m]}function KL({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),i=E.useRef(n),a=E.useRef(e);return HL(()=>{a.current=e},[e]),E.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function GL(t){return typeof t=="function"}function pS(t){const e=t+"CollectionProvider",[n,r]=Pl(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=T=>{const{scope:S,children:k}=T,P=re.useRef(null),O=re.useRef(new Map).current;return l.jsx(i,{scope:S,itemMap:O,collectionRef:P,children:k})};c.displayName=e;const d=t+"CollectionSlot",f=Qh(d),m=re.forwardRef((T,S)=>{const{scope:k,children:P}=T,O=a(d,k),B=yr(S,O.collectionRef);return l.jsx(f,{ref:B,children:P})});m.displayName=d;const v=t+"CollectionItemSlot",g="data-radix-collection-item",_=Qh(v),b=re.forwardRef((T,S)=>{const{scope:k,children:P,...O}=T,B=re.useRef(null),K=yr(S,B),J=a(v,k);return re.useEffect(()=>(J.itemMap.set(B,{ref:B,...O}),()=>void J.itemMap.delete(B))),l.jsx(_,{[g]:"",ref:K,children:P})});b.displayName=v;function j(T){const S=a(t+"CollectionConsumer",T);return re.useCallback(()=>{const P=S.collectionRef.current;if(!P)return[];const O=Array.from(P.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((J,R)=>O.indexOf(J.ref.current)-O.indexOf(R.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:m,ItemSlot:b},j,r]}var QL=E.createContext(void 0);function mS(t){const e=E.useContext(QL);return t||e||"ltr"}function YL(t,e=globalThis?.document){const n=Us(t);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var XL="DismissableLayer",Kg="dismissableLayer.update",JL="dismissableLayer.pointerDownOutside",ZL="dismissableLayer.focusOutside",J_,gS=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vS=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:d,...f}=t,m=E.useContext(gS),[v,g]=E.useState(null),_=v?.ownerDocument??globalThis?.document,[,b]=E.useState({}),j=yr(e,R=>g(R)),T=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),k=T.indexOf(S),P=v?T.indexOf(v):-1,O=m.layersWithOutsidePointerEventsDisabled.size>0,B=P>=k,K=n5(R=>{const C=R.target,D=[...m.branches].some(L=>L.contains(C));!B||D||(i?.(R),c?.(R),R.defaultPrevented||d?.())},_),J=r5(R=>{const C=R.target;[...m.branches].some(L=>L.contains(C))||(a?.(R),c?.(R),R.defaultPrevented||d?.())},_);return YL(R=>{P===m.layers.size-1&&(r?.(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},_),E.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(J_=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),Z_(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=J_)}},[v,_,n,m]),E.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),Z_())},[v,m]),E.useEffect(()=>{const R=()=>b({});return document.addEventListener(Kg,R),()=>document.removeEventListener(Kg,R)},[]),l.jsx(Nn.div,{...f,ref:j,style:{pointerEvents:O?B?"auto":"none":void 0,...t.style},onFocusCapture:ot(t.onFocusCapture,J.onFocusCapture),onBlurCapture:ot(t.onBlurCapture,J.onBlurCapture),onPointerDownCapture:ot(t.onPointerDownCapture,K.onPointerDownCapture)})});vS.displayName=XL;var e5="DismissableLayerBranch",t5=E.forwardRef((t,e)=>{const n=E.useContext(gS),r=E.useRef(null),i=yr(e,r);return E.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(Nn.div,{...t,ref:i})});t5.displayName=e5;function n5(t,e=globalThis?.document){const n=Us(t),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let f=function(){yS(JL,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function r5(t,e=globalThis?.document){const n=Us(t),r=E.useRef(!1);return E.useEffect(()=>{const i=a=>{a.target&&!r.current&&yS(ZL,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Z_(){const t=new CustomEvent(Kg);document.dispatchEvent(t)}function yS(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ZN(i,a):i.dispatchEvent(a)}var Jm=0;function s5(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??eb()),document.body.insertAdjacentElement("beforeend",t[1]??eb()),Jm++,()=>{Jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Jm--}},[])}function eb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zm="focusScope.autoFocusOnMount",eg="focusScope.autoFocusOnUnmount",tb={bubbles:!1,cancelable:!0},i5="FocusScope",xS=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...c}=t,[d,f]=E.useState(null),m=Us(i),v=Us(a),g=E.useRef(null),_=yr(e,T=>f(T)),b=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let T=function(O){if(b.paused||!d)return;const B=O.target;d.contains(B)?g.current=B:to(g.current,{select:!0})},S=function(O){if(b.paused||!d)return;const B=O.relatedTarget;B!==null&&(d.contains(B)||to(g.current,{select:!0}))},k=function(O){if(document.activeElement===document.body)for(const K of O)K.removedNodes.length>0&&to(d)};document.addEventListener("focusin",T),document.addEventListener("focusout",S);const P=new MutationObserver(k);return d&&P.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",S),P.disconnect()}}},[r,d,b.paused]),E.useEffect(()=>{if(d){rb.add(b);const T=document.activeElement;if(!d.contains(T)){const k=new CustomEvent(Zm,tb);d.addEventListener(Zm,m),d.dispatchEvent(k),k.defaultPrevented||(o5(d5(wS(d)),{select:!0}),document.activeElement===T&&to(d))}return()=>{d.removeEventListener(Zm,m),setTimeout(()=>{const k=new CustomEvent(eg,tb);d.addEventListener(eg,v),d.dispatchEvent(k),k.defaultPrevented||to(T??document.body,{select:!0}),d.removeEventListener(eg,v),rb.remove(b)},0)}}},[d,m,v,b]);const j=E.useCallback(T=>{if(!n&&!r||b.paused)return;const S=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,k=document.activeElement;if(S&&k){const P=T.currentTarget,[O,B]=a5(P);O&&B?!T.shiftKey&&k===B?(T.preventDefault(),n&&to(O,{select:!0})):T.shiftKey&&k===O&&(T.preventDefault(),n&&to(B,{select:!0})):k===P&&T.preventDefault()}},[n,r,b.paused]);return l.jsx(Nn.div,{tabIndex:-1,...c,ref:_,onKeyDown:j})});xS.displayName=i5;function o5(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(to(r,{select:e}),document.activeElement!==n)return}function a5(t){const e=wS(t),n=nb(e,t),r=nb(e.reverse(),t);return[n,r]}function wS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nb(t,e){for(const n of t)if(!l5(n,{upTo:e}))return n}function l5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function c5(t){return t instanceof HTMLInputElement&&"select"in t}function to(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&c5(t)&&e&&t.select()}}var rb=u5();function u5(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=sb(t,e),t.unshift(e)},remove(e){t=sb(t,e),t[0]?.resume()}}}function sb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function d5(t){return t.filter(e=>e.tagName!=="A")}var h5=dv[" useId ".trim().toString()]||(()=>{}),f5=0;function Gg(t){const[e,n]=E.useState(h5());return us(()=>{n(r=>r??String(f5++))},[t]),e?`radix-${e}`:""}const p5=["top","right","bottom","left"],wo=Math.min,jr=Math.max,Xh=Math.round,nh=Math.floor,Fs=t=>({x:t,y:t}),m5={left:"right",right:"left",bottom:"top",top:"bottom"},g5={start:"end",end:"start"};function Qg(t,e,n){return jr(t,wo(e,n))}function Ei(t,e){return typeof t=="function"?t(e):t}function Ni(t){return t.split("-")[0]}function Dl(t){return t.split("-")[1]}function Iy(t){return t==="x"?"y":"x"}function Cy(t){return t==="y"?"height":"width"}const v5=new Set(["top","bottom"]);function Rs(t){return v5.has(Ni(t))?"y":"x"}function Ay(t){return Iy(Rs(t))}function y5(t,e,n){n===void 0&&(n=!1);const r=Dl(t),i=Ay(t),a=Cy(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Jh(c)),[c,Jh(c)]}function x5(t){const e=Jh(t);return[Yg(t),e,Yg(e)]}function Yg(t){return t.replace(/start|end/g,e=>g5[e])}const ib=["left","right"],ob=["right","left"],w5=["top","bottom"],_5=["bottom","top"];function b5(t,e,n){switch(t){case"top":case"bottom":return n?e?ob:ib:e?ib:ob;case"left":case"right":return e?w5:_5;default:return[]}}function E5(t,e,n,r){const i=Dl(t);let a=b5(Ni(t),n==="start",r);return i&&(a=a.map(c=>c+"-"+i),e&&(a=a.concat(a.map(Yg)))),a}function Jh(t){return t.replace(/left|right|bottom|top/g,e=>m5[e])}function N5(t){return{top:0,right:0,bottom:0,left:0,...t}}function _S(t){return typeof t!="number"?N5(t):{top:t,right:t,bottom:t,left:t}}function Zh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function ab(t,e,n){let{reference:r,floating:i}=t;const a=Rs(e),c=Ay(e),d=Cy(c),f=Ni(e),m=a==="y",v=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,_=r[d]/2-i[d]/2;let b;switch(f){case"top":b={x:v,y:r.y-i.height};break;case"bottom":b={x:v,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:g};break;case"left":b={x:r.x-i.width,y:g};break;default:b={x:r.x,y:r.y}}switch(Dl(e)){case"start":b[c]-=_*(n&&m?-1:1);break;case"end":b[c]+=_*(n&&m?-1:1);break}return b}const S5=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:c}=n,d=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y:g}=ab(m,r,f),_=r,b={},j=0;for(let T=0;T<d.length;T++){const{name:S,fn:k}=d[T],{x:P,y:O,data:B,reset:K}=await k({x:v,y:g,initialPlacement:r,placement:_,strategy:i,middlewareData:b,rects:m,platform:c,elements:{reference:t,floating:e}});v=P??v,g=O??g,b={...b,[S]:{...b[S],...B}},K&&j<=50&&(j++,typeof K=="object"&&(K.placement&&(_=K.placement),K.rects&&(m=K.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):K.rects),{x:v,y:g}=ab(m,_,f)),T=-1)}return{x:v,y:g,placement:_,strategy:i,middlewareData:b}};async function Zc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:c,elements:d,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:g="floating",altBoundary:_=!1,padding:b=0}=Ei(e,t),j=_S(b),S=d[_?g==="floating"?"reference":"floating":g],k=Zh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:f})),P=g==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),B=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},K=Zh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:P,offsetParent:O,strategy:f}):P);return{top:(k.top-K.top+j.top)/B.y,bottom:(K.bottom-k.bottom+j.bottom)/B.y,left:(k.left-K.left+j.left)/B.x,right:(K.right-k.right+j.right)/B.x}}const T5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:c,elements:d,middlewareData:f}=e,{element:m,padding:v=0}=Ei(t,e)||{};if(m==null)return{};const g=_S(v),_={x:n,y:r},b=Ay(i),j=Cy(b),T=await c.getDimensions(m),S=b==="y",k=S?"top":"left",P=S?"bottom":"right",O=S?"clientHeight":"clientWidth",B=a.reference[j]+a.reference[b]-_[b]-a.floating[j],K=_[b]-a.reference[b],J=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let R=J?J[O]:0;(!R||!await(c.isElement==null?void 0:c.isElement(J)))&&(R=d.floating[O]||a.floating[j]);const C=B/2-K/2,D=R/2-T[j]/2-1,L=wo(g[k],D),V=wo(g[P],D),U=L,M=R-T[j]-V,oe=R/2-T[j]/2+C,_e=Qg(U,oe,M),ue=!f.arrow&&Dl(i)!=null&&oe!==_e&&a.reference[j]/2-(oe<U?L:V)-T[j]/2<0,he=ue?oe<U?oe-U:oe-M:0;return{[b]:_[b]+he,data:{[b]:_e,centerOffset:oe-_e-he,...ue&&{alignmentOffset:he}},reset:ue}}}),j5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:c,initialPlacement:d,platform:f,elements:m}=e,{mainAxis:v=!0,crossAxis:g=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:T=!0,...S}=Ei(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const k=Ni(i),P=Rs(d),O=Ni(d)===d,B=await(f.isRTL==null?void 0:f.isRTL(m.floating)),K=_||(O||!T?[Jh(d)]:x5(d)),J=j!=="none";!_&&J&&K.push(...E5(d,T,j,B));const R=[d,...K],C=await Zc(e,S),D=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&D.push(C[k]),g){const oe=y5(i,c,B);D.push(C[oe[0]],C[oe[1]])}if(L=[...L,{placement:i,overflows:D}],!D.every(oe=>oe<=0)){var V,U;const oe=(((V=a.flip)==null?void 0:V.index)||0)+1,_e=R[oe];if(_e&&(!(g==="alignment"?P!==Rs(_e):!1)||L.every(Y=>Rs(Y.placement)===P?Y.overflows[0]>0:!0)))return{data:{index:oe,overflows:L},reset:{placement:_e}};let ue=(U=L.filter(he=>he.overflows[0]<=0).sort((he,Y)=>he.overflows[1]-Y.overflows[1])[0])==null?void 0:U.placement;if(!ue)switch(b){case"bestFit":{var M;const he=(M=L.filter(Y=>{if(J){const Q=Rs(Y.placement);return Q===P||Q==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Q=>Q>0).reduce((Q,ne)=>Q+ne,0)]).sort((Y,Q)=>Y[1]-Q[1])[0])==null?void 0:M[0];he&&(ue=he);break}case"initialPlacement":ue=d;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};function lb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cb(t){return p5.some(e=>t[e]>=0)}const k5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ei(t,e);switch(r){case"referenceHidden":{const a=await Zc(e,{...i,elementContext:"reference"}),c=lb(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:cb(c)}}}case"escaped":{const a=await Zc(e,{...i,altBoundary:!0}),c=lb(a,n.floating);return{data:{escapedOffsets:c,escaped:cb(c)}}}default:return{}}}}},bS=new Set(["left","top"]);async function I5(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=Ni(n),d=Dl(n),f=Rs(n)==="y",m=bS.has(c)?-1:1,v=a&&f?-1:1,g=Ei(e,t);let{mainAxis:_,crossAxis:b,alignmentAxis:j}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof j=="number"&&(b=d==="end"?j*-1:j),f?{x:b*v,y:_*m}:{x:_*m,y:b*v}}const C5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:c,middlewareData:d}=e,f=await I5(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:c}}}}},A5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:d={fn:S=>{let{x:k,y:P}=S;return{x:k,y:P}}},...f}=Ei(t,e),m={x:n,y:r},v=await Zc(e,f),g=Rs(Ni(i)),_=Iy(g);let b=m[_],j=m[g];if(a){const S=_==="y"?"top":"left",k=_==="y"?"bottom":"right",P=b+v[S],O=b-v[k];b=Qg(P,b,O)}if(c){const S=g==="y"?"top":"left",k=g==="y"?"bottom":"right",P=j+v[S],O=j-v[k];j=Qg(P,j,O)}const T=d.fn({...e,[_]:b,[g]:j});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[_]:a,[g]:c}}}}}},R5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:c}=e,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=Ei(t,e),v={x:n,y:r},g=Rs(i),_=Iy(g);let b=v[_],j=v[g];const T=Ei(d,e),S=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(f){const O=_==="y"?"height":"width",B=a.reference[_]-a.floating[O]+S.mainAxis,K=a.reference[_]+a.reference[O]-S.mainAxis;b<B?b=B:b>K&&(b=K)}if(m){var k,P;const O=_==="y"?"width":"height",B=bS.has(Ni(i)),K=a.reference[g]-a.floating[O]+(B&&((k=c.offset)==null?void 0:k[g])||0)+(B?0:S.crossAxis),J=a.reference[g]+a.reference[O]+(B?0:((P=c.offset)==null?void 0:P[g])||0)-(B?S.crossAxis:0);j<K?j=K:j>J&&(j=J)}return{[_]:b,[g]:j}}}},P5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:c,elements:d}=e,{apply:f=()=>{},...m}=Ei(t,e),v=await Zc(e,m),g=Ni(i),_=Dl(i),b=Rs(i)==="y",{width:j,height:T}=a.floating;let S,k;g==="top"||g==="bottom"?(S=g,k=_===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(k=g,S=_==="end"?"top":"bottom");const P=T-v.top-v.bottom,O=j-v.left-v.right,B=wo(T-v[S],P),K=wo(j-v[k],O),J=!e.middlewareData.shift;let R=B,C=K;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=P),J&&!_){const L=jr(v.left,0),V=jr(v.right,0),U=jr(v.top,0),M=jr(v.bottom,0);b?C=j-2*(L!==0||V!==0?L+V:jr(v.left,v.right)):R=T-2*(U!==0||M!==0?U+M:jr(v.top,v.bottom))}await f({...e,availableWidth:C,availableHeight:R});const D=await c.getDimensions(d.floating);return j!==D.width||T!==D.height?{reset:{rects:!0}}:{}}}};function Kf(){return typeof window<"u"}function Ol(t){return ES(t)?(t.nodeName||"").toLowerCase():"#document"}function Cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hs(t){var e;return(e=(ES(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ES(t){return Kf()?t instanceof Node||t instanceof Cr(t).Node:!1}function ds(t){return Kf()?t instanceof Element||t instanceof Cr(t).Element:!1}function zs(t){return Kf()?t instanceof HTMLElement||t instanceof Cr(t).HTMLElement:!1}function ub(t){return!Kf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cr(t).ShadowRoot}const D5=new Set(["inline","contents"]);function Tu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=hs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!D5.has(i)}const O5=new Set(["table","td","th"]);function M5(t){return O5.has(Ol(t))}const L5=[":popover-open",":modal"];function Gf(t){return L5.some(e=>{try{return t.matches(e)}catch{return!1}})}const F5=["transform","translate","scale","rotate","perspective"],V5=["transform","translate","scale","rotate","perspective","filter"],U5=["paint","layout","strict","content"];function Ry(t){const e=Py(),n=ds(t)?hs(t):t;return F5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||V5.some(r=>(n.willChange||"").includes(r))||U5.some(r=>(n.contain||"").includes(r))}function B5(t){let e=_o(t);for(;zs(e)&&!Nl(e);){if(Ry(e))return e;if(Gf(e))return null;e=_o(e)}return null}function Py(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const z5=new Set(["html","body","#document"]);function Nl(t){return z5.has(Ol(t))}function hs(t){return Cr(t).getComputedStyle(t)}function Qf(t){return ds(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _o(t){if(Ol(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ub(t)&&t.host||Hs(t);return ub(e)?e.host:e}function NS(t){const e=_o(t);return Nl(e)?t.ownerDocument?t.ownerDocument.body:t.body:zs(e)&&Tu(e)?e:NS(e)}function eu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=NS(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),c=Cr(i);if(a){const d=Xg(c);return e.concat(c,c.visualViewport||[],Tu(i)?i:[],d&&n?eu(d):[])}return e.concat(i,eu(i,[],n))}function Xg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function SS(t){const e=hs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=zs(t),a=i?t.offsetWidth:n,c=i?t.offsetHeight:r,d=Xh(n)!==a||Xh(r)!==c;return d&&(n=a,r=c),{width:n,height:r,$:d}}function Dy(t){return ds(t)?t:t.contextElement}function hl(t){const e=Dy(t);if(!zs(e))return Fs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=SS(e);let c=(a?Xh(n.width):n.width)/r,d=(a?Xh(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const $5=Fs(0);function TS(t){const e=Cr(t);return!Py()||!e.visualViewport?$5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function q5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Cr(t)?!1:e}function oa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Dy(t);let c=Fs(1);e&&(r?ds(r)&&(c=hl(r)):c=hl(t));const d=q5(a,n,r)?TS(a):Fs(0);let f=(i.left+d.x)/c.x,m=(i.top+d.y)/c.y,v=i.width/c.x,g=i.height/c.y;if(a){const _=Cr(a),b=r&&ds(r)?Cr(r):r;let j=_,T=Xg(j);for(;T&&r&&b!==j;){const S=hl(T),k=T.getBoundingClientRect(),P=hs(T),O=k.left+(T.clientLeft+parseFloat(P.paddingLeft))*S.x,B=k.top+(T.clientTop+parseFloat(P.paddingTop))*S.y;f*=S.x,m*=S.y,v*=S.x,g*=S.y,f+=O,m+=B,j=Cr(T),T=Xg(j)}}return Zh({width:v,height:g,x:f,y:m})}function Yf(t,e){const n=Qf(t).scrollLeft;return e?e.left+n:oa(Hs(t)).left+n}function jS(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Yf(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function W5(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",c=Hs(r),d=e?Gf(e.floating):!1;if(r===c||d&&a)return n;let f={scrollLeft:0,scrollTop:0},m=Fs(1);const v=Fs(0),g=zs(r);if((g||!g&&!a)&&((Ol(r)!=="body"||Tu(c))&&(f=Qf(r)),zs(r))){const b=oa(r);m=hl(r),v.x=b.x+r.clientLeft,v.y=b.y+r.clientTop}const _=c&&!g&&!a?jS(c,f):Fs(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+v.x+_.x,y:n.y*m.y-f.scrollTop*m.y+v.y+_.y}}function H5(t){return Array.from(t.getClientRects())}function K5(t){const e=Hs(t),n=Qf(t),r=t.ownerDocument.body,i=jr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=jr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Yf(t);const d=-n.scrollTop;return hs(r).direction==="rtl"&&(c+=jr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:c,y:d}}const db=25;function G5(t,e){const n=Cr(t),r=Hs(t),i=n.visualViewport;let a=r.clientWidth,c=r.clientHeight,d=0,f=0;if(i){a=i.width,c=i.height;const v=Py();(!v||v&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}const m=Yf(r);if(m<=0){const v=r.ownerDocument,g=v.body,_=getComputedStyle(g),b=v.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,j=Math.abs(r.clientWidth-g.clientWidth-b);j<=db&&(a-=j)}else m<=db&&(a+=m);return{width:a,height:c,x:d,y:f}}const Q5=new Set(["absolute","fixed"]);function Y5(t,e){const n=oa(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=zs(t)?hl(t):Fs(1),c=t.clientWidth*a.x,d=t.clientHeight*a.y,f=i*a.x,m=r*a.y;return{width:c,height:d,x:f,y:m}}function hb(t,e,n){let r;if(e==="viewport")r=G5(t,n);else if(e==="document")r=K5(Hs(t));else if(ds(e))r=Y5(e,n);else{const i=TS(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Zh(r)}function kS(t,e){const n=_o(t);return n===e||!ds(n)||Nl(n)?!1:hs(n).position==="fixed"||kS(n,e)}function X5(t,e){const n=e.get(t);if(n)return n;let r=eu(t,[],!1).filter(d=>ds(d)&&Ol(d)!=="body"),i=null;const a=hs(t).position==="fixed";let c=a?_o(t):t;for(;ds(c)&&!Nl(c);){const d=hs(c),f=Ry(c);!f&&d.position==="fixed"&&(i=null),(a?!f&&!i:!f&&d.position==="static"&&!!i&&Q5.has(i.position)||Tu(c)&&!f&&kS(t,c))?r=r.filter(v=>v!==c):i=d,c=_o(c)}return e.set(t,r),r}function J5(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const c=[...n==="clippingAncestors"?Gf(e)?[]:X5(e,this._c):[].concat(n),r],d=c[0],f=c.reduce((m,v)=>{const g=hb(e,v,i);return m.top=jr(g.top,m.top),m.right=wo(g.right,m.right),m.bottom=wo(g.bottom,m.bottom),m.left=jr(g.left,m.left),m},hb(e,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Z5(t){const{width:e,height:n}=SS(t);return{width:e,height:n}}function e3(t,e,n){const r=zs(e),i=Hs(e),a=n==="fixed",c=oa(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const f=Fs(0);function m(){f.x=Yf(i)}if(r||!r&&!a)if((Ol(e)!=="body"||Tu(i))&&(d=Qf(e)),r){const b=oa(e,!0,a,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else i&&m();a&&!r&&i&&m();const v=i&&!r&&!a?jS(i,d):Fs(0),g=c.left+d.scrollLeft-f.x-v.x,_=c.top+d.scrollTop-f.y-v.y;return{x:g,y:_,width:c.width,height:c.height}}function tg(t){return hs(t).position==="static"}function fb(t,e){if(!zs(t)||hs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hs(t)===n&&(n=n.ownerDocument.body),n}function IS(t,e){const n=Cr(t);if(Gf(t))return n;if(!zs(t)){let i=_o(t);for(;i&&!Nl(i);){if(ds(i)&&!tg(i))return i;i=_o(i)}return n}let r=fb(t,e);for(;r&&M5(r)&&tg(r);)r=fb(r,e);return r&&Nl(r)&&tg(r)&&!Ry(r)?n:r||B5(t)||n}const t3=async function(t){const e=this.getOffsetParent||IS,n=this.getDimensions,r=await n(t.floating);return{reference:e3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n3(t){return hs(t).direction==="rtl"}const r3={convertOffsetParentRelativeRectToViewportRelativeRect:W5,getDocumentElement:Hs,getClippingRect:J5,getOffsetParent:IS,getElementRects:t3,getClientRects:H5,getDimensions:Z5,getScale:hl,isElement:ds,isRTL:n3};function CS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function s3(t,e){let n=null,r;const i=Hs(t);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),a();const m=t.getBoundingClientRect(),{left:v,top:g,width:_,height:b}=m;if(d||e(),!_||!b)return;const j=nh(g),T=nh(i.clientWidth-(v+_)),S=nh(i.clientHeight-(g+b)),k=nh(v),O={rootMargin:-j+"px "+-T+"px "+-S+"px "+-k+"px",threshold:jr(0,wo(1,f))||1};let B=!0;function K(J){const R=J[0].intersectionRatio;if(R!==f){if(!B)return c();R?c(!1,R):r=setTimeout(()=>{c(!1,1e-7)},1e3)}R===1&&!CS(m,t.getBoundingClientRect())&&c(),B=!1}try{n=new IntersectionObserver(K,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(K,O)}n.observe(t)}return c(!0),a}function i3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=Dy(t),v=i||a?[...m?eu(m):[],...eu(e)]:[];v.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),a&&k.addEventListener("resize",n)});const g=m&&d?s3(m,n):null;let _=-1,b=null;c&&(b=new ResizeObserver(k=>{let[P]=k;P&&P.target===m&&b&&(b.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var O;(O=b)==null||O.observe(e)})),n()}),m&&!f&&b.observe(m),b.observe(e));let j,T=f?oa(t):null;f&&S();function S(){const k=oa(t);T&&!CS(T,k)&&n(),T=k,j=requestAnimationFrame(S)}return n(),()=>{var k;v.forEach(P=>{i&&P.removeEventListener("scroll",n),a&&P.removeEventListener("resize",n)}),g?.(),(k=b)==null||k.disconnect(),b=null,f&&cancelAnimationFrame(j)}}const o3=C5,a3=A5,l3=j5,c3=P5,u3=k5,pb=T5,d3=R5,h3=(t,e,n)=>{const r=new Map,i={platform:r3,...n},a={...i.platform,_c:r};return S5(t,e,{...i,platform:a})};var f3=typeof document<"u",p3=function(){},bh=f3?E.useLayoutEffect:p3;function ef(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ef(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!ef(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function AS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mb(t,e){const n=AS(t);return Math.round(e*n)/n}function ng(t){const e=E.useRef(t);return bh(()=>{e.current=t}),e}function m3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:c}={},transform:d=!0,whileElementsMounted:f,open:m}=t,[v,g]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[_,b]=E.useState(r);ef(_,r)||b(r);const[j,T]=E.useState(null),[S,k]=E.useState(null),P=E.useCallback(Y=>{Y!==J.current&&(J.current=Y,T(Y))},[]),O=E.useCallback(Y=>{Y!==R.current&&(R.current=Y,k(Y))},[]),B=a||j,K=c||S,J=E.useRef(null),R=E.useRef(null),C=E.useRef(v),D=f!=null,L=ng(f),V=ng(i),U=ng(m),M=E.useCallback(()=>{if(!J.current||!R.current)return;const Y={placement:e,strategy:n,middleware:_};V.current&&(Y.platform=V.current),h3(J.current,R.current,Y).then(Q=>{const ne={...Q,isPositioned:U.current!==!1};oe.current&&!ef(C.current,ne)&&(C.current=ne,hv.flushSync(()=>{g(ne)}))})},[_,e,n,V,U]);bh(()=>{m===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(Y=>({...Y,isPositioned:!1})))},[m]);const oe=E.useRef(!1);bh(()=>(oe.current=!0,()=>{oe.current=!1}),[]),bh(()=>{if(B&&(J.current=B),K&&(R.current=K),B&&K){if(L.current)return L.current(B,K,M);M()}},[B,K,M,L,D]);const _e=E.useMemo(()=>({reference:J,floating:R,setReference:P,setFloating:O}),[P,O]),ue=E.useMemo(()=>({reference:B,floating:K}),[B,K]),he=E.useMemo(()=>{const Y={position:n,left:0,top:0};if(!ue.floating)return Y;const Q=mb(ue.floating,v.x),ne=mb(ue.floating,v.y);return d?{...Y,transform:"translate("+Q+"px, "+ne+"px)",...AS(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ne}},[n,d,ue.floating,v.x,v.y]);return E.useMemo(()=>({...v,update:M,refs:_e,elements:ue,floatingStyles:he}),[v,M,_e,ue,he])}const g3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?pb({element:r.current,padding:i}).fn(n):{}:r?pb({element:r,padding:i}).fn(n):{}}}},v3=(t,e)=>({...o3(t),options:[t,e]}),y3=(t,e)=>({...a3(t),options:[t,e]}),x3=(t,e)=>({...d3(t),options:[t,e]}),w3=(t,e)=>({...l3(t),options:[t,e]}),_3=(t,e)=>({...c3(t),options:[t,e]}),b3=(t,e)=>({...u3(t),options:[t,e]}),E3=(t,e)=>({...g3(t),options:[t,e]});var N3="Arrow",RS=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return l.jsx(Nn.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});RS.displayName=N3;var S3=RS;function T3(t){const[e,n]=E.useState(void 0);return us(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let c,d;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,d=m.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Oy="Popper",[PS,DS]=Pl(Oy),[j3,OS]=PS(Oy),MS=t=>{const{__scopePopper:e,children:n}=t,[r,i]=E.useState(null);return l.jsx(j3,{scope:e,anchor:r,onAnchorChange:i,children:n})};MS.displayName=Oy;var LS="PopperAnchor",FS=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=OS(LS,n),c=E.useRef(null),d=yr(e,c),f=E.useRef(null);return E.useEffect(()=>{const m=f.current;f.current=r?.current||c.current,m!==f.current&&a.onAnchorChange(f.current)}),r?null:l.jsx(Nn.div,{...i,ref:d})});FS.displayName=LS;var My="PopperContent",[k3,I3]=PS(My),VS=E.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:g="partial",hideWhenDetached:_=!1,updatePositionStrategy:b="optimized",onPlaced:j,...T}=t,S=OS(My,n),[k,P]=E.useState(null),O=yr(e,we=>P(we)),[B,K]=E.useState(null),J=T3(B),R=J?.width??0,C=J?.height??0,D=r+(a!=="center"?"-"+a:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},V=Array.isArray(m)?m:[m],U=V.length>0,M={padding:L,boundary:V.filter(A3),altBoundary:U},{refs:oe,floatingStyles:_e,placement:ue,isPositioned:he,middlewareData:Y}=m3({strategy:"fixed",placement:D,whileElementsMounted:(...we)=>i3(...we,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[v3({mainAxis:i+C,alignmentAxis:c}),f&&y3({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?x3():void 0,...M}),f&&w3({...M}),_3({...M,apply:({elements:we,rects:ge,availableWidth:Le,availableHeight:Ge})=>{const{width:$e,height:ve}=ge.reference,qe=we.floating.style;qe.setProperty("--radix-popper-available-width",`${Le}px`),qe.setProperty("--radix-popper-available-height",`${Ge}px`),qe.setProperty("--radix-popper-anchor-width",`${$e}px`),qe.setProperty("--radix-popper-anchor-height",`${ve}px`)}}),B&&E3({element:B,padding:d}),R3({arrowWidth:R,arrowHeight:C}),_&&b3({strategy:"referenceHidden",...M})]}),[Q,ne]=zS(ue),z=Us(j);us(()=>{he&&z?.()},[he,z]);const Z=Y.arrow?.x,se=Y.arrow?.y,fe=Y.arrow?.centerOffset!==0,[xe,Ee]=E.useState();return us(()=>{k&&Ee(window.getComputedStyle(k).zIndex)},[k]),l.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{..._e,transform:he?_e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(k3,{scope:n,placedSide:Q,onArrowChange:K,arrowX:Z,arrowY:se,shouldHideArrow:fe,children:l.jsx(Nn.div,{"data-side":Q,"data-align":ne,...T,ref:O,style:{...T.style,animation:he?void 0:"none"}})})})});VS.displayName=My;var US="PopperArrow",C3={top:"bottom",right:"left",bottom:"top",left:"right"},BS=E.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=I3(US,r),c=C3[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(S3,{...i,ref:n,style:{...i.style,display:"block"}})})});BS.displayName=US;function A3(t){return t!==null}var R3=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,c=i.arrow?.centerOffset!==0,d=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[m,v]=zS(n),g={start:"0%",center:"50%",end:"100%"}[v],_=(i.arrow?.x??0)+d/2,b=(i.arrow?.y??0)+f/2;let j="",T="";return m==="bottom"?(j=c?g:`${_}px`,T=`${-f}px`):m==="top"?(j=c?g:`${_}px`,T=`${r.floating.height+f}px`):m==="right"?(j=`${-f}px`,T=c?g:`${b}px`):m==="left"&&(j=`${r.floating.width+f}px`,T=c?g:`${b}px`),{data:{x:j,y:T}}}});function zS(t){const[e,n="center"]=t.split("-");return[e,n]}var P3=MS,D3=FS,O3=VS,M3=BS,L3="Portal",$S=E.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=E.useState(!1);us(()=>a(!0),[]);const c=n||i&&globalThis?.document?.body;return c?Qb.createPortal(l.jsx(Nn.div,{...r,ref:e}),c):null});$S.displayName=L3;function F3(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var ju=t=>{const{present:e,children:n}=t,r=V3(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),a=yr(r.ref,U3(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:a}):null};ju.displayName="Presence";function V3(t){const[e,n]=E.useState(),r=E.useRef(null),i=E.useRef(t),a=E.useRef("none"),c=t?"mounted":"unmounted",[d,f]=F3(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const m=rh(r.current);a.current=d==="mounted"?m:"none"},[d]),us(()=>{const m=r.current,v=i.current;if(v!==t){const _=a.current,b=rh(m);t?f("MOUNT"):b==="none"||m?.display==="none"?f("UNMOUNT"):f(v&&_!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),us(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,g=b=>{const T=rh(r.current).includes(CSS.escape(b.animationName));if(b.target===e&&T&&(f("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},_=b=>{b.target===e&&(a.current=rh(r.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:E.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function rh(t){return t?.animationName||"none"}function U3(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rg="rovingFocusGroup.onEntryFocus",B3={bubbles:!1,cancelable:!0},ku="RovingFocusGroup",[Jg,qS,z3]=pS(ku),[$3,WS]=Pl(ku,[z3]),[q3,W3]=$3(ku),HS=E.forwardRef((t,e)=>l.jsx(Jg.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Jg.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(H3,{...t,ref:e})})}));HS.displayName=ku;var H3=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...g}=t,_=E.useRef(null),b=yr(e,_),j=mS(a),[T,S]=fS({prop:c,defaultProp:d??null,onChange:f,caller:ku}),[k,P]=E.useState(!1),O=Us(m),B=qS(n),K=E.useRef(!1),[J,R]=E.useState(0);return E.useEffect(()=>{const C=_.current;if(C)return C.addEventListener(rg,O),()=>C.removeEventListener(rg,O)},[O]),l.jsx(q3,{scope:n,orientation:r,dir:j,loop:i,currentTabStopId:T,onItemFocus:E.useCallback(C=>S(C),[S]),onItemShiftTab:E.useCallback(()=>P(!0),[]),onFocusableItemAdd:E.useCallback(()=>R(C=>C+1),[]),onFocusableItemRemove:E.useCallback(()=>R(C=>C-1),[]),children:l.jsx(Nn.div,{tabIndex:k||J===0?-1:0,"data-orientation":r,...g,ref:b,style:{outline:"none",...t.style},onMouseDown:ot(t.onMouseDown,()=>{K.current=!0}),onFocus:ot(t.onFocus,C=>{const D=!K.current;if(C.target===C.currentTarget&&D&&!k){const L=new CustomEvent(rg,B3);if(C.currentTarget.dispatchEvent(L),!L.defaultPrevented){const V=B().filter(ue=>ue.focusable),U=V.find(ue=>ue.active),M=V.find(ue=>ue.id===T),_e=[U,M,...V].filter(Boolean).map(ue=>ue.ref.current);QS(_e,v)}}K.current=!1}),onBlur:ot(t.onBlur,()=>P(!1))})})}),KS="RovingFocusGroupItem",GS=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:c,...d}=t,f=Gg(),m=a||f,v=W3(KS,n),g=v.currentTabStopId===m,_=qS(n),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:T}=v;return E.useEffect(()=>{if(r)return b(),()=>j()},[r,b,j]),l.jsx(Jg.ItemSlot,{scope:n,id:m,focusable:r,active:i,children:l.jsx(Nn.span,{tabIndex:g?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:ot(t.onMouseDown,S=>{r?v.onItemFocus(m):S.preventDefault()}),onFocus:ot(t.onFocus,()=>v.onItemFocus(m)),onKeyDown:ot(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){v.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const k=Q3(S,v.orientation,v.dir);if(k!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let O=_().filter(B=>B.focusable).map(B=>B.ref.current);if(k==="last")O.reverse();else if(k==="prev"||k==="next"){k==="prev"&&O.reverse();const B=O.indexOf(S.currentTarget);O=v.loop?Y3(O,B+1):O.slice(B+1)}setTimeout(()=>QS(O))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:T!=null}):c})})});GS.displayName=KS;var K3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G3(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Q3(t,e,n){const r=G3(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return K3[r]}function QS(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Y3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var X3=HS,J3=GS,Z3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xa=new WeakMap,sh=new WeakMap,ih={},sg=0,YS=function(t){return t&&(t.host||YS(t.parentNode))},eF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=YS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},tF=function(t,e,n,r){var i=eF(e,Array.isArray(t)?t:[t]);ih[n]||(ih[n]=new WeakMap);var a=ih[n],c=[],d=new Set,f=new Set(i),m=function(g){!g||d.has(g)||(d.add(g),m(g.parentNode))};i.forEach(m);var v=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(_){if(d.has(_))v(_);else try{var b=_.getAttribute(r),j=b!==null&&b!=="false",T=(Xa.get(_)||0)+1,S=(a.get(_)||0)+1;Xa.set(_,T),a.set(_,S),c.push(_),T===1&&j&&sh.set(_,!0),S===1&&_.setAttribute(n,"true"),j||_.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",_,k)}})};return v(e),d.clear(),sg++,function(){c.forEach(function(g){var _=Xa.get(g)-1,b=a.get(g)-1;Xa.set(g,_),a.set(g,b),_||(sh.has(g)||g.removeAttribute(r),sh.delete(g)),b||g.removeAttribute(n)}),sg--,sg||(Xa=new WeakMap,Xa=new WeakMap,sh=new WeakMap,ih={})}},nF=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Z3(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),tF(r,i,n,"aria-hidden")):function(){return null}},Eh="right-scroll-bar-position",Nh="width-before-scroll-bar",rF="with-scroll-bars-hidden",sF="--removed-body-scroll-bar-size";function ig(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function iF(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var oF=typeof window<"u"?E.useLayoutEffect:E.useEffect,gb=new WeakMap;function aF(t,e){var n=iF(null,function(r){return t.forEach(function(i){return ig(i,r)})});return oF(function(){var r=gb.get(n);if(r){var i=new Set(r),a=new Set(t),c=n.current;i.forEach(function(d){a.has(d)||ig(d,null)}),a.forEach(function(d){i.has(d)||ig(d,c)})}gb.set(n,t)},[t]),n}function lF(t){return t}function cF(t,e){e===void 0&&(e=lF);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var c=e(a,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(a){for(r=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(a),c=n}var f=function(){var v=c;c=[],v.forEach(a)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(v){c.push(v),m()},filter:function(v){return c=c.filter(v),n}}}};return i}function uF(t){t===void 0&&(t={});var e=cF(null);return e.options=ks({async:!0,ssr:!1},t),e}var XS=function(t){var e=t.sideCar,n=du(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,ks({},n))};XS.isSideCarExport=!0;function dF(t,e){return t.useMedium(e),XS}var JS=uF(),og=function(){},Xf=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:og,onWheelCapture:og,onTouchMoveCapture:og}),i=r[0],a=r[1],c=t.forwardProps,d=t.children,f=t.className,m=t.removeScrollBar,v=t.enabled,g=t.shards,_=t.sideCar,b=t.noRelative,j=t.noIsolation,T=t.inert,S=t.allowPinchZoom,k=t.as,P=k===void 0?"div":k,O=t.gapMode,B=du(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=_,J=aF([n,e]),R=ks(ks({},B),i);return E.createElement(E.Fragment,null,v&&E.createElement(K,{sideCar:JS,removeScrollBar:m,shards:g,noRelative:b,noIsolation:j,inert:T,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:O}),c?E.cloneElement(E.Children.only(d),ks(ks({},R),{ref:J})):E.createElement(P,ks({},R,{className:f,ref:J}),d))});Xf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xf.classNames={fullWidth:Nh,zeroRight:Eh};var hF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=hF();return e&&t.setAttribute("nonce",e),t}function pF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function mF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var gF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=fF())&&(pF(e,n),mF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vF=function(){var t=gF();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ZS=function(){var t=vF(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},yF={left:0,top:0,right:0,gap:0},ag=function(t){return parseInt(t||"",10)||0},xF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ag(n),ag(r),ag(i)]},wF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return yF;var e=xF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},_F=ZS(),fl="data-scroll-locked",bF=function(t,e,n,r){var i=t.left,a=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(rF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(fl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Eh,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Nh,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Eh," .").concat(Eh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Nh," .").concat(Nh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fl,`] {
    `).concat(sF,": ").concat(d,`px;
  }
`)},vb=function(){var t=parseInt(document.body.getAttribute(fl)||"0",10);return isFinite(t)?t:0},EF=function(){E.useEffect(function(){return document.body.setAttribute(fl,(vb()+1).toString()),function(){var t=vb()-1;t<=0?document.body.removeAttribute(fl):document.body.setAttribute(fl,t.toString())}},[])},NF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;EF();var a=E.useMemo(function(){return wF(i)},[i]);return E.createElement(_F,{styles:bF(a,!e,i,n?"":"!important")})},Zg=!1;if(typeof window<"u")try{var oh=Object.defineProperty({},"passive",{get:function(){return Zg=!0,!0}});window.addEventListener("test",oh,oh),window.removeEventListener("test",oh,oh)}catch{Zg=!1}var Ja=Zg?{passive:!1}:!1,SF=function(t){return t.tagName==="TEXTAREA"},eT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!SF(t)&&n[e]==="visible")},TF=function(t){return eT(t,"overflowY")},jF=function(t){return eT(t,"overflowX")},yb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=tT(t,r);if(i){var a=nT(t,r),c=a[1],d=a[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},IF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},tT=function(t,e){return t==="v"?TF(e):jF(e)},nT=function(t,e){return t==="v"?kF(e):IF(e)},CF=function(t,e){return t==="h"&&e==="rtl"?-1:1},AF=function(t,e,n,r,i){var a=CF(t,window.getComputedStyle(e).direction),c=a*r,d=n.target,f=e.contains(d),m=!1,v=c>0,g=0,_=0;do{if(!d)break;var b=nT(t,d),j=b[0],T=b[1],S=b[2],k=T-S-a*j;(j||k)&&tT(t,d)&&(g+=k,_+=j);var P=d.parentNode;d=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(v&&Math.abs(g)<1||!v&&Math.abs(_)<1)&&(m=!0),m},ah=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xb=function(t){return[t.deltaX,t.deltaY]},wb=function(t){return t&&"current"in t?t.current:t},RF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},PF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},DF=0,Za=[];function OF(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(DF++)[0],a=E.useState(ZS)[0],c=E.useRef(t);E.useEffect(function(){c.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var T=HC([t.lockRef.current],(t.shards||[]).map(wb),!0).filter(Boolean);return T.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),T.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=E.useCallback(function(T,S){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!c.current.allowPinchZoom;var k=ah(T),P=n.current,O="deltaX"in T?T.deltaX:P[0]-k[0],B="deltaY"in T?T.deltaY:P[1]-k[1],K,J=T.target,R=Math.abs(O)>Math.abs(B)?"h":"v";if("touches"in T&&R==="h"&&J.type==="range")return!1;var C=yb(R,J);if(!C)return!0;if(C?K=R:(K=R==="v"?"h":"v",C=yb(R,J)),!C)return!1;if(!r.current&&"changedTouches"in T&&(O||B)&&(r.current=K),!K)return!0;var D=r.current||K;return AF(D,S,T,D==="h"?O:B)},[]),f=E.useCallback(function(T){var S=T;if(!(!Za.length||Za[Za.length-1]!==a)){var k="deltaY"in S?xb(S):ah(S),P=e.current.filter(function(K){return K.name===S.type&&(K.target===S.target||S.target===K.shadowParent)&&RF(K.delta,k)})[0];if(P&&P.should){S.cancelable&&S.preventDefault();return}if(!P){var O=(c.current.shards||[]).map(wb).filter(Boolean).filter(function(K){return K.contains(S.target)}),B=O.length>0?d(S,O[0]):!c.current.noIsolation;B&&S.cancelable&&S.preventDefault()}}},[]),m=E.useCallback(function(T,S,k,P){var O={name:T,delta:S,target:k,should:P,shadowParent:MF(k)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(B){return B!==O})},1)},[]),v=E.useCallback(function(T){n.current=ah(T),r.current=void 0},[]),g=E.useCallback(function(T){m(T.type,xb(T),T.target,d(T,t.lockRef.current))},[]),_=E.useCallback(function(T){m(T.type,ah(T),T.target,d(T,t.lockRef.current))},[]);E.useEffect(function(){return Za.push(a),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:_}),document.addEventListener("wheel",f,Ja),document.addEventListener("touchmove",f,Ja),document.addEventListener("touchstart",v,Ja),function(){Za=Za.filter(function(T){return T!==a}),document.removeEventListener("wheel",f,Ja),document.removeEventListener("touchmove",f,Ja),document.removeEventListener("touchstart",v,Ja)}},[]);var b=t.removeScrollBar,j=t.inert;return E.createElement(E.Fragment,null,j?E.createElement(a,{styles:PF(i)}):null,b?E.createElement(NF,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function MF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const LF=dF(JS,OF);var rT=E.forwardRef(function(t,e){return E.createElement(Xf,ks({},t,{ref:e,sideCar:LF}))});rT.classNames=Xf.classNames;var ev=["Enter"," "],FF=["ArrowDown","PageUp","Home"],sT=["ArrowUp","PageDown","End"],VF=[...FF,...sT],UF={ltr:[...ev,"ArrowRight"],rtl:[...ev,"ArrowLeft"]},BF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Iu="Menu",[tu,zF,$F]=pS(Iu),[fa,iT]=Pl(Iu,[$F,DS,WS]),Jf=DS(),oT=WS(),[qF,pa]=fa(Iu),[WF,Cu]=fa(Iu),aT=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:c=!0}=t,d=Jf(e),[f,m]=E.useState(null),v=E.useRef(!1),g=Us(a),_=mS(i);return E.useEffect(()=>{const b=()=>{v.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>v.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),l.jsx(P3,{...d,children:l.jsx(qF,{scope:e,open:n,onOpenChange:g,content:f,onContentChange:m,children:l.jsx(WF,{scope:e,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:v,dir:_,modal:c,children:r})})})};aT.displayName=Iu;var HF="MenuAnchor",Ly=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Jf(n);return l.jsx(D3,{...i,...r,ref:e})});Ly.displayName=HF;var Fy="MenuPortal",[KF,lT]=fa(Fy,{forceMount:void 0}),cT=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=pa(Fy,e);return l.jsx(KF,{scope:e,forceMount:n,children:l.jsx(ju,{present:n||a.open,children:l.jsx($S,{asChild:!0,container:i,children:r})})})};cT.displayName=Fy;var Wr="MenuContent",[GF,Vy]=fa(Wr),uT=E.forwardRef((t,e)=>{const n=lT(Wr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=pa(Wr,t.__scopeMenu),c=Cu(Wr,t.__scopeMenu);return l.jsx(tu.Provider,{scope:t.__scopeMenu,children:l.jsx(ju,{present:r||a.open,children:l.jsx(tu.Slot,{scope:t.__scopeMenu,children:c.modal?l.jsx(QF,{...i,ref:e}):l.jsx(YF,{...i,ref:e})})})})}),QF=E.forwardRef((t,e)=>{const n=pa(Wr,t.__scopeMenu),r=E.useRef(null),i=yr(e,r);return E.useEffect(()=>{const a=r.current;if(a)return nF(a)},[]),l.jsx(Uy,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ot(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),YF=E.forwardRef((t,e)=>{const n=pa(Wr,t.__scopeMenu);return l.jsx(Uy,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),XF=Qh("MenuContent.ScrollLock"),Uy=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:_,onDismiss:b,disableOutsideScroll:j,...T}=t,S=pa(Wr,n),k=Cu(Wr,n),P=Jf(n),O=oT(n),B=zF(n),[K,J]=E.useState(null),R=E.useRef(null),C=yr(e,R,S.onContentChange),D=E.useRef(0),L=E.useRef(""),V=E.useRef(0),U=E.useRef(null),M=E.useRef("right"),oe=E.useRef(0),_e=j?rT:E.Fragment,ue=j?{as:XF,allowPinchZoom:!0}:void 0,he=Q=>{const ne=L.current+Q,z=B().filter(we=>!we.disabled),Z=document.activeElement,se=z.find(we=>we.ref.current===Z)?.textValue,fe=z.map(we=>we.textValue),xe=cV(fe,ne,se),Ee=z.find(we=>we.textValue===xe)?.ref.current;(function we(ge){L.current=ge,window.clearTimeout(D.current),ge!==""&&(D.current=window.setTimeout(()=>we(""),1e3))})(ne),Ee&&setTimeout(()=>Ee.focus())};E.useEffect(()=>()=>window.clearTimeout(D.current),[]),s5();const Y=E.useCallback(Q=>M.current===U.current?.side&&dV(Q,U.current?.area),[]);return l.jsx(GF,{scope:n,searchRef:L,onItemEnter:E.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),onItemLeave:E.useCallback(Q=>{Y(Q)||(R.current?.focus(),J(null))},[Y]),onTriggerLeave:E.useCallback(Q=>{Y(Q)&&Q.preventDefault()},[Y]),pointerGraceTimerRef:V,onPointerGraceIntentChange:E.useCallback(Q=>{U.current=Q},[]),children:l.jsx(_e,{...ue,children:l.jsx(xS,{asChild:!0,trapped:i,onMountAutoFocus:ot(a,Q=>{Q.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:l.jsx(vS,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:_,onDismiss:b,children:l.jsx(X3,{asChild:!0,...O,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:K,onCurrentTabStopIdChange:J,onEntryFocus:ot(f,Q=>{k.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(O3,{role:"menu","aria-orientation":"vertical","data-state":TT(S.open),"data-radix-menu-content":"",dir:k.dir,...P,...T,ref:C,style:{outline:"none",...T.style},onKeyDown:ot(T.onKeyDown,Q=>{const z=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,Z=Q.ctrlKey||Q.altKey||Q.metaKey,se=Q.key.length===1;z&&(Q.key==="Tab"&&Q.preventDefault(),!Z&&se&&he(Q.key));const fe=R.current;if(Q.target!==fe||!VF.includes(Q.key))return;Q.preventDefault();const Ee=B().filter(we=>!we.disabled).map(we=>we.ref.current);sT.includes(Q.key)&&Ee.reverse(),aV(Ee)}),onBlur:ot(t.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(D.current),L.current="")}),onPointerMove:ot(t.onPointerMove,nu(Q=>{const ne=Q.target,z=oe.current!==Q.clientX;if(Q.currentTarget.contains(ne)&&z){const Z=Q.clientX>oe.current?"right":"left";M.current=Z,oe.current=Q.clientX}}))})})})})})})});uT.displayName=Wr;var JF="MenuGroup",By=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(Nn.div,{role:"group",...r,ref:e})});By.displayName=JF;var ZF="MenuLabel",dT=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(Nn.div,{...r,ref:e})});dT.displayName=ZF;var tf="MenuItem",_b="menu.itemSelect",Zf=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=E.useRef(null),c=Cu(tf,t.__scopeMenu),d=Vy(tf,t.__scopeMenu),f=yr(e,a),m=E.useRef(!1),v=()=>{const g=a.current;if(!n&&g){const _=new CustomEvent(_b,{bubbles:!0,cancelable:!0});g.addEventListener(_b,b=>r?.(b),{once:!0}),ZN(g,_),_.defaultPrevented?m.current=!1:c.onClose()}};return l.jsx(hT,{...i,ref:f,disabled:n,onClick:ot(t.onClick,v),onPointerDown:g=>{t.onPointerDown?.(g),m.current=!0},onPointerUp:ot(t.onPointerUp,g=>{m.current||g.currentTarget?.click()}),onKeyDown:ot(t.onKeyDown,g=>{const _=d.searchRef.current!=="";n||_&&g.key===" "||ev.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Zf.displayName=tf;var hT=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,c=Vy(tf,n),d=oT(n),f=E.useRef(null),m=yr(e,f),[v,g]=E.useState(!1),[_,b]=E.useState("");return E.useEffect(()=>{const j=f.current;j&&b((j.textContent??"").trim())},[a.children]),l.jsx(tu.ItemSlot,{scope:n,disabled:r,textValue:i??_,children:l.jsx(J3,{asChild:!0,...d,focusable:!r,children:l.jsx(Nn.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:m,onPointerMove:ot(t.onPointerMove,nu(j=>{r?c.onItemLeave(j):(c.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ot(t.onPointerLeave,nu(j=>c.onItemLeave(j))),onFocus:ot(t.onFocus,()=>g(!0)),onBlur:ot(t.onBlur,()=>g(!1))})})})}),eV="MenuCheckboxItem",fT=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return l.jsx(yT,{scope:t.__scopeMenu,checked:n,children:l.jsx(Zf,{role:"menuitemcheckbox","aria-checked":nf(n)?"mixed":n,...i,ref:e,"data-state":$y(n),onSelect:ot(i.onSelect,()=>r?.(nf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});fT.displayName=eV;var pT="MenuRadioGroup",[tV,nV]=fa(pT,{value:void 0,onValueChange:()=>{}}),mT=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=Us(r);return l.jsx(tV,{scope:t.__scopeMenu,value:n,onValueChange:a,children:l.jsx(By,{...i,ref:e})})});mT.displayName=pT;var gT="MenuRadioItem",vT=E.forwardRef((t,e)=>{const{value:n,...r}=t,i=nV(gT,t.__scopeMenu),a=n===i.value;return l.jsx(yT,{scope:t.__scopeMenu,checked:a,children:l.jsx(Zf,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":$y(a),onSelect:ot(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});vT.displayName=gT;var zy="MenuItemIndicator",[yT,rV]=fa(zy,{checked:!1}),xT=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=rV(zy,n);return l.jsx(ju,{present:r||nf(a.checked)||a.checked===!0,children:l.jsx(Nn.span,{...i,ref:e,"data-state":$y(a.checked)})})});xT.displayName=zy;var sV="MenuSeparator",wT=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(Nn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});wT.displayName=sV;var iV="MenuArrow",_T=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Jf(n);return l.jsx(M3,{...i,...r,ref:e})});_T.displayName=iV;var oV="MenuSub",[nB,bT]=fa(oV),Ic="MenuSubTrigger",ET=E.forwardRef((t,e)=>{const n=pa(Ic,t.__scopeMenu),r=Cu(Ic,t.__scopeMenu),i=bT(Ic,t.__scopeMenu),a=Vy(Ic,t.__scopeMenu),c=E.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=a,m={__scopeMenu:t.__scopeMenu},v=E.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return E.useEffect(()=>v,[v]),E.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),f(null)}},[d,f]),l.jsx(Ly,{asChild:!0,...m,children:l.jsx(hT,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":TT(n.open),...t,ref:zf(e,i.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ot(t.onPointerMove,nu(g=>{a.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:ot(t.onPointerLeave,nu(g=>{v();const _=n.content?.getBoundingClientRect();if(_){const b=n.content?.dataset.side,j=b==="right",T=j?-5:5,S=_[j?"left":"right"],k=_[j?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+T,y:g.clientY},{x:S,y:_.top},{x:k,y:_.top},{x:k,y:_.bottom},{x:S,y:_.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ot(t.onKeyDown,g=>{const _=a.searchRef.current!=="";t.disabled||_&&g.key===" "||UF[r.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});ET.displayName=Ic;var NT="MenuSubContent",ST=E.forwardRef((t,e)=>{const n=lT(Wr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=pa(Wr,t.__scopeMenu),c=Cu(Wr,t.__scopeMenu),d=bT(NT,t.__scopeMenu),f=E.useRef(null),m=yr(e,f);return l.jsx(tu.Provider,{scope:t.__scopeMenu,children:l.jsx(ju,{present:r||a.open,children:l.jsx(tu.Slot,{scope:t.__scopeMenu,children:l.jsx(Uy,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{c.isUsingKeyboardRef.current&&f.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:ot(t.onFocusOutside,v=>{v.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ot(t.onEscapeKeyDown,v=>{c.onClose(),v.preventDefault()}),onKeyDown:ot(t.onKeyDown,v=>{const g=v.currentTarget.contains(v.target),_=BF[c.dir].includes(v.key);g&&_&&(a.onOpenChange(!1),d.trigger?.focus(),v.preventDefault())})})})})})});ST.displayName=NT;function TT(t){return t?"open":"closed"}function nf(t){return t==="indeterminate"}function $y(t){return nf(t)?"indeterminate":t?"checked":"unchecked"}function aV(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function lV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function cV(t,e,n){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let c=lV(t,Math.max(a,0));i.length===1&&(c=c.filter(m=>m!==n));const f=c.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function uV(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const d=e[a],f=e[c],m=d.x,v=d.y,g=f.x,_=f.y;v>r!=_>r&&n<(g-m)*(r-v)/(_-v)+m&&(i=!i)}return i}function dV(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return uV(n,e)}function nu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var hV=aT,fV=Ly,pV=cT,mV=uT,gV=By,vV=dT,yV=Zf,xV=fT,wV=mT,_V=vT,bV=xT,EV=wT,NV=_T,SV=ET,TV=ST,ep="DropdownMenu",[jV,rB]=Pl(ep,[iT]),er=iT(),[kV,jT]=jV(ep),kT=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:c,modal:d=!0}=t,f=er(e),m=E.useRef(null),[v,g]=fS({prop:i,defaultProp:a??!1,onChange:c,caller:ep});return l.jsx(kV,{scope:e,triggerId:Gg(),triggerRef:m,contentId:Gg(),open:v,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(_=>!_),[g]),modal:d,children:l.jsx(hV,{...f,open:v,onOpenChange:g,dir:r,modal:d,children:n})})};kT.displayName=ep;var IT="DropdownMenuTrigger",CT=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=jT(IT,n),c=er(n);return l.jsx(fV,{asChild:!0,...c,children:l.jsx(Nn.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:zf(e,a.triggerRef),onPointerDown:ot(t.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:ot(t.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});CT.displayName=IT;var IV="DropdownMenuPortal",AT=t=>{const{__scopeDropdownMenu:e,...n}=t,r=er(e);return l.jsx(pV,{...r,...n})};AT.displayName=IV;var RT="DropdownMenuContent",PT=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=jT(RT,n),a=er(n),c=E.useRef(!1);return l.jsx(mV,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:ot(t.onCloseAutoFocus,d=>{c.current||i.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:ot(t.onInteractOutside,d=>{const f=d.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,v=f.button===2||m;(!i.modal||v)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PT.displayName=RT;var CV="DropdownMenuGroup",AV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=er(n);return l.jsx(gV,{...i,...r,ref:e})});AV.displayName=CV;var RV="DropdownMenuLabel",DT=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=er(n);return l.jsx(vV,{...i,...r,ref:e})});DT.displayName=RV;var PV="DropdownMenuItem",OT=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=er(n);return l.jsx(yV,{...i,...r,ref:e})});OT.displayName=PV;var DV="DropdownMenuCheckboxItem",MT=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=er(n);return l.jsx(xV,{...i,...r,ref:e})});MT.displayName=DV;var OV="DropdownMenuRadioGroup",MV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=er(n);return l.jsx(wV,{...i,...r,ref:e})});MV.displayName=OV;var LV="DropdownMenuRadioItem",LT=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=er(n);return l.jsx(_V,{...i,...r,ref:e})});LT.displayName=LV;var FV="DropdownMenuItemIndicator",FT=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=er(n);return l.jsx(bV,{...i,...r,ref:e})});FT.displayName=FV;var VV="DropdownMenuSeparator",VT=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=er(n);return l.jsx(EV,{...i,...r,ref:e})});VT.displayName=VV;var UV="DropdownMenuArrow",BV=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=er(n);return l.jsx(NV,{...i,...r,ref:e})});BV.displayName=UV;var zV="DropdownMenuSubTrigger",UT=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=er(n);return l.jsx(SV,{...i,...r,ref:e})});UT.displayName=zV;var $V="DropdownMenuSubContent",BT=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=er(n);return l.jsx(TV,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BT.displayName=$V;var qV=kT,WV=CT,HV=AT,zT=PT,$T=DT,qT=OT,WT=MT,HT=LT,KT=FT,GT=VT,QT=UT,YT=BT;const bb=qV,Eb=WV,KV=E.forwardRef(({className:t,inset:e,children:n,...r},i)=>l.jsxs(QT,{ref:i,className:Ar("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,l.jsx(jy,{className:"ml-auto h-4 w-4"})]}));KV.displayName=QT.displayName;const GV=E.forwardRef(({className:t,...e},n)=>l.jsx(YT,{ref:n,className:Ar("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));GV.displayName=YT.displayName;const tv=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(HV,{children:l.jsx(zT,{ref:r,sideOffset:e,className:Ar("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));tv.displayName=zT.displayName;const li=E.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(qT,{ref:r,className:Ar("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));li.displayName=qT.displayName;const QV=E.forwardRef(({className:t,children:e,checked:n,...r},i)=>l.jsxs(WT,{ref:i,className:Ar("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(KT,{children:l.jsx(Hf,{className:"h-4 w-4"})})}),e]}));QV.displayName=WT.displayName;const YV=E.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(HT,{ref:r,className:Ar("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(KT,{children:l.jsx(TL,{className:"h-2 w-2 fill-current"})})}),e]}));YV.displayName=HT.displayName;const XV=E.forwardRef(({className:t,inset:e,...n},r)=>l.jsx($T,{ref:r,className:Ar("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));XV.displayName=$T.displayName;const nv=E.forwardRef(({className:t,...e},n)=>l.jsx(GT,{ref:n,className:Ar("-mx-1 my-1 h-px bg-muted",t),...e}));nv.displayName=GT.displayName;function JV(){const[t,e]=E.useState(!1),{user:n,userProfile:r,logout:i}=Mn(),{language:a,toggleLanguage:c}=Bf(),d=async()=>{await i()};return l.jsx("header",{className:"sticky top-0 z-50 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border bg-transparent",children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 bg-transparent max-w-7xl",children:l.jsxs("div",{className:"flex items-center justify-between h-16 bg-transparent",children:[l.jsx(xt,{to:"/",className:"flex items-center space-x-2",children:l.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-13 w-12 object-contain"})}),l.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2",children:l.jsxs(Ae,{variant:"ghost",size:"sm",className:"flex",onClick:c,children:[l.jsx(IL,{className:"h-4 w-4 mr-2"}),a.toUpperCase()]})}),l.jsx("div",{className:"flex items-center space-x-4",children:n?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ae,{variant:"ghost",size:"sm",asChild:!0,children:l.jsx(xt,{to:"/favorites",children:l.jsx(Xc,{className:"h-4 w-4 text-slate-500"})})}),l.jsxs(bb,{children:[l.jsx(Eb,{asChild:!0,children:l.jsxs(Ae,{variant:"outline",size:"sm",className:"flex items-center space-x-2 bg-transparent",children:[l.jsx(X_,{className:"h-4 w-4"}),l.jsxs($f,{className:"h-6 w-6",children:[l.jsx(qf,{src:n.photoURL||"/placeholder.svg"}),l.jsx(Wf,{children:n.displayName?.charAt(0)||n.email?.charAt(0)||"U"})]})]})}),l.jsxs(tv,{align:"end",className:"w-48 backdrop-blur-xl bg-white/20 dark:bg-gray-800/20 border border-white/30 dark:border-gray-700/30 shadow-xl",children:[l.jsx(li,{asChild:!0,children:l.jsxs(xt,{to:"/profile",children:[l.jsx(Jc,{className:"h-4 w-4 mr-2"}),"Profile"]})}),l.jsx(li,{asChild:!0,children:l.jsxs(xt,{to:"/bookings",children:[l.jsx(LL,{className:"h-4 w-4 mr-2"}),"My Bookings"]})}),l.jsx(nv,{}),l.jsx(li,{asChild:!0,children:l.jsx(xt,{to:"/dashboard",children:"Host Dashboard"})}),l.jsx(li,{asChild:!0,children:l.jsx(xt,{to:"/listings/new",children:"Add Listing"})}),l.jsx(nv,{}),l.jsxs(li,{onClick:d,children:[l.jsx(RL,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]})]}):l.jsxs(bb,{children:[l.jsx(Eb,{asChild:!0,children:l.jsxs(Ae,{variant:"outline",size:"sm",className:"flex items-center space-x-2 bg-transparent",children:[l.jsx(X_,{className:"h-4 w-4"}),l.jsx(Jc,{className:"h-4 w-4"})]})}),l.jsxs(tv,{align:"end",className:"w-48 backdrop-blur-xl bg-white/20 dark:bg-gray-800/20 border border-white/30 dark:border-gray-700/30 shadow-xl",children:[l.jsx(li,{asChild:!0,children:l.jsx(xt,{to:"/auth/register",children:"Sign up"})}),l.jsx(li,{asChild:!0,children:l.jsx(xt,{to:"/auth/login",children:"Log in"})}),l.jsx(li,{asChild:!0,children:l.jsx(xt,{to:"/listings/new",children:"Host your home"})})]})]})})]})})})}const tp=re.forwardRef(({className:t,variant:e="default",...n},r)=>l.jsx("div",{ref:r,role:"alert",className:Gn("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{"border-border bg-background text-foreground":e==="default","border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive":e==="destructive","border-yellow-500/50 text-yellow-600 bg-yellow-50 dark:bg-yellow-900/10 dark:text-yellow-400 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400":e==="warning","border-green-500/50 text-green-600 bg-green-50 dark:bg-green-900/10 dark:text-green-400 [&>svg]:text-green-600 dark:[&>svg]:text-green-400":e==="success","border-blue-500/50 text-blue-600 bg-blue-50 dark:bg-blue-900/10 dark:text-blue-400 [&>svg]:text-blue-600 dark:[&>svg]:text-blue-400":e==="info"},t),...n}));tp.displayName="Alert";const np=re.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Gn("text-sm [&_p]:leading-relaxed",t),...e}));np.displayName="AlertDescription";const ZV=re.forwardRef(({className:t,...e},n)=>l.jsx("h5",{ref:n,className:Gn("mb-1 font-medium leading-none tracking-tight",t),...e}));ZV.displayName="AlertTitle";const Ns=({children:t,requiredRole:e=null,requireEmailVerification:n=!1})=>{const{user:r,userProfile:i,loading:a,resendEmailVerification:c}=Mn();return a?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):r?n&&!r.emailVerified?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"max-w-md w-full",children:l.jsxs(tp,{className:"border-yellow-200 bg-yellow-50",children:[l.jsx(Yh,{className:"h-4 w-4 text-yellow-600"}),l.jsx(np,{className:"text-yellow-800",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"font-medium",children:"Email verification required"}),l.jsx("p",{className:"text-sm",children:"Please verify your email address to access this feature. Check your inbox for a verification link."}),l.jsxs(Ae,{size:"sm",onClick:c,className:"flex items-center space-x-2",children:[l.jsx(ky,{className:"h-4 w-4"}),l.jsx("span",{children:"Resend verification email"})]})]})})]})})}):e&&i?.role!==e?l.jsx(yw,{to:"/dashboard",replace:!0}):t:l.jsx(yw,{to:"/auth/login",replace:!0})};function e6(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const t6=t=>{switch(t){case"success":return s6;case"info":return o6;case"warning":return i6;case"error":return a6;default:return null}},n6=Array(12).fill(0),r6=({visible:t,className:e})=>re.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},re.createElement("div",{className:"sonner-spinner"},n6.map((n,r)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),s6=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),i6=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),o6=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),a6=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),l6=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),c6=()=>{const[t,e]=re.useState(document.hidden);return re.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let rv=1;class u6{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:rv++,c=this.toasts.find(f=>f.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:r}),{...f,...e,id:a,dismissible:d,title:r}):f):this.addToast({title:r,...i,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,c;const d=i.then(async m=>{if(c=["resolve",m],re.isValidElement(m))a=!1,this.create({id:r,type:"default",message:m});else if(h6(m)&&!m.ok){a=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,_=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,j=typeof g=="object"&&!re.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:_,...j})}else if(m instanceof Error){a=!1;const g=typeof n.error=="function"?await n.error(m):n.error,_=typeof n.description=="function"?await n.description(m):n.description,j=typeof g=="object"&&!re.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:_,...j})}else if(n.success!==void 0){a=!1;const g=typeof n.success=="function"?await n.success(m):n.success,_=typeof n.description=="function"?await n.description(m):n.description,j=typeof g=="object"&&!re.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:_,...j})}}).catch(async m=>{if(c=["reject",m],n.error!==void 0){a=!1;const v=typeof n.error=="function"?await n.error(m):n.error,g=typeof n.description=="function"?await n.description(m):n.description,b=typeof v=="object"&&!re.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:g,...b})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((m,v)=>d.then(()=>c[0]==="reject"?v(c[1]):m(c[1])).catch(v));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,n)=>{const r=n?.id||rv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const pr=new u6,d6=(t,e)=>{const n=e?.id||rv++;return pr.addToast({title:t,...e,id:n}),n},h6=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",f6=d6,p6=()=>pr.toasts,m6=()=>pr.getActiveToasts(),lh=Object.assign(f6,{success:pr.success,info:pr.info,warning:pr.warning,error:pr.error,custom:pr.custom,message:pr.message,promise:pr.promise,dismiss:pr.dismiss,loading:pr.loading},{getHistory:p6,getToasts:m6});e6("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ch(t){return t.label!==void 0}const g6=3,v6="24px",y6="16px",Nb=4e3,x6=356,w6=14,_6=45,b6=200;function Ss(...t){return t.filter(Boolean).join(" ")}function E6(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const N6=t=>{var e,n,r,i,a,c,d,f,m;const{invert:v,toast:g,unstyled:_,interacting:b,setHeights:j,visibleToasts:T,heights:S,index:k,toasts:P,expanded:O,removeToast:B,defaultRichColors:K,closeButton:J,style:R,cancelButtonStyle:C,actionButtonStyle:D,className:L="",descriptionClassName:V="",duration:U,position:M,gap:oe,expandByDefault:_e,classNames:ue,icons:he,closeButtonAriaLabel:Y="Close toast"}=t,[Q,ne]=re.useState(null),[z,Z]=re.useState(null),[se,fe]=re.useState(!1),[xe,Ee]=re.useState(!1),[we,ge]=re.useState(!1),[Le,Ge]=re.useState(!1),[$e,ve]=re.useState(!1),[qe,Ze]=re.useState(0),[wt,qt]=re.useState(0),vt=re.useRef(g.duration||U||Nb),on=re.useRef(null),ft=re.useRef(null),Pt=k===0,an=k+1<=T,kt=g.type,ln=g.dismissible!==!1,me=g.className||"",Ie=g.descriptionClassName||"",Ve=re.useMemo(()=>S.findIndex(Pe=>Pe.toastId===g.id)||0,[S,g.id]),Qe=re.useMemo(()=>{var Pe;return(Pe=g.closeButton)!=null?Pe:J},[g.closeButton,J]),yt=re.useMemo(()=>g.duration||U||Nb,[g.duration,U]),cn=re.useRef(0),pt=re.useRef(0),vn=re.useRef(0),Wt=re.useRef(null),[Ln,tr]=M.split("-"),nr=re.useMemo(()=>S.reduce((Pe,_t,bt)=>bt>=Ve?Pe:Pe+_t.height,0),[S,Ve]),rr=c6(),xr=g.invert||v,Sn=kt==="loading";pt.current=re.useMemo(()=>Ve*oe+nr,[Ve,nr]),re.useEffect(()=>{vt.current=yt},[yt]),re.useEffect(()=>{fe(!0)},[]),re.useEffect(()=>{const Pe=ft.current;if(Pe){const _t=Pe.getBoundingClientRect().height;return qt(_t),j(bt=>[{toastId:g.id,height:_t,position:g.position},...bt]),()=>j(bt=>bt.filter(Yt=>Yt.toastId!==g.id))}},[j,g.id]),re.useLayoutEffect(()=>{if(!se)return;const Pe=ft.current,_t=Pe.style.height;Pe.style.height="auto";const bt=Pe.getBoundingClientRect().height;Pe.style.height=_t,qt(bt),j(Yt=>Yt.find(Lt=>Lt.toastId===g.id)?Yt.map(Lt=>Lt.toastId===g.id?{...Lt,height:bt}:Lt):[{toastId:g.id,height:bt,position:g.position},...Yt])},[se,g.title,g.description,j,g.id,g.jsx,g.action,g.cancel]);const en=re.useCallback(()=>{Ee(!0),Ze(pt.current),j(Pe=>Pe.filter(_t=>_t.toastId!==g.id)),setTimeout(()=>{B(g)},b6)},[g,B,j,pt]);re.useEffect(()=>{if(g.promise&&kt==="loading"||g.duration===1/0||g.type==="loading")return;let Pe;return O||b||rr?(()=>{if(vn.current<cn.current){const Yt=new Date().getTime()-cn.current;vt.current=vt.current-Yt}vn.current=new Date().getTime()})():(()=>{vt.current!==1/0&&(cn.current=new Date().getTime(),Pe=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),en()},vt.current))})(),()=>clearTimeout(Pe)},[O,b,g,kt,rr,en]),re.useEffect(()=>{g.delete&&(en(),g.onDismiss==null||g.onDismiss.call(g,g))},[en,g.delete]);function fs(){var Pe;if(he?.loading){var _t;return re.createElement("div",{className:Ss(ue?.loader,g==null||(_t=g.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":kt==="loading"},he.loading)}return re.createElement(r6,{className:Ss(ue?.loader,g==null||(Pe=g.classNames)==null?void 0:Pe.loader),visible:kt==="loading"})}const Tn=g.icon||he?.[kt]||t6(kt);var Fn,Rr;return re.createElement("li",{tabIndex:0,ref:ft,className:Ss(L,me,ue?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,ue?.default,ue?.[kt],g==null||(n=g.classNames)==null?void 0:n[kt]),"data-sonner-toast":"","data-rich-colors":(Fn=g.richColors)!=null?Fn:K,"data-styled":!(g.jsx||g.unstyled||_),"data-mounted":se,"data-promise":!!g.promise,"data-swiped":$e,"data-removed":xe,"data-visible":an,"data-y-position":Ln,"data-x-position":tr,"data-index":k,"data-front":Pt,"data-swiping":we,"data-dismissible":ln,"data-type":kt,"data-invert":xr,"data-swipe-out":Le,"data-swipe-direction":z,"data-expanded":!!(O||_e&&se),"data-testid":g.testId,style:{"--index":k,"--toasts-before":k,"--z-index":P.length-k,"--offset":`${xe?qe:pt.current}px`,"--initial-height":_e?"auto":`${wt}px`,...R,...g.style},onDragEnd:()=>{ge(!1),ne(null),Wt.current=null},onPointerDown:Pe=>{Pe.button!==2&&(Sn||!ln||(on.current=new Date,Ze(pt.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(ge(!0),Wt.current={x:Pe.clientX,y:Pe.clientY})))},onPointerUp:()=>{var Pe,_t,bt;if(Le||!ln)return;Wt.current=null;const Yt=Number(((Pe=ft.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),sr=Number(((_t=ft.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Lt=new Date().getTime()-((bt=on.current)==null?void 0:bt.getTime()),nt=Q==="x"?Yt:sr,Kr=Math.abs(nt)/Lt;if(Math.abs(nt)>=_6||Kr>.11){Ze(pt.current),g.onDismiss==null||g.onDismiss.call(g,g),Z(Q==="x"?Yt>0?"right":"left":sr>0?"down":"up"),en(),Ge(!0);return}else{var Ft,un;(Ft=ft.current)==null||Ft.style.setProperty("--swipe-amount-x","0px"),(un=ft.current)==null||un.style.setProperty("--swipe-amount-y","0px")}ve(!1),ge(!1),ne(null)},onPointerMove:Pe=>{var _t,bt,Yt;if(!Wt.current||!ln||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;const Lt=Pe.clientY-Wt.current.y,nt=Pe.clientX-Wt.current.x;var Kr;const Ft=(Kr=t.swipeDirections)!=null?Kr:E6(M);!Q&&(Math.abs(nt)>1||Math.abs(Lt)>1)&&ne(Math.abs(nt)>Math.abs(Lt)?"x":"y");let un={x:0,y:0};const ps=ir=>1/(1.5+Math.abs(ir)/20);if(Q==="y"){if(Ft.includes("top")||Ft.includes("bottom"))if(Ft.includes("top")&&Lt<0||Ft.includes("bottom")&&Lt>0)un.y=Lt;else{const ir=Lt*ps(Lt);un.y=Math.abs(ir)<Math.abs(Lt)?ir:Lt}}else if(Q==="x"&&(Ft.includes("left")||Ft.includes("right")))if(Ft.includes("left")&&nt<0||Ft.includes("right")&&nt>0)un.x=nt;else{const ir=nt*ps(nt);un.x=Math.abs(ir)<Math.abs(nt)?ir:nt}(Math.abs(un.x)>0||Math.abs(un.y)>0)&&ve(!0),(bt=ft.current)==null||bt.style.setProperty("--swipe-amount-x",`${un.x}px`),(Yt=ft.current)==null||Yt.style.setProperty("--swipe-amount-y",`${un.y}px`)}},Qe&&!g.jsx&&kt!=="loading"?re.createElement("button",{"aria-label":Y,"data-disabled":Sn,"data-close-button":!0,onClick:Sn||!ln?()=>{}:()=>{en(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Ss(ue?.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(Rr=he?.close)!=null?Rr:l6):null,(kt||g.icon||g.promise)&&g.icon!==null&&(he?.[kt]!==null||g.icon)?re.createElement("div",{"data-icon":"",className:Ss(ue?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||fs():null,g.type!=="loading"?Tn:null):null,re.createElement("div",{"data-content":"",className:Ss(ue?.content,g==null||(a=g.classNames)==null?void 0:a.content)},re.createElement("div",{"data-title":"",className:Ss(ue?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?re.createElement("div",{"data-description":"",className:Ss(V,Ie,ue?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),re.isValidElement(g.cancel)?g.cancel:g.cancel&&ch(g.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||C,onClick:Pe=>{ch(g.cancel)&&ln&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Pe),en())},className:Ss(ue?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,re.isValidElement(g.action)?g.action:g.action&&ch(g.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||D,onClick:Pe=>{ch(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Pe),!Pe.defaultPrevented&&en())},className:Ss(ue?.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function Sb(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function S6(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,c=a?"--mobile-offset":"--offset",d=a?y6:v6;function f(m){["top","right","bottom","left"].forEach(v=>{n[`${c}-${v}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?n[`${c}-${m}`]=d:n[`${c}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):f(d)}),n}const T6=re.forwardRef(function(e,n){const{id:r,invert:i,position:a="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:f,className:m,offset:v,mobileOffset:g,theme:_="light",richColors:b,duration:j,style:T,visibleToasts:S=g6,toastOptions:k,dir:P=Sb(),gap:O=w6,icons:B,containerAriaLabel:K="Notifications"}=e,[J,R]=re.useState([]),C=re.useMemo(()=>r?J.filter(se=>se.toasterId===r):J.filter(se=>!se.toasterId),[J,r]),D=re.useMemo(()=>Array.from(new Set([a].concat(C.filter(se=>se.position).map(se=>se.position)))),[C,a]),[L,V]=re.useState([]),[U,M]=re.useState(!1),[oe,_e]=re.useState(!1),[ue,he]=re.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=re.useRef(null),Q=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=re.useRef(null),z=re.useRef(!1),Z=re.useCallback(se=>{R(fe=>{var xe;return(xe=fe.find(Ee=>Ee.id===se.id))!=null&&xe.delete||pr.dismiss(se.id),fe.filter(({id:Ee})=>Ee!==se.id)})},[]);return re.useEffect(()=>pr.subscribe(se=>{if(se.dismiss){requestAnimationFrame(()=>{R(fe=>fe.map(xe=>xe.id===se.id?{...xe,delete:!0}:xe))});return}setTimeout(()=>{Qb.flushSync(()=>{R(fe=>{const xe=fe.findIndex(Ee=>Ee.id===se.id);return xe!==-1?[...fe.slice(0,xe),{...fe[xe],...se},...fe.slice(xe+1)]:[se,...fe]})})})}),[J]),re.useEffect(()=>{if(_!=="system"){he(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?he("dark"):he("light")),typeof window>"u")return;const se=window.matchMedia("(prefers-color-scheme: dark)");try{se.addEventListener("change",({matches:fe})=>{he(fe?"dark":"light")})}catch{se.addListener(({matches:xe})=>{try{he(xe?"dark":"light")}catch(Ee){console.error(Ee)}})}},[_]),re.useEffect(()=>{J.length<=1&&M(!1)},[J]),re.useEffect(()=>{const se=fe=>{var xe;if(c.every(ge=>fe[ge]||fe.code===ge)){var we;M(!0),(we=Y.current)==null||we.focus()}fe.code==="Escape"&&(document.activeElement===Y.current||(xe=Y.current)!=null&&xe.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[c]),re.useEffect(()=>{if(Y.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,z.current=!1)}},[Y.current]),re.createElement("section",{ref:n,"aria-label":`${K} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((se,fe)=>{var xe;const[Ee,we]=se.split("-");return C.length?re.createElement("ol",{key:se,dir:P==="auto"?Sb():P,tabIndex:-1,ref:Y,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ue,"data-y-position":Ee,"data-x-position":we,style:{"--front-toast-height":`${((xe=L[0])==null?void 0:xe.height)||0}px`,"--width":`${x6}px`,"--gap":`${O}px`,...T,...S6(v,g)},onBlur:ge=>{z.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(z.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||z.current||(z.current=!0,ne.current=ge.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{oe||M(!1)},onDragEnd:()=>M(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||_e(!0)},onPointerUp:()=>_e(!1)},C.filter(ge=>!ge.position&&fe===0||ge.position===se).map((ge,Le)=>{var Ge,$e;return re.createElement(N6,{key:ge.id,icons:B,index:Le,toast:ge,defaultRichColors:b,duration:(Ge=k?.duration)!=null?Ge:j,className:k?.className,descriptionClassName:k?.descriptionClassName,invert:i,visibleToasts:S,closeButton:($e=k?.closeButton)!=null?$e:f,interacting:oe,position:se,style:k?.style,unstyled:k?.unstyled,classNames:k?.classNames,cancelButtonStyle:k?.cancelButtonStyle,actionButtonStyle:k?.actionButtonStyle,closeButtonAriaLabel:k?.closeButtonAriaLabel,removeToast:Z,toasts:C.filter(ve=>ve.position==ge.position),heights:L.filter(ve=>ve.position==ge.position),setHeights:V,expandByDefault:d,gap:O,expanded:U,swipeDirections:e.swipeDirections})})):null}))}),j6=()=>l.jsx(T6,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{style:{background:"var(--background)",color:"var(--foreground)",border:"1px solid var(--border)"}}}),Ce=re.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Gn("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",t),...e}));Ce.displayName="Card";const ut=re.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Gn("flex flex-col space-y-1.5 p-6",t),...e}));ut.displayName="CardHeader";const ht=re.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:Gn("text-2xl font-semibold leading-none tracking-tight",t),...e}));ht.displayName="CardTitle";const Hr=re.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:Gn("text-sm text-gray-500",t),...e}));Hr.displayName="CardDescription";const ze=re.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Gn("p-6 pt-0",t),...e}));ze.displayName="CardContent";const k6=re.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Gn("flex items-center p-6 pt-0",t),...e}));k6.displayName="CardFooter";const dt=re.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:Gn("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));dt.displayName="Input";const XT=({listing:t})=>{const e=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(n);return l.jsx(xt,{to:`/property/${t.id}`,children:l.jsxs(Ce,{className:"group cursor-pointer overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[l.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[l.jsx("img",{src:t.image||t.coverPhoto||t.photos&&t.photos[0],alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:n=>{n.target.src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=800&q=80"}}),l.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full",children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Ws,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),l.jsx("span",{className:"text-xs font-medium",children:t.rating})]})})]}),l.jsxs(ze,{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:t.title}),l.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[l.jsx(Bs,{className:"h-4 w-4 mr-1 flex-shrink-0"}),l.jsx("span",{className:"text-sm line-clamp-1",children:t.location})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-lg font-bold text-gray-900",children:e(t.price)}),l.jsxs("div",{className:"text-xs text-gray-500",children:[t.reviews," reviews"]})]})]})]})})},lg=["https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=1200&h=600&fit=crop","https://images.unsplash.com/photo-1560449752-c4715c3d9c5f?w=1200&h=600&fit=crop","https://images.unsplash.com/photo-1560448075-bb485b067938?w=1200&h=600&fit=crop","https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=600&fit=crop","https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=1200&h=600&fit=crop"],Au=re.createContext(),cg=({value:t,onValueChange:e,disabled:n,children:r,...i})=>{const[a,c]=E.useState(!1),[d,f]=E.useState(t||"");E.useEffect(()=>{f(t||"")},[t]);const m=v=>{f(v),e?.(v),c(!1)};return l.jsx(Au.Provider,{value:{isOpen:a,setIsOpen:c,selectedValue:d,handleValueChange:m,disabled:n},children:l.jsx("div",{className:"relative",...i,children:r})})},Sh=re.forwardRef(({className:t,children:e,...n},r)=>{const i=re.useContext(Au);return l.jsxs("button",{ref:r,type:"button",onClick:()=>!i.disabled&&i.setIsOpen(!i.isOpen),className:Gn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),disabled:i.disabled,...n,children:[e,l.jsx(SL,{className:"h-4 w-4 opacity-50"})]})});Sh.displayName="SelectTrigger";const Th=re.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>{const a=re.useContext(Au),c=E.useRef();return E.useEffect(()=>{const d=f=>{c.current&&!c.current.contains(f.target)&&a.setIsOpen(!1)};return a.isOpen&&document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[a.isOpen]),a.isOpen?l.jsx("div",{ref:c,className:Gn("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-900 shadow-lg mt-1 w-full max-h-60 overflow-y-auto",t),...r,children:e}):null});Th.displayName="SelectContent";const rl=re.forwardRef(({className:t,children:e,value:n,...r},i)=>{const a=re.useContext(Au);return l.jsx("div",{ref:i,onClick:()=>a.handleValueChange(n),className:Gn("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 px-2 text-sm outline-none hover:bg-gray-100 focus:bg-gray-100",t),...r,children:e})});rl.displayName="SelectItem";const jh=re.forwardRef(({className:t,placeholder:e,...n},r)=>{const i=re.useContext(Au);return l.jsx("span",{ref:r,className:Gn("block truncate",t),...n,children:i.selectedValue||e})});jh.displayName="SelectValue";const Tb={en:{searchPlaceholder:"Where are you going?",searchButton:"Search",forSale:"For Sale",forRent:"For Rent",propertyType:"Property Type",subCategory:"Sub Category",residential:"Residential",commercial:"Commercial",flat:"Flat",villa:"Villa",room:"Room",office:"Office",shop:"Shop",warehouse:"Warehouse"},ar:{searchPlaceholder:"أين تريد أن تذهب؟",searchButton:"بحث",forSale:"للبيع",forRent:"للإيجار",propertyType:"نوع العقار",subCategory:"الفئة الفرعية",residential:"سكني",commercial:"تجاري",flat:"شقة",villa:"فيلا",room:"غرفة",office:"مكتب",shop:"محل",warehouse:"مستودع"}},I6=()=>{const{language:t}=Bf();return{t:n=>Tb[t]?.[n]||Tb.en[n]||n}},JT=()=>{const{t}=I6(),{isRTL:e}=Bf(),n=Ti(),[r,i]=E.useState(""),[a,c]=E.useState(""),[d,f]=E.useState(""),[m,v]=E.useState(""),g=T=>{c(T),f(""),v("")},_=T=>{f(T),v("")},b=()=>{if(!a||!d)return[];if(a==="sale"){if(d==="residential")return[{value:"flat",label:"Flat"},{value:"villa",label:"Villa"},{value:"farm",label:"Farm"},{value:"folklore_house",label:"Folklore House"},{value:"other",label:"Other"}];if(d==="commercial")return[{value:"office",label:"Office"},{value:"shop",label:"Shop"},{value:"warehouse",label:"Warehouse"},{value:"showroom",label:"Showroom"},{value:"factory",label:"Factory"},{value:"commercial_land",label:"Land"},{value:"workshop",label:"Workshop"},{value:"other",label:"Other"}]}else if(a==="rent"){if(d==="residential")return[{value:"flat",label:"Flat"},{value:"villa",label:"Villa"},{value:"room",label:"Room"},{value:"motel_room",label:"Motel"},{value:"farm",label:"Farm"},{value:"hotel_room",label:"Hotel"},{value:"folklore_house",label:"Folklore"},{value:"ballroom",label:"Ballroom"},{value:"other",label:"Other"}];if(d==="commercial")return[{value:"office",label:"Office"},{value:"shop",label:"Shop"},{value:"warehouse",label:"Warehouse"},{value:"showroom",label:"Showroom"},{value:"workshop",label:"Workshop"},{value:"other",label:"Other"}]}return[]},j=()=>{const T=new URLSearchParams;r&&T.set("location",r),d&&T.set("propertyType",d),a&&T.set("listingType",a),m&&T.set("subCategory",m);const S=r?`/map-search?${T.toString()}`:`/search?${T.toString()}`;n(S)};return l.jsx("div",{className:`w-full max-w-7xl mx-auto px-4 py-6 bg-gray-800/70 backdrop-blur-md shadow-lg rounded-3xl border ${e?"text-arabic":""}`,children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[l.jsxs(cg,{value:a,onValueChange:g,children:[l.jsx(Sh,{className:"rounded-2xl",children:l.jsxs("div",{className:`flex items-center ${e?"flex-row-reverse":""}`,children:[l.jsx(jL,{className:`h-4 w-4 text-muted-foreground ${e?"ml-2":"mr-2"}`}),l.jsx(jh,{placeholder:"For Sale/Rent"})]})}),l.jsxs(Th,{children:[l.jsx(rl,{value:"sale",children:"For Sale"}),l.jsx(rl,{value:"rent",children:"For Rent"})]})]}),l.jsxs(cg,{value:d,onValueChange:_,disabled:!a,children:[l.jsx(Sh,{className:"rounded-2xl",children:l.jsxs("div",{className:`flex items-center ${e?"flex-row-reverse":""}`,children:[l.jsx(qr,{className:`h-4 w-4 text-muted-foreground ${e?"ml-2":"mr-2"}`}),l.jsx(jh,{placeholder:"Property Type"})]})}),l.jsxs(Th,{children:[l.jsx(rl,{value:"residential",children:"Residential"}),l.jsx(rl,{value:"commercial",children:"Commercial"})]})]}),a&&d&&b().length>0&&l.jsxs(cg,{value:m,onValueChange:v,children:[l.jsx(Sh,{className:"rounded-2xl",children:l.jsxs("div",{className:`flex items-center ${e?"flex-row-reverse":""}`,children:[l.jsx(qr,{className:`h-4 w-4 text-muted-foreground ${e?"ml-2":"mr-2"}`}),l.jsx(jh,{placeholder:"Sub Category"})]})}),l.jsx(Th,{children:b().map(T=>l.jsx(rl,{value:T.value,children:T.label},T.value))})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Bs,{className:`absolute top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground ${e?"right-3":"left-3"}`}),l.jsx(dt,{placeholder:t("searchPlaceholder"),value:r,onChange:T=>i(T.target.value),className:`rounded-2xl ${e?"pr-10 text-right":"pl-10"}`,dir:e?"rtl":"ltr"})]}),l.jsxs(Ae,{onClick:j,className:`w-full rounded-2xl ${e?"flex-row-reverse":""}`,children:[l.jsx(dS,{className:`h-4 w-4 ${e?"ml-2":"mr-2"}`}),t("searchButton")]})]})})};function C6(){const[t,e]=E.useState(0);return E.useEffect(()=>{const n=setInterval(()=>{e(r=>(r+1)%lg.length)},5e3);return()=>clearInterval(n)},[]),l.jsx("div",{className:"container mx-0 px-2",children:l.jsxs("section",{className:"relative flex items-center justify-center rounded-xl h-[500px] flex-col overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[lg.map((n,r)=>l.jsx("div",{className:Ar("absolute inset-0 bg-cover bg-center bg-no-repeat transition-opacity duration-1000 rounded-[20px] w-full h-full",r===t?"opacity-100":"opacity-0"),style:{backgroundImage:`url('${n}')`,backgroundSize:"cover",backgroundPosition:"center center",backgroundAttachment:"scroll"}},n)),l.jsx("div",{className:"absolute inset-x-0 top-0 bottom-[30%] bg-black/40"})]}),l.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2 z-20",children:lg.map((n,r)=>l.jsx("button",{onClick:()=>e(r),className:Ar("w-3 h-3 rounded-full transition-all duration-300",r===t?"bg-white shadow-lg scale-110":"bg-white/50 hover:bg-white/75")},r))}),l.jsx("div",{className:"relative z-10 w-full px-6",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsx(JT,{})})})]})})}const ZT=(t={},e=12)=>{const[n,r]=E.useState([]),[i,a]=E.useState(!1),[c,d]=E.useState(!0),[f,m]=E.useState(null),[v,g]=E.useState(null),_=(S=!1)=>{let k=Pn(it,"listings");return k=Mt(k,Kt("status","==","published")),t.listingType&&(k=Mt(k,Kt("listingType","==",t.listingType))),t.propertyCategory&&(k=Mt(k,Kt("propertyCategory","==",t.propertyCategory))),t.subCategory&&(k=Mt(k,Kt("subCategory","==",t.subCategory))),t.location&&(k=Mt(k,Kt("location.city","==",t.location))),t.minPrice&&(k=Mt(k,Kt("pricing.basePrice",">=",parseInt(t.minPrice)))),t.maxPrice&&(k=Mt(k,Kt("pricing.basePrice","<=",parseInt(t.maxPrice)))),t.minArea&&(k=Mt(k,Kt("propertyOptions.area",">=",parseInt(t.minArea)))),t.maxArea&&(k=Mt(k,Kt("propertyOptions.area","<=",parseInt(t.maxArea)))),t.bedrooms&&(k=Mt(k,Kt("propertyOptions.bedrooms",">=",t.bedrooms))),t.bathrooms&&(k=Mt(k,Kt("propertyOptions.bathrooms",">=",t.bathrooms))),t.furnishing&&(k=Mt(k,Kt("propertyOptions.furnishing","==",t.furnishing))),t.facing&&(k=Mt(k,Kt("propertyOptions.facing","==",t.facing))),k=Mt(k,$g("createdAt","desc")),S&&f&&(k=Mt(k,i4(f))),k=Mt(k,s4(e)),k},b=async(S=!1)=>{a(!0),g(null);try{const k=_(S),P=await hi(k),O=P.docs.map(B=>({id:B.id,...B.data()}));r(S?B=>[...B,...O]:O),d(P.docs.length===e),m(P.docs[P.docs.length-1]||null)}catch(k){console.error("Error fetching listings:",k),g(k.message)}finally{a(!1)}},j=()=>{!i&&c&&b(!0)},T=()=>{m(null),d(!0),b(!1)};return E.useEffect(()=>{T()},[JSON.stringify(t)]),{listings:n,loading:i,hasMore:c,error:v,loadMore:j,refresh:T}},A6=()=>{const[t,e]=E.useState("Buy"),[n,r]=E.useState("All"),{listings:i,loading:a}=ZT({},8),c=[{id:"f47ac10b-58cc-4372-a567-0e02b2c3d479",title:"Luxury Apartment Complex",location:"Dubai Marina . USD 2,500,000",price:25e5,rating:4.87,reviews:24,image:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?auto=format&fit=crop&w=800&q=80"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",title:"Modern Penthouse Interior",location:"Downtown Dubai . USD 4,200,000",price:42e5,rating:5,reviews:18,image:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&w=800&q=80"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d481",title:"Contemporary Villa with Garden",location:"Arabian Ranches . USD 3,800,000",price:38e5,rating:4.98,reviews:31,image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=800&q=80"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d482",title:"Luxury Villa with Pool",location:"Emirates Hills . USD 6,500,000",price:65e5,rating:4.84,reviews:15,image:"https://images.unsplash.com/photo-1613490493576-7fde63acd811?auto=format&fit=crop&w=800&q=80"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d483",title:"Modern Architecture Villa",location:"Jumeirah . USD 5,200,000",price:52e5,rating:4.82,reviews:22,image:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?auto=format&fit=crop&w=800&q=80"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d484",title:"Contemporary Family Villa",location:"Dubai Hills . USD 4,900,000",price:49e5,rating:4.98,reviews:19,image:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?auto=format&fit=crop&w=800&q=80"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d485",title:"Modern Townhouse",location:"Al Barari . USD 3,200,000",price:32e5,rating:4.9,reviews:27,image:"https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?auto=format&fit=crop&w=800&q=80"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d486",title:"Luxury Family Villa",location:"Dubai Hills Estate . USD 7,800,000",price:78e5,rating:5,reviews:12,image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=800&q=80"}],d=i.map(m=>({id:m.id,title:m.title,location:`${m.location?.district}, ${m.location?.city} . ${m.pricing?.currency} ${m.pricing?.basePrice}`,price:m.pricing?.basePrice||0,rating:m.rating||4.5,reviews:m.reviewsCount||0,image:m.coverPhoto||m.photos&&m.photos[0]})),f=d.length>0?d:c;return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("div",{className:"mx-6 mt-6 mb-8",children:l.jsx(C6,{})}),l.jsx("section",{className:"px-6 pb-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Featured Properties"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Discover our handpicked selection of premium properties"})]}),a?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4,5,6,7,8].map(m=>l.jsxs(Ce,{className:"animate-pulse",children:[l.jsx("div",{className:"aspect-[4/3] bg-gray-200 rounded-t-lg"}),l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})]},m))}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(m=>l.jsx(XT,{listing:m},m.id))}),l.jsx("div",{className:"text-center mt-12",children:l.jsx(xt,{to:"/search",children:l.jsx(Ae,{size:"lg",className:"px-8",children:"View All Properties"})})})]})})]})},R6=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,a]=E.useState(!1),{login:c}=Mn(),d=Ti(),f=async m=>{m.preventDefault(),a(!0);try{await c(t,n),He.success("Login successful!"),d("/dashboard")}catch(v){He.error(v.message||"Login failed")}finally{a(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"max-w-md w-full",children:l.jsxs(Ce,{children:[l.jsxs(ut,{className:"text-center",children:[l.jsx(ht,{className:"text-2xl",children:"Sign In"}),l.jsx(Hr,{children:"Enter your credentials to access your account"})]}),l.jsxs(ze,{children:[l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx(dt,{id:"email",type:"email",value:t,onChange:m=>e(m.target.value),placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx(dt,{id:"password",type:"password",value:n,onChange:m=>r(m.target.value),placeholder:"Enter your password",required:!0})]}),l.jsx(Ae,{type:"submit",className:"w-full",disabled:i,children:i?"Signing In...":"Sign In"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",l.jsx(xt,{to:"/auth/register",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign up"})]})})]})]})})})},P6=()=>{const[t,e]=E.useState({email:"",password:"",confirmPassword:"",phone:"",role:"buyer"}),[n,r]=E.useState(!1),{register:i}=Mn(),a=Ti(),c=f=>{e({...t,[f.target.name]:f.target.value})},d=async f=>{if(f.preventDefault(),r(!0),t.password!==t.confirmPassword){He.error("Passwords do not match"),r(!1);return}try{await i(t.email,t.password,t.phone,t.role),He.success("Account created! Please check your email for verification."),a("/dashboard")}catch(m){He.error(m.message||"Registration failed")}finally{r(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"max-w-md w-full",children:l.jsxs(Ce,{children:[l.jsxs(ut,{className:"text-center",children:[l.jsx(ht,{className:"text-2xl",children:"Create Account"}),l.jsx(Hr,{children:"Join PropertyHub to start your property journey"})]}),l.jsxs(ze,{children:[l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx(dt,{id:"email",name:"email",type:"email",value:t.email,onChange:c,placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),l.jsx(dt,{id:"phone",name:"phone",type:"tel",value:t.phone,onChange:c,placeholder:"Enter your phone number",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Type"}),l.jsxs("select",{id:"role",name:"role",value:t.role,onChange:c,className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",children:[l.jsx("option",{value:"buyer",children:"Buyer/Renter"}),l.jsx("option",{value:"owner",children:"Property Owner"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l.jsx(dt,{id:"password",name:"password",type:"password",value:t.password,onChange:c,placeholder:"Enter your password",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),l.jsx(dt,{id:"confirmPassword",name:"confirmPassword",type:"password",value:t.confirmPassword,onChange:c,placeholder:"Confirm your password",required:!0})]}),l.jsx(Ae,{type:"submit",className:"w-full",disabled:n,children:n?"Creating Account...":"Create Account"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",l.jsx(xt,{to:"/auth/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign in"})]})})]})]})})})},D6=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(!1),[i,a]=E.useState(!1),{resetPassword:c}=Mn(),d=async f=>{if(f.preventDefault(),!t){He.error("Please enter your email address");return}r(!0);try{await c(t),a(!0),He.success("Password reset email sent!")}catch(m){console.error("Reset password error:",m);let v="Failed to send reset email";m.code==="auth/user-not-found"?v="No account found with this email address":m.code==="auth/invalid-email"?v="Please enter a valid email address":m.code==="auth/too-many-requests"&&(v="Too many requests. Please try again later"),He.error(v)}finally{r(!1)}};return i?l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"text-center",children:[l.jsx(mo,{className:"mx-auto h-12 w-12 text-green-500"}),l.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Check your email"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We've sent a password reset link to"}),l.jsx("p",{className:"font-medium text-gray-900",children:t})]})}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsx(Ce,{children:l.jsx(ze,{className:"py-8 px-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs(tp,{children:[l.jsx(ky,{className:"h-4 w-4"}),l.jsx(np,{children:"Click the link in the email to reset your password. If you don't see it, check your spam folder."})]}),l.jsxs("div",{className:"flex flex-col space-y-3",children:[l.jsx(Ae,{onClick:()=>a(!1),variant:"outline",className:"w-full",children:"Try different email"}),l.jsx(xt,{to:"/auth/login",children:l.jsx(Ae,{variant:"ghost",className:"w-full",children:"Back to login"})})]})]})})})})]}):l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[l.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset your password"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password"})]})}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs(Ce,{children:[l.jsxs(ut,{children:[l.jsx(ht,{children:"Reset Password"}),l.jsx(Hr,{children:"We'll send you a secure link to reset your password"})]}),l.jsx(ze,{children:l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("div",{className:"mt-1",children:l.jsx(dt,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:f=>e(f.target.value),placeholder:"Enter your email address"})})]}),l.jsx(Ae,{type:"submit",className:"w-full",disabled:n,children:n?"Sending...":"Send reset link"}),l.jsx("div",{className:"text-center",children:l.jsxs(xt,{to:"/auth/login",className:"inline-flex items-center text-sm text-primary-600 hover:text-primary-500",children:[l.jsx(_L,{className:"h-4 w-4 mr-1"}),"Back to login"]})})]})})]})})]})},jb=[{id:"wifi",name:"WiFi",icon:"Wifi",category:"essentials"},{id:"kitchen",name:"Kitchen",icon:"ChefHat",category:"essentials"},{id:"washer",name:"Washer",icon:"Shirt",category:"essentials"},{id:"dryer",name:"Dryer",icon:"Wind",category:"essentials"},{id:"air_conditioning",name:"Air conditioning",icon:"Snowflake",category:"essentials"},{id:"heating",name:"Heating",icon:"Flame",category:"essentials"},{id:"tv",name:"TV",icon:"Tv",category:"entertainment"},{id:"pool",name:"Pool",icon:"Waves",category:"outdoor"},{id:"hot_tub",name:"Hot tub",icon:"Bath",category:"outdoor"},{id:"gym",name:"Gym",icon:"Dumbbell",category:"facilities"},{id:"parking",name:"Free parking",icon:"Car",category:"facilities"},{id:"elevator",name:"Elevator",icon:"ArrowUp",category:"facilities"},{id:"balcony",name:"Balcony",icon:"Building",category:"outdoor"},{id:"garden",name:"Garden",icon:"Trees",category:"outdoor"},{id:"security",name:"24/7 Security",icon:"Shield",category:"safety"}],kb=[{id:"apartment",name:"Apartment",icon:"Building",description:"Modern apartments in the city"},{id:"villa",name:"Villa",icon:"Home",description:"Luxury villas with gardens"},{id:"townhouse",name:"Townhouse",icon:"Building2",description:"Multi-level townhouses"},{id:"penthouse",name:"Penthouse",icon:"Crown",description:"Premium penthouses with views"},{id:"studio",name:"Studio",icon:"Square",description:"Compact studio apartments"},{id:"duplex",name:"Duplex",icon:"Layers",description:"Two-level living spaces"}],O6=[{title:"Luxury Marina Apartment",description:"Stunning waterfront apartment with panoramic marina views. Features modern amenities, spacious living areas, and premium finishes throughout.",listingType:"rent",category:"apartment",location:{address:"Marina Walk, Dubai Marina",city:"Dubai",district:"Dubai Marina",country:"UAE",coordinates:{lat:25.0657,lng:55.1413}},details:{bedrooms:2,bathrooms:2,area:1200,maxGuests:4,propertyType:"apartment"},amenities:["wifi","kitchen","air_conditioning","tv","pool","gym","parking"],photos:["https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&w=800&q=80"],coverPhoto:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?auto=format&fit=crop&w=800&q=80",pricing:{basePrice:350,currency:"USD",cleaningFee:50,securityDeposit:500},policies:{checkIn:"15:00",checkOut:"11:00",cancellationPolicy:"flexible",houseRules:["No smoking","No pets","No parties"]},status:"active",rating:4.8,reviewsCount:24,createdAt:js(),updatedAt:js()},{title:"Modern Downtown Penthouse",description:"Exclusive penthouse in the heart of downtown with breathtaking city skyline views. Premium location with world-class amenities.",listingType:"sale",category:"penthouse",location:{address:"Downtown Boulevard, Downtown Dubai",city:"Dubai",district:"Downtown Dubai",country:"UAE",coordinates:{lat:25.1972,lng:55.2744}},details:{bedrooms:3,bathrooms:3,area:2500,maxGuests:6,propertyType:"penthouse"},amenities:["wifi","kitchen","air_conditioning","tv","pool","gym","parking","balcony"],photos:["https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?auto=format&fit=crop&w=800&q=80"],coverPhoto:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&w=800&q=80",pricing:{basePrice:42e5,currency:"USD"},policies:{checkIn:"14:00",checkOut:"12:00",cancellationPolicy:"strict"},status:"active",rating:5,reviewsCount:18,createdAt:js(),updatedAt:js()},{title:"Family Villa with Garden",description:"Spacious family villa featuring a private garden, multiple living areas, and modern amenities. Perfect for families seeking comfort and privacy.",listingType:"rent",category:"villa",location:{address:"Arabian Ranches 2",city:"Dubai",district:"Arabian Ranches",country:"UAE",coordinates:{lat:25.0515,lng:55.2708}},details:{bedrooms:4,bathrooms:4,area:3200,maxGuests:8,propertyType:"villa"},amenities:["wifi","kitchen","air_conditioning","tv","pool","garden","parking","security"],photos:["https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=800&q=80","https://images.unsplash.com/photo-1613490493576-7fde63acd811?auto=format&fit=crop&w=800&q=80"],coverPhoto:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=800&q=80",pricing:{basePrice:450,currency:"USD",cleaningFee:75,securityDeposit:800},policies:{checkIn:"16:00",checkOut:"10:00",cancellationPolicy:"moderate",houseRules:["No smoking","Pets allowed","No parties"]},status:"active",rating:4.9,reviewsCount:31,createdAt:js(),updatedAt:js()}],M6=async()=>{try{console.log("🌱 Starting Firebase seeding..."),console.log("📝 Seeding amenities...");for(const t of jb)await Gh(En(it,"amenities",t.id),t);console.log(`✅ Seeded ${jb.length} amenities`),console.log("📝 Seeding categories...");for(const t of kb)await Gh(En(it,"categories",t.id),t);console.log(`✅ Seeded ${kb.length} categories`),console.log("📝 Seeding listings...");for(const t of O6){t.ownerId="demo-owner-"+Math.random().toString(36).substr(2,9);const e=await Vf(Pn(it,"listings"),t);console.log(`✅ Added listing: ${t.title} (ID: ${e.id})`)}return console.log("🎉 Firebase seeding completed successfully!"),{success:!0,message:"Database seeded successfully"}}catch(t){return console.error("❌ Error seeding Firebase:",t),{success:!1,error:t.message}}},L6=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(null),i=async()=>{e(!0),r(null);try{const a=await M6();r(a),a.success?He.success("Database seeded successfully!"):He.error("Failed to seed database")}catch(a){console.error("Seeding error:",a),r({success:!1,error:a.message}),He.error("Failed to seed database")}finally{e(!1)}};return l.jsxs(Ce,{className:"w-full max-w-md",children:[l.jsx(ut,{children:l.jsxs(ht,{className:"flex items-center space-x-2",children:[l.jsx(Y_,{className:"h-5 w-5"}),l.jsx("span",{children:"Database Seeding"})]})}),l.jsxs(ze,{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Populate your Firebase database with sample amenities, categories, and property listings."}),l.jsx(Ae,{onClick:i,disabled:t,className:"w-full",children:t?l.jsxs(l.Fragment,{children:[l.jsx(AL,{className:"h-4 w-4 mr-2 animate-spin"}),"Seeding Database..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Y_,{className:"h-4 w-4 mr-2"}),"Seed Database"]})}),n&&l.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg ${n.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[n.success?l.jsx(mo,{className:"h-4 w-4"}):l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:n.success?n.message:n.error})]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[l.jsx("p",{children:l.jsx("strong",{children:"This will add:"})}),l.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[l.jsx("li",{children:"15 amenities (WiFi, Kitchen, Pool, etc.)"}),l.jsx("li",{children:"6 property categories"}),l.jsx("li",{children:"3 sample property listings"})]})]})]})]})},F6=()=>{const{user:t,userProfile:e}=Mn(),[n,r]=E.useState({bookings:0,listings:0,pendingBookings:0});E.useEffect(()=>{(async()=>{if(t)try{const f=Mt(Pn(it,"bookings"),Kt("guestId","==",t.uid)),m=await hi(f);let v={size:0},g=0;if(e?.role==="owner"){const b=Mt(Pn(it,"bookings"),Kt("hostId","==",t.uid));v=await hi(b);const j=Mt(Pn(it,"bookings"),Kt("hostId","==",t.uid),Kt("status","==","pending"));g=(await hi(j)).size}let _=0;if(e?.role==="owner"){const b=Mt(Pn(it,"listings"),Kt("ownerId","==",t.uid));_=(await hi(b)).size}r({bookings:m.size,listings:_,pendingBookings:g})}catch(f){console.error("Error fetching stats:",f)}})()},[t,e]);const i=[{title:"Search Properties",description:"Find your perfect rental or purchase",icon:qr,link:"/search",color:"bg-blue-50 text-blue-600"},{title:"My Bookings",description:`View your ${n.bookings} booking${n.bookings!==1?"s":""}`,icon:gr,link:"/bookings",color:"bg-green-50 text-green-600"},{title:"Saved Properties",description:"View your bookmarked listings",icon:Ws,link:"/saved",color:"bg-yellow-50 text-yellow-600"}],a=[{title:"My Listings",description:`Manage your ${n.listings} listing${n.listings!==1?"s":""}`,icon:qr,link:"/dashboard/listings",color:"bg-blue-50 text-blue-600"},{title:"Booking Requests",description:`${n.pendingBookings} pending request${n.pendingBookings!==1?"s":""}`,icon:gr,link:"/bookings",color:"bg-orange-50 text-orange-600"},{title:"Add Property",description:"List a new property",icon:OL,link:"/listings/new",color:"bg-green-50 text-green-600"},{title:"Messages",description:"Chat with tenants",icon:uS,link:"/messages",color:"bg-purple-500"}],c=e?.role==="owner"?a:i;return l.jsx("div",{className:"clay-bg",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8 clay-card",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),l.jsxs("p",{className:"mt-2 text-gray-600",children:["Welcome back, ",e?.firstName||t?.displayName||"User","!"]})]}),e?.role==="owner"&&e?.kycStatus!=="approved"&&l.jsxs(Ce,{className:"mb-8 border-yellow-200 bg-yellow-50",children:[l.jsxs(ut,{children:[l.jsx(ht,{className:"text-yellow-800",children:"KYC Verification Required"}),l.jsx(Hr,{className:"text-yellow-700",children:e?.kycStatus==="pending"?"Your KYC verification is under review. You'll be able to list properties once approved.":"Please complete KYC verification to start listing properties."})]}),e?.kycStatus!=="pending"&&l.jsx(ze,{children:l.jsx(xt,{to:"/kyc",children:l.jsx(Ae,{children:"Complete KYC Verification"})})})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((d,f)=>{const m=d.icon;return l.jsx(xt,{to:d.link,children:l.jsx(Ce,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:l.jsxs(ut,{className:"text-center",children:[l.jsx("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${d.color}`,children:l.jsx(m,{className:"h-8 w-8 text-white"})}),l.jsx(ht,{className:"text-lg",children:d.title}),l.jsx(Hr,{children:d.description})]})})},f)})}),e?.role==="admin"&&l.jsx("div",{className:"mt-12 pt-8 border-t",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-8",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Database Setup"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by seeding your Firebase database with sample data including amenities, property categories, and example listings."})]}),l.jsx("div",{className:"lg:w-96",children:l.jsx(L6,{})})]})}),l.jsxs(Ce,{className:"clay-card",children:[l.jsx(ut,{children:l.jsxs(ht,{className:"flex items-center space-x-2",children:[l.jsx(Jc,{className:"h-5 w-5"}),l.jsx("span",{children:"Profile Information"})]})}),l.jsx(ze,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("p",{className:"text-gray-900",children:t?.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),l.jsx("p",{className:"text-gray-900",children:e?.phone||"Not provided"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Account Type"}),l.jsx("p",{className:"text-gray-900 capitalize",children:e?.role})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Verified"}),l.jsx("p",{className:t?.emailVerified?"text-green-600":"text-red-600",children:t?.emailVerified?"Verified":"Not Verified"})]})]})})]})]})})},V6=()=>{const[t,e]=E.useState({listingType:"",propertyCategory:"",location:"",minPrice:"",maxPrice:"",bedrooms:"",bathrooms:""}),[n,r]=E.useState({}),{listings:i,loading:a,hasMore:c,loadMore:d}=ZT(n),f=(g,_)=>{e(b=>({...b,[g]:_}))},m=()=>{r({...t})},v=(g,_="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:_,minimumFractionDigits:0}).format(g);return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Search Properties"}),l.jsx("p",{className:"text-gray-600",children:"Find your perfect rental or purchase"})]}),l.jsxs(Ce,{className:"mb-8",children:[l.jsx(ut,{children:l.jsxs(ht,{className:"flex items-center space-x-2",children:[l.jsx(kL,{className:"h-5 w-5"}),l.jsx("span",{children:"Search Filters"})]})}),l.jsx(ze,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Listing Type"}),l.jsxs("select",{value:t.listingType,onChange:g=>f("listingType",g.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"All Types"}),l.jsx("option",{value:"rent",children:"For Rent"}),l.jsx("option",{value:"sale",children:"For Sale"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type"}),l.jsxs("select",{value:t.propertyCategory,onChange:g=>f("propertyCategory",g.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"All Properties"}),l.jsx("option",{value:"residential",children:"Residential"}),l.jsx("option",{value:"commercial",children:"Commercial"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),l.jsx(dt,{placeholder:"Enter city or district",value:t.location,onChange:g=>f("location",g.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms"}),l.jsxs("select",{value:t.bedrooms,onChange:g=>f("bedrooms",g.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Any"}),l.jsx("option",{value:"1",children:"1+"}),l.jsx("option",{value:"2",children:"2+"}),l.jsx("option",{value:"3",children:"3+"}),l.jsx("option",{value:"4",children:"4+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Price"}),l.jsx(dt,{type:"number",placeholder:"Min price",value:t.minPrice,onChange:g=>f("minPrice",g.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Price"}),l.jsx(dt,{type:"number",placeholder:"Max price",value:t.maxPrice,onChange:g=>f("maxPrice",g.target.value)})]}),l.jsx("div",{className:"md:col-span-2 flex items-end",children:l.jsxs(Ae,{onClick:m,className:"w-full flex items-center justify-center space-x-2",children:[l.jsx(dS,{className:"h-4 w-4"}),l.jsx("span",{children:"Search Properties"})]})})]})})]}),l.jsx("div",{className:"mb-6 flex items-center justify-between",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Searching...":`${i.length} Properties Found`})}),a&&i.length===0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(g=>l.jsxs(Ce,{className:"animate-pulse",children:[l.jsx("div",{className:"aspect-video bg-gray-200 rounded-t-lg"}),l.jsxs(ut,{children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),l.jsx(ze,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded w-full"})]})})]},g))}):i.length===0?l.jsx(Ce,{className:"text-center py-12",children:l.jsxs(ze,{children:[l.jsx(qr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Properties Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search filters to find more properties."}),l.jsx(Ae,{onClick:()=>r({}),variant:"outline",children:"Clear Filters"})]})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(g=>l.jsx(xt,{to:`/property/${g.id}`,children:l.jsxs(Ce,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[l.jsx("div",{className:"aspect-video bg-gray-200 rounded-t-lg overflow-hidden",children:g.coverPhoto||g.photos&&g.photos[0]?l.jsx("img",{src:g.coverPhoto||g.photos[0],alt:g.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:l.jsx(qr,{className:"h-12 w-12"})})}),l.jsxs(ut,{children:[l.jsxs(ht,{className:"flex items-center justify-between",children:[l.jsx("span",{className:"truncate",children:g.title}),l.jsxs("span",{className:"text-primary-600 whitespace-nowrap ml-2",children:[v(g.pricing?.basePrice,g.pricing?.currency),g.listingType==="rent"?"/mo":""]})]}),l.jsxs(Hr,{className:"flex items-center space-x-1",children:[l.jsx(Bs,{className:"h-4 w-4 flex-shrink-0"}),l.jsxs("span",{className:"truncate",children:[g.location?.district,", ",g.location?.city]})]})]}),l.jsxs(ze,{children:[l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[g.propertyOptions?.bedrooms&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Su,{className:"h-4 w-4"}),l.jsx("span",{children:g.propertyOptions.bedrooms==="0"?"Studio":`${g.propertyOptions.bedrooms} bed${g.propertyOptions.bedrooms!=="1"?"s":""}`})]}),g.propertyOptions?.bathrooms&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Nu,{className:"h-4 w-4"}),l.jsxs("span",{children:[g.propertyOptions.bathrooms," bath",g.propertyOptions.bathrooms!=="1"?"s":""]})]}),g.propertyOptions?.area&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(qr,{className:"h-4 w-4"}),l.jsxs("span",{children:[g.propertyOptions.area," sqft"]})]})]}),g.rating>0&&l.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 mb-3",children:[l.jsx(Ws,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),l.jsx("span",{children:g.rating}),l.jsxs("span",{children:["(",g.reviewsCount," reviews)"]})]}),l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:g.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs text-gray-500 capitalize",children:[g.listingType," • ",g.propertyCategory]}),l.jsx("span",{className:"text-xs text-gray-500",children:g.propertyOptions?.furnishing&&l.jsx("span",{className:"capitalize",children:g.propertyOptions.furnishing.replace("_"," ")})})]})]})]})},g.id))}),c&&l.jsx("div",{className:"mt-8 text-center",children:l.jsx(Ae,{onClick:d,disabled:a,variant:"outline",className:"px-8",children:a?"Loading...":"Load More Properties"})})]})]})},U6=()=>{const{id:t}=df(),[e,n]=E.useState(null),[r,i]=E.useState(!0);return E.useEffect(()=>{setTimeout(()=>{n({id:t,title:"Luxury Downtown Apartment",description:"Beautiful modern apartment in the heart of the city with stunning views and premium amenities.",price:1200,listingType:"rent",location:{city:"Damascus",district:"Mazzeh"},propertyOptions:{bedrooms:2,bathrooms:2,area:1200},amenities:["WiFi","Parking","Pool","Gym"],photos:[],rating:4.8,reviewsCount:24}),i(!1)},1e3)},[t]),r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):e?l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg mb-6",children:l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"Property Images Placeholder"})}),l.jsxs(Ce,{className:"mb-6",children:[l.jsx(ut,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx(ht,{className:"text-2xl",children:e.title}),l.jsxs(Hr,{className:"flex items-center space-x-1 mt-2",children:[l.jsx(Bs,{className:"h-4 w-4"}),l.jsxs("span",{children:[e.location.district,", ",e.location.city]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:["$",e.price,e.listingType==="rent"?"/mo":""]}),l.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[l.jsx(Ws,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),l.jsx("span",{children:e.rating}),l.jsxs("span",{className:"text-gray-500",children:["(",e.reviewsCount," reviews)"]})]})]})]})}),l.jsxs(ze,{children:[l.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Su,{className:"h-5 w-5 text-gray-500"}),l.jsxs("span",{children:[e.propertyOptions.bedrooms," bedrooms"]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Nu,{className:"h-5 w-5 text-gray-500"}),l.jsxs("span",{children:[e.propertyOptions.bathrooms," bathrooms"]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(qr,{className:"h-5 w-5 text-gray-500"}),l.jsxs("span",{children:[e.propertyOptions.area," sqft"]})]})]}),l.jsx("p",{className:"text-gray-700",children:e.description})]})]}),l.jsxs(Ce,{className:"mb-6",children:[l.jsx(ut,{children:l.jsx(ht,{children:"Amenities"})}),l.jsx(ze,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:e.amenities.map((a,c)=>l.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm",children:a})]},c))})})]})]}),l.jsxs("div",{className:"lg:col-span-1",children:[l.jsxs(Ce,{className:"mb-6 sticky top-4",children:[l.jsx(ut,{children:l.jsx(ht,{children:e.listingType==="rent"?"Book This Property":"Contact Owner"})}),l.jsxs(ze,{className:"space-y-4",children:[e.listingType==="rent"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date"}),l.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md",children:[l.jsx(gr,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{className:"text-sm text-gray-500",children:"Select date"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date"}),l.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md",children:[l.jsx(gr,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{className:"text-sm text-gray-500",children:"Select date"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),l.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{children:"1 guest"}),l.jsx("option",{children:"2 guests"}),l.jsx("option",{children:"3 guests"}),l.jsx("option",{children:"4+ guests"})]})]}),l.jsx(xt,{to:`/book/${t}`,children:l.jsx(Ae,{className:"w-full mb-4",children:"Reserve"})})]}),l.jsx(Ae,{className:"w-full",children:e.listingType==="rent"?"Request Booking":"Contact Owner"}),l.jsxs(Ae,{variant:"outline",className:"w-full flex items-center justify-center space-x-2",children:[l.jsx(uS,{className:"h-4 w-4"}),l.jsx("span",{children:"Send Message"})]})]})]}),l.jsxs(Ce,{children:[l.jsx(ut,{children:l.jsx(ht,{children:"Hosted by John Doe"})}),l.jsxs(ze,{children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"John Doe"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Host since 2020"})]})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Response rate:"}),l.jsx("span",{className:"font-medium",children:"95%"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Response time:"}),l.jsx("span",{className:"font-medium",children:"Within an hour"})]})]})]})]})]})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Property Not Found"}),l.jsx("p",{className:"text-gray-600",children:"The property you're looking for doesn't exist."})]})})},B6=()=>{const{user:t,userProfile:e,refreshProfile:n,resendEmailVerification:r}=Mn(),[i,a]=E.useState(!1),[c,d]=E.useState(!1),[f,m]=E.useState({displayName:"",phoneNumber:"",address:"",dateOfBirth:"",bio:""});E.useEffect(()=>{e&&m({displayName:e.displayName||"",phoneNumber:e.phoneNumber||"",address:e.address||"",dateOfBirth:e.dateOfBirth||"",bio:e.bio||""})},[e]);const v=b=>{const{name:j,value:T}=b.target;m(S=>({...S,[j]:T}))},g=async b=>{const j=b.target.files[0];if(j){if(j.size>2*1024*1024){He.error("Image must be less than 2MB");return}if(!j.type.startsWith("image/")){He.error("Please select an image file");return}d(!0);try{const T=by(Ny,`avatars/${t.uid}/${Date.now()}_${j.name}`),S=await wy(T,j),k=await _y(S.ref);await ul(En(it,"profiles",t.uid),{avatar:k,updatedAt:new Date}),await n(),He.success("Profile picture updated successfully")}catch(T){console.error("Error uploading avatar:",T),He.error("Failed to update profile picture")}finally{d(!1)}}},_=async b=>{b.preventDefault(),a(!0);try{await ul(En(it,"profiles",t.uid),{...f,updatedAt:new Date}),await n(),He.success("Profile updated successfully")}catch(j){console.error("Error updating profile:",j),He.error("Failed to update profile")}finally{a(!1)}};return!t||!e?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile Settings"}),l.jsx("p",{className:"text-gray-600",children:"Manage your account information and preferences"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1",children:[l.jsxs(Ce,{children:[l.jsx(ut,{children:l.jsxs(ht,{className:"flex items-center space-x-2",children:[l.jsx(Jc,{className:"h-5 w-5"}),l.jsx("span",{children:"Profile Picture"})]})}),l.jsxs(ze,{className:"text-center",children:[l.jsxs("div",{className:"relative inline-block",children:[l.jsx("img",{src:e.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.displayName||t.email)}&size=128&background=3B82F6&color=fff`,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),l.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:[l.jsx(EL,{className:"h-4 w-4"}),l.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"hidden",disabled:c})]})]}),c&&l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Uploading..."}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600",children:[l.jsx(ky,{className:"h-4 w-4"}),l.jsx("span",{children:t.email})]}),l.jsx("div",{className:"flex items-center justify-center space-x-2 text-sm",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.emailVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.emailVerified?"Email Verified":"Email Not Verified"})}),l.jsx("div",{className:"flex items-center justify-center space-x-2 text-sm",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.role==="owner"?"bg-blue-100 text-blue-800":e.role==="admin"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:e.role?.charAt(0).toUpperCase()+e.role?.slice(1)||"User"})})]})]})]}),!t.emailVerified&&l.jsxs(tp,{className:"mt-6",children:[l.jsx(Yh,{className:"h-4 w-4"}),l.jsxs(np,{children:["Please verify your email address to access all features.",l.jsx(Ae,{variant:"link",className:"p-0 h-auto font-medium text-primary-600",onClick:r,children:"Resend verification email"})]})]})]}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(Ce,{children:[l.jsx(ut,{children:l.jsx(ht,{children:"Personal Information"})}),l.jsx(ze,{children:l.jsxs("form",{onSubmit:_,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),l.jsx(dt,{name:"displayName",value:f.displayName,onChange:v,placeholder:"Your full name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l.jsx(dt,{name:"phoneNumber",type:"tel",value:f.phoneNumber,onChange:v,placeholder:"+1 (555) 123-4567"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),l.jsx(dt,{name:"address",value:f.address,onChange:v,placeholder:"Your address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),l.jsx(dt,{name:"dateOfBirth",type:"date",value:f.dateOfBirth,onChange:v})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),l.jsx("textarea",{name:"bio",value:f.bio,onChange:v,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Tell us about yourself..."})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs(Ae,{type:"submit",disabled:i,className:"flex items-center space-x-2",children:[l.jsx(ML,{className:"h-4 w-4"}),l.jsx("span",{children:i?"Saving...":"Save Changes"})]})})]})})]})})]})]})})},z6=()=>{const{user:t,userProfile:e}=Mn(),n=Ti(),[r,i]=E.useState(!1),[a,c]=E.useState(!1),[d,f]=E.useState({documentType:"national_id",file:null}),m=[{value:"national_id",label:"National ID"},{value:"passport",label:"Passport"},{value:"driving_license",label:"Driving License"}],v=P=>P.size>5*1024*1024?(He.error("File size must be less than 5MB"),!1):["image/jpeg","image/png","image/jpg","application/pdf"].includes(P.type)?!0:(He.error("Only JPEG, PNG, and PDF files are allowed"),!1),g=P=>{const O=P.target.files[0];O&&v(O)&&(f({...d,file:O}),He.success("File uploaded successfully!"))},_=P=>{P.preventDefault(),P.stopPropagation(),P.type==="dragenter"||P.type==="dragover"?c(!0):P.type==="dragleave"&&c(!1)},b=P=>{if(P.preventDefault(),P.stopPropagation(),c(!1),P.dataTransfer.files&&P.dataTransfer.files[0]){const O=P.dataTransfer.files[0];v(O)&&(f({...d,file:O}),He.success("File uploaded successfully!"))}},j=async P=>{if(P.preventDefault(),!d.file){He.error("Please select a document to upload");return}i(!0);try{const O=by(Ny,`kyc/${t.uid}/${Date.now()}_${d.file.name}`),B=await wy(O,d.file),K=await _y(B.ref);await Vf(Pn(it,"kycRequests"),{userId:t.uid,documentType:d.documentType,fileUrl:K,status:"pending",createdAt:js()}),He.success("KYC document submitted successfully! We'll review it within 24-48 hours."),n("/dashboard")}catch(O){console.error("KYC submission error:",O),He.error("Failed to submit KYC document. Please try again.")}finally{i(!1)}},T=P=>{switch(P){case"approved":return l.jsx(mo,{className:"h-5 w-5 text-green-500"});case"pending":return l.jsx(fi,{className:"h-5 w-5 text-yellow-500"});case"rejected":return l.jsx(Yh,{className:"h-5 w-5 text-red-500"});default:return l.jsx(El,{className:"h-5 w-5 text-gray-500"})}},S=P=>{switch(P){case"approved":return"Your KYC has been approved! You can now list properties.";case"pending":return"Your KYC is under review. We'll notify you once it's processed.";case"rejected":return"Your KYC was rejected. Please submit new documents.";default:return"Complete KYC verification to start listing properties."}},k=P=>{switch(P){case"approved":return"border-green-200 bg-green-50";case"pending":return"border-yellow-200 bg-yellow-50";case"rejected":return"border-red-200 bg-red-50";default:return"border-gray-200 bg-gray-50"}};return l.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"KYC Verification"}),l.jsx("p",{className:"text-gray-600",children:"Complete your identity verification to start listing properties on our platform."})]}),l.jsx(Ce,{className:`mb-8 ${k(e?.kycStatus)}`,children:l.jsxs(ut,{children:[l.jsxs(ht,{className:"flex items-center space-x-2",children:[T(e?.kycStatus),l.jsx("span",{children:"Verification Status"})]}),l.jsx(Hr,{children:S(e?.kycStatus)})]})}),(!e?.kycStatus||e?.kycStatus==="not_required"||e?.kycStatus==="rejected")&&l.jsxs(Ce,{children:[l.jsxs(ut,{children:[l.jsx(ht,{children:"Submit Verification Documents"}),l.jsx(Hr,{children:"Upload a clear photo of your government-issued ID for verification."})]}),l.jsx(ze,{children:l.jsxs("form",{onSubmit:j,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type"}),l.jsx("select",{value:d.documentType,onChange:P=>f({...d,documentType:P.target.value}),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",children:m.map(P=>l.jsx("option",{value:P.value,children:P.label},P.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Document"}),l.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md transition-colors ${a?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-400"}`,onDragEnter:_,onDragLeave:_,onDragOver:_,onDrop:b,children:l.jsxs("div",{className:"space-y-1 text-center",children:[l.jsx(hS,{className:`mx-auto h-12 w-12 ${a?"text-primary-500":"text-gray-400"}`}),l.jsxs("div",{className:"flex text-sm text-gray-600",children:[l.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500",children:[l.jsx("span",{children:"Upload a file"}),l.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*,.pdf",onChange:g})]}),l.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 5MB"}),a&&l.jsx("p",{className:"text-sm text-primary-600 font-medium",children:"Drop your file here!"})]})}),d.file&&l.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(El,{className:"h-4 w-4"}),l.jsx("span",{children:d.file.name})]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Yh,{className:"h-5 w-5 text-blue-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Document Requirements"}),l.jsx("div",{className:"mt-2 text-sm text-blue-700",children:l.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[l.jsx("li",{children:"Document must be clear and readable"}),l.jsx("li",{children:"All corners of the document should be visible"}),l.jsx("li",{children:"Document should not be expired"}),l.jsx("li",{children:"File size should be less than 5MB"})]})})]})]})}),l.jsx(Ae,{type:"submit",className:"w-full",disabled:r||!d.file,children:r?"Submitting...":"Submit for Verification"})]})})]}),e?.kycStatus==="pending"&&l.jsxs(Ce,{className:"mt-6",children:[l.jsx(ut,{children:l.jsx(ht,{children:"What happens next?"})}),l.jsx(ze,{children:l.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full mt-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Review Process"}),l.jsx("p",{children:"Our team will review your documents within 24-48 hours."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full mt-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Notification"}),l.jsx("p",{children:"You'll receive an email notification once the review is complete."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full mt-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Start Listing"}),l.jsx("p",{children:"Once approved, you can immediately start listing your properties."})]})]})]})})]})]})},$6=({formData:t,updateFormData:e})=>{const n=(r,i)=>{e({[r]:i})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Let's start with the basics. What's your property about?"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Title *"}),l.jsx(dt,{placeholder:"e.g., Beautiful Downtown Apartment",value:t.title,onChange:r=>n("title",r.target.value),className:"w-full"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose a catchy title that highlights your property's best features"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Listing Type *"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-colors ${t.listingType==="rent"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n("listingType","rent"),children:l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"For Rent"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Rent out your property to tenants"})]})}),l.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-colors ${t.listingType==="sale"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n("listingType","sale"),children:l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"For Sale"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Sell your property to buyers"})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Category *"}),l.jsxs("select",{value:t.propertyCategory,onChange:r=>n("propertyCategory",r.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",children:[l.jsx("option",{value:"residential",children:"Residential"}),l.jsx("option",{value:"commercial",children:"Commercial"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub Category"}),l.jsxs("select",{value:t.subCategory,onChange:r=>n("subCategory",r.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",children:[l.jsx("option",{value:"",children:"Select sub category"}),t.propertyCategory==="residential"?l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"apartment",children:"Apartment"}),l.jsx("option",{value:"house",children:"House"}),l.jsx("option",{value:"villa",children:"Villa"}),l.jsx("option",{value:"studio",children:"Studio"}),l.jsx("option",{value:"townhouse",children:"Townhouse"})]}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"office",children:"Office"}),l.jsx("option",{value:"retail",children:"Retail"}),l.jsx("option",{value:"warehouse",children:"Warehouse"}),l.jsx("option",{value:"restaurant",children:"Restaurant"}),l.jsx("option",{value:"hotel",children:"Hotel"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),l.jsx("textarea",{placeholder:"Describe your property in detail...",value:t.description,onChange:r=>n("description",r.target.value),rows:4,className:"flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Describe the space, neighborhood, and what makes it special"})]})]})},q6=({formData:t,updateFormData:e})=>{const n=(r,i)=>{e({location:{...t.location,[r]:i}})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Where is your property located?"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),l.jsxs("select",{value:t.location.city,onChange:r=>n("city",r.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",children:[l.jsx("option",{value:"",children:"Select city"}),l.jsx("option",{value:"Damascus",children:"Damascus"}),l.jsx("option",{value:"Aleppo",children:"Aleppo"}),l.jsx("option",{value:"Homs",children:"Homs"}),l.jsx("option",{value:"Latakia",children:"Latakia"}),l.jsx("option",{value:"Hama",children:"Hama"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"District *"}),l.jsx(dt,{placeholder:"e.g., Mazzeh, Old City",value:t.location.district,onChange:r=>n("district",r.target.value)})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Address"}),l.jsx("textarea",{placeholder:"Enter the complete address...",value:t.location.address,onChange:r=>n("address",r.target.value),rows:3,className:"flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will help guests find your property easily"})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Location Tips"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:"• Choose a popular district to attract more guests"}),l.jsx("li",{children:"• Mention nearby landmarks or attractions"}),l.jsx("li",{children:"• Consider transportation accessibility"})]})]})]})},W6=({formData:t,updateFormData:e})=>{const n=(r,i)=>{e({propertyOptions:{...t.propertyOptions,[r]:i}})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Details"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Tell us about the size and structure of your property."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area (sqft) *"}),l.jsx(dt,{type:"number",placeholder:"1200",value:t.propertyOptions.area,onChange:r=>n("area",r.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms *"}),l.jsxs("select",{value:t.propertyOptions.bedrooms,onChange:r=>n("bedrooms",r.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"0",children:"Studio"}),l.jsx("option",{value:"1",children:"1 Bedroom"}),l.jsx("option",{value:"2",children:"2 Bedrooms"}),l.jsx("option",{value:"3",children:"3 Bedrooms"}),l.jsx("option",{value:"4",children:"4 Bedrooms"}),l.jsx("option",{value:"5+",children:"5+ Bedrooms"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms *"}),l.jsxs("select",{value:t.propertyOptions.bathrooms,onChange:r=>n("bathrooms",r.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"1",children:"1 Bathroom"}),l.jsx("option",{value:"1.5",children:"1.5 Bathrooms"}),l.jsx("option",{value:"2",children:"2 Bathrooms"}),l.jsx("option",{value:"2.5",children:"2.5 Bathrooms"}),l.jsx("option",{value:"3",children:"3 Bathrooms"}),l.jsx("option",{value:"3+",children:"3+ Bathrooms"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Floors"}),l.jsxs("select",{value:t.propertyOptions.floors,onChange:r=>n("floors",r.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"1",children:"1 Floor"}),l.jsx("option",{value:"2",children:"2 Floors"}),l.jsx("option",{value:"3",children:"3 Floors"}),l.jsx("option",{value:"4+",children:"4+ Floors"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facing Direction"}),l.jsxs("select",{value:t.propertyOptions.facing,onChange:r=>n("facing",r.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"north",children:"North"}),l.jsx("option",{value:"south",children:"South"}),l.jsx("option",{value:"east",children:"East"}),l.jsx("option",{value:"west",children:"West"}),l.jsx("option",{value:"northeast",children:"Northeast"}),l.jsx("option",{value:"northwest",children:"Northwest"}),l.jsx("option",{value:"southeast",children:"Southeast"}),l.jsx("option",{value:"southwest",children:"Southwest"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ready Status"}),l.jsxs("select",{value:t.propertyOptions.readyStatus,onChange:r=>n("readyStatus",r.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"ready",children:"Ready to Move"}),l.jsx("option",{value:"under_construction",children:"Under Construction"}),l.jsx("option",{value:"renovation",children:"Under Renovation"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ownership Type"}),l.jsxs("select",{value:t.propertyOptions.ownership,onChange:r=>n("ownership",r.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select"}),l.jsx("option",{value:"freehold",children:"Freehold"}),l.jsx("option",{value:"leasehold",children:"Leasehold"}),l.jsx("option",{value:"cooperative",children:"Cooperative"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Furnishing Status"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["unfurnished","semi_furnished","fully_furnished"].map(r=>l.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-colors ${t.propertyOptions.furnishing===r?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n("furnishing",r),children:l.jsx("div",{className:"text-center",children:l.jsx("h4",{className:"font-medium text-gray-900 capitalize",children:r.replace("_"," ")})})},r))})]})]})},H6=({formData:t,updateFormData:e})=>{const[n]=E.useState([{id:"wifi",name:"WiFi",icon:"📶"},{id:"parking",name:"Parking",icon:"🅿️"},{id:"pool",name:"Swimming Pool",icon:"🏊"},{id:"gym",name:"Gym/Fitness Center",icon:"💪"},{id:"elevator",name:"Elevator",icon:"🛗"},{id:"balcony",name:"Balcony",icon:"🏠"},{id:"garden",name:"Garden",icon:"🌿"},{id:"security",name:"24/7 Security",icon:"🔒"},{id:"laundry",name:"Laundry",icon:"👕"},{id:"kitchen",name:"Kitchen",icon:"🍳"},{id:"air_conditioning",name:"Air Conditioning",icon:"❄️"},{id:"heating",name:"Heating",icon:"🔥"},{id:"tv",name:"TV",icon:"📺"},{id:"workspace",name:"Dedicated Workspace",icon:"💻"},{id:"pets_allowed",name:"Pets Allowed",icon:"🐕"},{id:"smoking_allowed",name:"Smoking Allowed",icon:"🚬"}]),r=i=>{const a=t.amenities||[],c=a.includes(i);let d;c?d=a.filter(f=>f!==i):d=[...a,i],e({amenities:d})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Amenities"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"What amenities does your property offer? Select all that apply."})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map(i=>{const a=t.amenities?.includes(i.id);return l.jsxs("div",{className:`relative p-4 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md ${a?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r(i.id),children:[a&&l.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-primary-500 rounded-full flex items-center justify-center",children:l.jsx(Hf,{className:"h-3 w-3 text-white"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl mb-2",children:i.icon}),l.jsx("h4",{className:"text-sm font-medium text-gray-900",children:i.name})]})]},i.id)})}),l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Selected Amenities"}),t.amenities?.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:t.amenities.map(i=>{const a=n.find(c=>c.id===i);return l.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:[a?.icon," ",a?.name]},i)})}):l.jsx("p",{className:"text-sm text-gray-500",children:"No amenities selected yet"})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Amenity Tips"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:"• More amenities can attract more guests and higher rates"}),l.jsx("li",{children:"• Be honest about what's available to avoid disappointed guests"}),l.jsx("li",{children:"• Essential amenities like WiFi and parking are highly valued"})]})]})]})};var ug={exports:{}},dg,Ib;function K6(){if(Ib)return dg;Ib=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dg=t,dg}var hg,Cb;function G6(){if(Cb)return hg;Cb=1;var t=K6();function e(){}function n(){}return n.resetWarningCache=e,hg=function(){function r(c,d,f,m,v,g){if(g!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},hg}var Ab;function Q6(){return Ab||(Ab=1,ug.exports=G6()()),ug.exports}var Y6=Q6();const Nt=lf(Y6),X6=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Sl(t,e,n){const r=J6(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&Rb(r,"path",a),Rb(r,"relativePath",a),r}function J6(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=X6.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function Rb(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Z6=[".DS_Store","Thumbs.db"];function eU(t){return ca(this,void 0,void 0,function*(){return rf(t)&&tU(t.dataTransfer)?iU(t.dataTransfer,t.type):nU(t)?rU(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?sU(t):[]})}function tU(t){return rf(t)}function nU(t){return rf(t)&&rf(t.target)}function rf(t){return typeof t=="object"&&t!==null}function rU(t){return sv(t.target.files).map(e=>Sl(e))}function sU(t){return ca(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Sl(n))})}function iU(t,e){return ca(this,void 0,void 0,function*(){if(t.items){const n=sv(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(oU));return Pb(ej(r))}return Pb(sv(t.files).map(n=>Sl(n)))})}function Pb(t){return t.filter(e=>Z6.indexOf(e.name)===-1)}function sv(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function oU(t){if(typeof t.webkitGetAsEntry!="function")return Db(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?tj(e):Db(t,e)}function ej(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?ej(n):[n]],[])}function Db(t,e){return ca(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const c=yield a.getFile();return c.handle=a,Sl(c)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Sl(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function aU(t){return ca(this,void 0,void 0,function*(){return t.isDirectory?tj(t):lU(t)})}function tj(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function a(){e.readEntries(c=>ca(this,void 0,void 0,function*(){if(c.length){const d=Promise.all(c.map(aU));i.push(d),a()}else try{const d=yield Promise.all(i);n(d)}catch(d){r(d)}}),c=>{r(c)})}a()})}function lU(t){return ca(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Sl(r,t.fullPath);e(i)},r=>{n(r)})})})}var uh={},Ob;function cU(){return Ob||(Ob=1,uh.__esModule=!0,uh.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(c){var d=c.trim().toLowerCase();return d.charAt(0)==="."?r.toLowerCase().endsWith(d):d.endsWith("/*")?a===d.replace(/\/.*$/,""):i===d})}return!0}),uh}var uU=cU();const fg=lf(uU);function Mb(t){return fU(t)||hU(t)||rj(t)||dU()}function dU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fU(t){if(Array.isArray(t))return iv(t)}function Lb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(n),!0).forEach(function(r){nj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ru(t,e){return gU(t)||mU(t,e)||rj(t,e)||pU()}function pU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rj(t,e){if(t){if(typeof t=="string")return iv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iv(t,e)}}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,c,d;try{for(n=n.call(t);!(i=(c=n.next()).done)&&(r.push(c.value),!(e&&r.length===e));i=!0);}catch(f){a=!0,d=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw d}}return r}}function gU(t){if(Array.isArray(t))return t}var vU=typeof fg=="function"?fg:fg.default,yU="file-invalid-type",xU="file-too-large",wU="file-too-small",_U="too-many-files",bU=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:yU,message:"File type must be ".concat(r)}},Vb=function(e){return{code:xU,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Ub=function(e){return{code:wU,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},EU={code:_U,message:"Too many files"};function sj(t,e){var n=t.type==="application/x-moz-file"||vU(t,e);return[n,n?null:bU(e)]}function ij(t,e,n){if(Go(t.size))if(Go(e)&&Go(n)){if(t.size>n)return[!1,Vb(n)];if(t.size<e)return[!1,Ub(e)]}else{if(Go(e)&&t.size<e)return[!1,Ub(e)];if(Go(n)&&t.size>n)return[!1,Vb(n)]}return[!0,null]}function Go(t){return t!=null}function NU(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,a=t.multiple,c=t.maxFiles,d=t.validator;return!a&&e.length>1||a&&c>=1&&e.length>c?!1:e.every(function(f){var m=sj(f,n),v=ru(m,1),g=v[0],_=ij(f,r,i),b=ru(_,1),j=b[0],T=d?d(f):null;return g&&j&&!T})}function sf(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function dh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Bb(t){t.preventDefault()}function SU(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function TU(t){return t.indexOf("Edge/")!==-1}function jU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return SU(t)||TU(t)}function Ts(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];return e.some(function(d){return!sf(r)&&d&&d.apply(void 0,[r].concat(a)),sf(r)})}}function kU(){return"showOpenFilePicker"in window}function IU(t){if(Go(t)){var e=Object.entries(t).filter(function(n){var r=ru(n,2),i=r[0],a=r[1],c=!0;return oj(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(a)||!a.every(aj))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(n,r){var i=ru(r,2),a=i[0],c=i[1];return Fb(Fb({},n),{},nj({},a,c))},{});return[{description:"Files",accept:e}]}return t}function CU(t){if(Go(t))return Object.entries(t).reduce(function(e,n){var r=ru(n,2),i=r[0],a=r[1];return[].concat(Mb(e),[i],Mb(a))},[]).filter(function(e){return oj(e)||aj(e)}).join(",")}function AU(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function RU(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function oj(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function aj(t){return/^.*\.[\w]+$/.test(t)}var PU=["children"],DU=["open"],OU=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],MU=["refKey","onChange","onClick"];function LU(t){return UU(t)||VU(t)||lj(t)||FU()}function FU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UU(t){if(Array.isArray(t))return ov(t)}function pg(t,e){return $U(t)||zU(t,e)||lj(t,e)||BU()}function BU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lj(t,e){if(t){if(typeof t=="string")return ov(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ov(t,e)}}function ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,c,d;try{for(n=n.call(t);!(i=(c=n.next()).done)&&(r.push(c.value),!(e&&r.length===e));i=!0);}catch(f){a=!0,d=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw d}}return r}}function $U(t){if(Array.isArray(t))return t}function zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zb(Object(n),!0).forEach(function(r){av(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function av(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function of(t,e){if(t==null)return{};var n=qU(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var qy=E.forwardRef(function(t,e){var n=t.children,r=of(t,PU),i=uj(r),a=i.open,c=of(i,DU);return E.useImperativeHandle(e,function(){return{open:a}},[a]),re.createElement(E.Fragment,null,n(Bt(Bt({},c),{},{open:a})))});qy.displayName="Dropzone";var cj={disabled:!1,getFilesFromEvent:eU,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};qy.defaultProps=cj;qy.propTypes={children:Nt.func,accept:Nt.objectOf(Nt.arrayOf(Nt.string)),multiple:Nt.bool,preventDropOnDocument:Nt.bool,noClick:Nt.bool,noKeyboard:Nt.bool,noDrag:Nt.bool,noDragEventsBubbling:Nt.bool,minSize:Nt.number,maxSize:Nt.number,maxFiles:Nt.number,disabled:Nt.bool,getFilesFromEvent:Nt.func,onFileDialogCancel:Nt.func,onFileDialogOpen:Nt.func,useFsAccessApi:Nt.bool,autoFocus:Nt.bool,onDragEnter:Nt.func,onDragLeave:Nt.func,onDragOver:Nt.func,onDrop:Nt.func,onDropAccepted:Nt.func,onDropRejected:Nt.func,onError:Nt.func,validator:Nt.func};var lv={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function uj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Bt(Bt({},cj),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,c=e.minSize,d=e.multiple,f=e.maxFiles,m=e.onDragEnter,v=e.onDragLeave,g=e.onDragOver,_=e.onDrop,b=e.onDropAccepted,j=e.onDropRejected,T=e.onFileDialogCancel,S=e.onFileDialogOpen,k=e.useFsAccessApi,P=e.autoFocus,O=e.preventDropOnDocument,B=e.noClick,K=e.noKeyboard,J=e.noDrag,R=e.noDragEventsBubbling,C=e.onError,D=e.validator,L=E.useMemo(function(){return CU(n)},[n]),V=E.useMemo(function(){return IU(n)},[n]),U=E.useMemo(function(){return typeof S=="function"?S:$b},[S]),M=E.useMemo(function(){return typeof T=="function"?T:$b},[T]),oe=E.useRef(null),_e=E.useRef(null),ue=E.useReducer(WU,lv),he=pg(ue,2),Y=he[0],Q=he[1],ne=Y.isFocused,z=Y.isFileDialogActive,Z=E.useRef(typeof window<"u"&&window.isSecureContext&&k&&kU()),se=function(){!Z.current&&z&&setTimeout(function(){if(_e.current){var Ie=_e.current.files;Ie.length||(Q({type:"closeDialog"}),M())}},300)};E.useEffect(function(){return window.addEventListener("focus",se,!1),function(){window.removeEventListener("focus",se,!1)}},[_e,z,M,Z]);var fe=E.useRef([]),xe=function(Ie){oe.current&&oe.current.contains(Ie.target)||(Ie.preventDefault(),fe.current=[])};E.useEffect(function(){return O&&(document.addEventListener("dragover",Bb,!1),document.addEventListener("drop",xe,!1)),function(){O&&(document.removeEventListener("dragover",Bb),document.removeEventListener("drop",xe))}},[oe,O]),E.useEffect(function(){return!r&&P&&oe.current&&oe.current.focus(),function(){}},[oe,P,r]);var Ee=E.useCallback(function(me){C?C(me):console.error(me)},[C]),we=E.useCallback(function(me){me.preventDefault(),me.persist(),Pt(me),fe.current=[].concat(LU(fe.current),[me.target]),dh(me)&&Promise.resolve(i(me)).then(function(Ie){if(!(sf(me)&&!R)){var Ve=Ie.length,Qe=Ve>0&&NU({files:Ie,accept:L,minSize:c,maxSize:a,multiple:d,maxFiles:f,validator:D}),yt=Ve>0&&!Qe;Q({isDragAccept:Qe,isDragReject:yt,isDragActive:!0,type:"setDraggedFiles"}),m&&m(me)}}).catch(function(Ie){return Ee(Ie)})},[i,m,Ee,R,L,c,a,d,f,D]),ge=E.useCallback(function(me){me.preventDefault(),me.persist(),Pt(me);var Ie=dh(me);if(Ie&&me.dataTransfer)try{me.dataTransfer.dropEffect="copy"}catch{}return Ie&&g&&g(me),!1},[g,R]),Le=E.useCallback(function(me){me.preventDefault(),me.persist(),Pt(me);var Ie=fe.current.filter(function(Qe){return oe.current&&oe.current.contains(Qe)}),Ve=Ie.indexOf(me.target);Ve!==-1&&Ie.splice(Ve,1),fe.current=Ie,!(Ie.length>0)&&(Q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),dh(me)&&v&&v(me))},[oe,v,R]),Ge=E.useCallback(function(me,Ie){var Ve=[],Qe=[];me.forEach(function(yt){var cn=sj(yt,L),pt=pg(cn,2),vn=pt[0],Wt=pt[1],Ln=ij(yt,c,a),tr=pg(Ln,2),nr=tr[0],rr=tr[1],xr=D?D(yt):null;if(vn&&nr&&!xr)Ve.push(yt);else{var Sn=[Wt,rr];xr&&(Sn=Sn.concat(xr)),Qe.push({file:yt,errors:Sn.filter(function(en){return en})})}}),(!d&&Ve.length>1||d&&f>=1&&Ve.length>f)&&(Ve.forEach(function(yt){Qe.push({file:yt,errors:[EU]})}),Ve.splice(0)),Q({acceptedFiles:Ve,fileRejections:Qe,isDragReject:Qe.length>0,type:"setFiles"}),_&&_(Ve,Qe,Ie),Qe.length>0&&j&&j(Qe,Ie),Ve.length>0&&b&&b(Ve,Ie)},[Q,d,L,c,a,f,_,b,j,D]),$e=E.useCallback(function(me){me.preventDefault(),me.persist(),Pt(me),fe.current=[],dh(me)&&Promise.resolve(i(me)).then(function(Ie){sf(me)&&!R||Ge(Ie,me)}).catch(function(Ie){return Ee(Ie)}),Q({type:"reset"})},[i,Ge,Ee,R]),ve=E.useCallback(function(){if(Z.current){Q({type:"openDialog"}),U();var me={multiple:d,types:V};window.showOpenFilePicker(me).then(function(Ie){return i(Ie)}).then(function(Ie){Ge(Ie,null),Q({type:"closeDialog"})}).catch(function(Ie){AU(Ie)?(M(Ie),Q({type:"closeDialog"})):RU(Ie)?(Z.current=!1,_e.current?(_e.current.value=null,_e.current.click()):Ee(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ee(Ie)});return}_e.current&&(Q({type:"openDialog"}),U(),_e.current.value=null,_e.current.click())},[Q,U,M,k,Ge,Ee,V,d]),qe=E.useCallback(function(me){!oe.current||!oe.current.isEqualNode(me.target)||(me.key===" "||me.key==="Enter"||me.keyCode===32||me.keyCode===13)&&(me.preventDefault(),ve())},[oe,ve]),Ze=E.useCallback(function(){Q({type:"focus"})},[]),wt=E.useCallback(function(){Q({type:"blur"})},[]),qt=E.useCallback(function(){B||(jU()?setTimeout(ve,0):ve())},[B,ve]),vt=function(Ie){return r?null:Ie},on=function(Ie){return K?null:vt(Ie)},ft=function(Ie){return J?null:vt(Ie)},Pt=function(Ie){R&&Ie.stopPropagation()},an=E.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=me.refKey,Ve=Ie===void 0?"ref":Ie,Qe=me.role,yt=me.onKeyDown,cn=me.onFocus,pt=me.onBlur,vn=me.onClick,Wt=me.onDragEnter,Ln=me.onDragOver,tr=me.onDragLeave,nr=me.onDrop,rr=of(me,OU);return Bt(Bt(av({onKeyDown:on(Ts(yt,qe)),onFocus:on(Ts(cn,Ze)),onBlur:on(Ts(pt,wt)),onClick:vt(Ts(vn,qt)),onDragEnter:ft(Ts(Wt,we)),onDragOver:ft(Ts(Ln,ge)),onDragLeave:ft(Ts(tr,Le)),onDrop:ft(Ts(nr,$e)),role:typeof Qe=="string"&&Qe!==""?Qe:"presentation"},Ve,oe),!r&&!K?{tabIndex:0}:{}),rr)}},[oe,qe,Ze,wt,qt,we,ge,Le,$e,K,J,r]),kt=E.useCallback(function(me){me.stopPropagation()},[]),ln=E.useMemo(function(){return function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=me.refKey,Ve=Ie===void 0?"ref":Ie,Qe=me.onChange,yt=me.onClick,cn=of(me,MU),pt=av({accept:L,multiple:d,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:vt(Ts(Qe,$e)),onClick:vt(Ts(yt,kt)),tabIndex:-1},Ve,_e);return Bt(Bt({},pt),cn)}},[_e,n,d,$e,r]);return Bt(Bt({},Y),{},{isFocused:ne&&!r,getRootProps:an,getInputProps:ln,rootRef:oe,inputRef:_e,open:vt(ve)})}function WU(t,e){switch(e.type){case"focus":return Bt(Bt({},t),{},{isFocused:!0});case"blur":return Bt(Bt({},t),{},{isFocused:!1});case"openDialog":return Bt(Bt({},lv),{},{isFileDialogActive:!0});case"closeDialog":return Bt(Bt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Bt(Bt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Bt(Bt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Bt({},lv);default:return t}}function $b(){}const HU=({formData:t,updateFormData:e})=>{const[n,r]=E.useState(null),{getRootProps:i,getInputProps:a,isDragActive:c}=uj({accept:{"image/*":[".jpeg",".jpg",".png",".webp"]},maxFiles:12,maxSize:2*1024*1024,onDrop:_=>{const b=[...t.photos||[],..._];e({photos:b.slice(0,12)})}}),d=_=>{const b=t.photos.filter((j,T)=>T!==_);e({photos:b})},f=(_,b)=>{const j=[...t.photos],[T]=j.splice(_,1);j.splice(b,0,T),e({photos:j})},m=(_,b)=>{r(b)},v=_=>{_.preventDefault()},g=(_,b)=>{_.preventDefault(),n!==null&&n!==b&&f(n,b),r(null)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Photos & Media"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Add photos and videos to showcase your property. The first photo will be your cover photo."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Property Photos * (Max 12 photos, 2MB each)"}),l.jsxs("div",{...i(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${c?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-400"}`,children:[l.jsx("input",{...a()}),l.jsx(hS,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:c?"Drop photos here":"Upload property photos"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Drag and drop photos here, or click to select files"}),l.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"JPEG, PNG, WebP up to 2MB each"})]}),t.photos&&t.photos.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.photos.map((_,b)=>l.jsxs("div",{className:"relative group aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-move",draggable:!0,onDragStart:j=>m(j,b),onDragOver:v,onDrop:j=>g(j,b),children:[l.jsx("img",{src:URL.createObjectURL(_),alt:`Property photo ${b+1}`,className:"w-full h-full object-cover"}),b===0&&l.jsx("div",{className:"absolute top-2 left-2 bg-primary-500 text-white text-xs px-2 py-1 rounded",children:"Cover Photo"}),l.jsx("button",{onClick:()=>d(b),className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(WL,{className:"h-4 w-4"})}),l.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:b+1})]},b))}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Drag photos to reorder. The first photo will be your cover photo."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Video (Optional)"}),l.jsx(dt,{placeholder:"https://youtube.com/watch?v=... or https://vimeo.com/...",value:t.videoUrl||"",onChange:_=>e({videoUrl:_.target.value}),className:"w-full"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a YouTube or Vimeo video link to showcase your property"})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(CL,{className:"h-5 w-5 text-blue-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Photo Tips"}),l.jsx("div",{className:"mt-2 text-sm text-blue-700",children:l.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[l.jsx("li",{children:"Use natural lighting when possible"}),l.jsx("li",{children:"Show all rooms and important features"}),l.jsx("li",{children:"Include exterior shots and neighborhood views"}),l.jsx("li",{children:"Keep photos clean and uncluttered"}),l.jsx("li",{children:"Take photos from multiple angles"})]})})]})]})}),l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx($L,{className:"h-5 w-5 text-yellow-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Requirements"}),l.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:l.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[l.jsx("li",{children:"At least 5 photos required"}),l.jsx("li",{children:"Maximum 12 photos allowed"}),l.jsx("li",{children:"Each photo must be under 2MB"}),l.jsx("li",{children:"Supported formats: JPEG, PNG, WebP"})]})})]})]})})]})},KU=({formData:t,updateFormData:e})=>{const n=(i,a)=>{e({extras:{...t.extras,[i]:a}})},r=[{id:"pool",name:"Swimming Pool",icon:"🏊"},{id:"balcony",name:"Balcony/Terrace",icon:"🏠"},{id:"elevator",name:"Elevator",icon:"🛗"},{id:"parking",name:"Parking Space",icon:"🅿️"},{id:"garden",name:"Garden/Yard",icon:"🌿"},{id:"security",name:"24/7 Security",icon:"🔒"},{id:"concierge",name:"Concierge Service",icon:"🛎️"},{id:"storage",name:"Storage Room",icon:"📦"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Options"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Select additional features and options available with your property."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Additional Features"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map(i=>{const a=t.extras?.[i.id]||!1;return l.jsxs("div",{className:`relative p-4 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md ${a?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n(i.id,!a),children:[a&&l.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-primary-500 rounded-full flex items-center justify-center",children:l.jsx(Hf,{className:"h-3 w-3 text-white"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl mb-2",children:i.icon}),l.jsx("h4",{className:"text-sm font-medium text-gray-900",children:i.name})]})]},i.id)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Highlights (Optional)"}),l.jsx("textarea",{placeholder:"Mention any special features, recent renovations, or unique selling points...",value:t.highlights||"",onChange:i=>e({highlights:i.target.value}),rows:3,className:"flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Highlight what makes your property special or unique"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nearby Attractions & Landmarks"}),l.jsx("textarea",{placeholder:"List nearby attractions, restaurants, shopping centers, schools, etc...",value:t.nearbyAttractions||"",onChange:i=>e({nearbyAttractions:i.target.value}),rows:3,className:"flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Help guests understand what's around your property"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transportation Access"}),l.jsx("textarea",{placeholder:"Describe public transport, metro stations, bus stops, airport distance...",value:t.transportation||"",onChange:i=>e({transportation:i.target.value}),rows:2,className:"flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Information about getting to and from your property"})]}),l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Selected Features"}),Object.entries(t.extras||{}).some(([i,a])=>a)?l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(t.extras||{}).map(([i,a])=>{if(!a)return null;const c=r.find(d=>d.id===i);return l.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:[c?.icon," ",c?.name]},i)})}):l.jsx("p",{className:"text-sm text-gray-500",children:"No additional features selected"})]})]})},GU=({formData:t,updateFormData:e})=>{const n=(r,i)=>{e({policies:{...t.policies,[r]:i}})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Policies & Rules"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Set clear expectations for guests by defining your property rules and policies."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"House Rules"}),l.jsx("textarea",{placeholder:"e.g., No smoking, No parties, Quiet hours after 10 PM...",value:t.policies?.rules||"",onChange:r=>n("rules",r.target.value),rows:4,className:"flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"List important rules guests should follow during their stay"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Restrictions & Limitations"}),l.jsx("textarea",{placeholder:"e.g., Maximum 4 guests, No pets allowed, Adults only...",value:t.policies?.restrictions||"",onChange:r=>n("restrictions",r.target.value),rows:3,className:"flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Specify any restrictions or limitations for bookings"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Policy"}),l.jsx("div",{className:"space-y-3",children:[{value:"flexible",title:"Flexible",description:"Full refund 1 day prior to arrival"},{value:"moderate",title:"Moderate",description:"Full refund 5 days prior to arrival"},{value:"strict",title:"Strict",description:"50% refund up until 1 week prior to arrival"},{value:"super_strict",title:"Super Strict",description:"50% refund up until 30 days prior to arrival"}].map(r=>l.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-colors ${t.policies?.cancellationPolicy===r.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n("cancellationPolicy",r.value),children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:`w-4 h-4 rounded-full border-2 mt-0.5 ${t.policies?.cancellationPolicy===r.value?"border-primary-500 bg-primary-500":"border-gray-300"}`,children:t.policies?.cancellationPolicy===r.value&&l.jsx("div",{className:"w-2 h-2 bg-white rounded-full mx-auto mt-0.5"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:r.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.description})]})]})},r.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in Instructions"}),l.jsx("textarea",{placeholder:"Provide detailed check-in instructions, key location, contact info...",value:t.checkInInstructions||"",onChange:r=>e({checkInInstructions:r.target.value}),rows:3,className:"flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Help guests know how to access your property"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes for Guests"}),l.jsx("textarea",{placeholder:"Any other important information guests should know...",value:t.additionalNotes||"",onChange:r=>e({additionalNotes:r.target.value}),rows:3,className:"flex w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2"})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Policy Tips"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:"• Be clear and specific about your rules"}),l.jsx("li",{children:"• Consider your neighborhood and property type"}),l.jsx("li",{children:"• Flexible policies often attract more bookings"}),l.jsx("li",{children:"• Include emergency contact information"})]})]})]})},QU=({formData:t,updateFormData:e})=>{const n=(a,c)=>{e({pricing:{...t.pricing,[a]:c}})},r=(a,c)=>{e({pricing:{...t.pricing,discounts:{...t.pricing.discounts,[a]:c}}})},i=(a,c)=>{e({availability:{...t.availability,[a]:c}})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing & Availability"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Set your pricing strategy and availability preferences."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t.listingType==="rent"?"Monthly Rent *":"Sale Price *"}),l.jsxs("div",{className:"flex",children:[l.jsxs("select",{value:t.pricing?.currency||"USD",onChange:a=>n("currency",a.target.value),className:"flex h-10 rounded-l-md border border-r-0 border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:"USD",children:"USD"}),l.jsx("option",{value:"SYP",children:"SYP"}),l.jsx("option",{value:"EUR",children:"EUR"})]}),l.jsx(dt,{type:"number",placeholder:t.listingType==="rent"?"1200":"250000",value:t.pricing?.basePrice||"",onChange:a=>n("basePrice",a.target.value),className:"rounded-l-none border-l-0"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.listingType==="rent"?"Set your monthly rental price":"Set your property sale price"})]}),t.listingType==="rent"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Discounts (Optional)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Weekly Discount (%)"}),l.jsx(dt,{type:"number",placeholder:"0",min:"0",max:"50",value:t.pricing?.discounts?.weekly||"",onChange:a=>r("weekly",a.target.value)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For stays of 7+ nights"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Monthly Discount (%)"}),l.jsx(dt,{type:"number",placeholder:"0",min:"0",max:"50",value:t.pricing?.discounts?.monthly||"",onChange:a=>r("monthly",a.target.value)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For stays of 28+ nights"})]})]})]}),t.listingType==="rent"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Availability Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Available From"}),l.jsx(dt,{type:"date",value:t.availability?.availableFrom||"",onChange:a=>i("availableFrom",a.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Minimum Stay (nights)"}),l.jsxs("select",{value:t.availability?.minimumStay||1,onChange:a=>i("minimumStay",parseInt(a.target.value)),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:1,children:"1 night"}),l.jsx("option",{value:2,children:"2 nights"}),l.jsx("option",{value:3,children:"3 nights"}),l.jsx("option",{value:7,children:"1 week"}),l.jsx("option",{value:30,children:"1 month"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Maximum Stay (nights)"}),l.jsxs("select",{value:t.availability?.maximumStay||365,onChange:a=>i("maximumStay",parseInt(a.target.value)),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm",children:[l.jsx("option",{value:7,children:"1 week"}),l.jsx("option",{value:30,children:"1 month"}),l.jsx("option",{value:90,children:"3 months"}),l.jsx("option",{value:180,children:"6 months"}),l.jsx("option",{value:365,children:"1 year"}),l.jsx("option",{value:999,children:"No limit"})]})]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Additional Fees (Optional)"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Cleaning Fee"}),l.jsx(dt,{type:"number",placeholder:"0",value:t.cleaningFee||"",onChange:a=>e({cleaningFee:a.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Security Deposit"}),l.jsx(dt,{type:"number",placeholder:"0",value:t.securityDeposit||"",onChange:a=>e({securityDeposit:a.target.value})})]})]}),t.listingType==="rent"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Pet Fee (per stay)"}),l.jsx(dt,{type:"number",placeholder:"0",value:t.petFee||"",onChange:a=>e({petFee:a.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Extra Guest Fee (per night)"}),l.jsx(dt,{type:"number",placeholder:"0",value:t.extraGuestFee||"",onChange:a=>e({extraGuestFee:a.target.value})})]})]})]})]}),t.pricing?.basePrice&&l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Pricing Summary"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:t.listingType==="rent"?"Monthly rent:":"Sale price:"}),l.jsxs("span",{className:"font-medium",children:[t.pricing.currency," ",t.pricing.basePrice]})]}),t.listingType==="rent"&&l.jsxs(l.Fragment,{children:[t.pricing.discounts?.weekly>0&&l.jsxs("div",{className:"flex justify-between text-green-600",children:[l.jsx("span",{children:"Weekly discount:"}),l.jsxs("span",{children:["-",t.pricing.discounts.weekly,"%"]})]}),t.pricing.discounts?.monthly>0&&l.jsxs("div",{className:"flex justify-between text-green-600",children:[l.jsx("span",{children:"Monthly discount:"}),l.jsxs("span",{children:["-",t.pricing.discounts.monthly,"%"]})]})]}),t.cleaningFee&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Cleaning fee:"}),l.jsxs("span",{children:[t.pricing.currency," ",t.cleaningFee]})]}),t.securityDeposit&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Security deposit:"}),l.jsxs("span",{children:[t.pricing.currency," ",t.securityDeposit]})]})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Pricing Tips"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:"• Research similar properties in your area for competitive pricing"}),l.jsx("li",{children:"• Consider seasonal demand when setting prices"}),l.jsx("li",{children:"• Discounts can attract longer stays and reduce vacancy"}),l.jsx("li",{children:"• Keep additional fees reasonable to avoid deterring guests"})]})]})]})},YU=({formData:t})=>{const e=(r,i="USD")=>`${i} ${r}`,n=r=>({wifi:"WiFi",parking:"Parking",pool:"Swimming Pool",gym:"Gym/Fitness Center",elevator:"Elevator",balcony:"Balcony",garden:"Garden",security:"24/7 Security",laundry:"Laundry",kitchen:"Kitchen",air_conditioning:"Air Conditioning",heating:"Heating",tv:"TV",workspace:"Dedicated Workspace",pets_allowed:"Pets Allowed",smoking_allowed:"Smoking Allowed"})[r]||r;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Preview Your Listing"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Review how your listing will appear to potential guests. Make sure everything looks perfect!"})]}),l.jsxs(Ce,{className:"overflow-hidden",children:[l.jsx("div",{className:"aspect-video bg-gray-200 flex items-center justify-center",children:t.photos&&t.photos.length>0?l.jsx("img",{src:URL.createObjectURL(t.photos[0]),alt:"Property cover",className:"w-full h-full object-cover"}):l.jsxs("div",{className:"text-gray-500 text-center",children:[l.jsx(qr,{className:"h-12 w-12 mx-auto mb-2"}),l.jsx("p",{children:"No photos uploaded"})]})}),l.jsx(ut,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(ht,{className:"text-xl",children:t.title||"Property Title"}),l.jsxs(Hr,{className:"flex items-center space-x-1 mt-2",children:[l.jsx(Bs,{className:"h-4 w-4"}),l.jsx("span",{children:t.location?.district&&t.location?.city?`${t.location.district}, ${t.location.city}`:"Location not specified"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xl font-bold text-primary-600",children:t.pricing?.basePrice?`${e(t.pricing.basePrice,t.pricing.currency)}${t.listingType==="rent"?"/mo":""}`:"Price not set"}),l.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[l.jsx(Ws,{className:"h-4 w-4"}),l.jsx("span",{children:"New listing"})]})]})]})}),l.jsxs(ze,{children:[l.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[t.propertyOptions?.bedrooms&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Su,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{className:"text-sm",children:t.propertyOptions.bedrooms==="0"?"Studio":`${t.propertyOptions.bedrooms} bed${t.propertyOptions.bedrooms!=="1"?"s":""}`})]}),t.propertyOptions?.bathrooms&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Nu,{className:"h-4 w-4 text-gray-500"}),l.jsxs("span",{className:"text-sm",children:[t.propertyOptions.bathrooms," bath",t.propertyOptions.bathrooms!=="1"?"s":""]})]}),t.propertyOptions?.area&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(qr,{className:"h-4 w-4 text-gray-500"}),l.jsxs("span",{className:"text-sm",children:[t.propertyOptions.area," sqft"]})]})]}),t.description&&l.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3",children:t.description}),t.amenities&&t.amenities.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Amenities"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.amenities.slice(0,6).map(r=>l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:n(r)},r)),t.amenities.length>6&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:["+",t.amenities.length-6," more"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[l.jsx("span",{className:"capitalize",children:t.listingType||"Not specified"}),l.jsx("span",{children:"•"}),l.jsx("span",{className:"capitalize",children:t.propertyCategory||"Not specified"}),t.subCategory&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsx("span",{className:"capitalize",children:t.subCategory})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs(Ce,{children:[l.jsx(ut,{className:"pb-3",children:l.jsx(ht,{className:"text-sm",children:"Basic Information"})}),l.jsxs(ze,{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Type:"}),l.jsx("span",{className:"capitalize",children:t.listingType||"Not set"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Category:"}),l.jsx("span",{className:"capitalize",children:t.propertyCategory||"Not set"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Sub-category:"}),l.jsx("span",{className:"capitalize",children:t.subCategory||"None"})]})]})]}),l.jsxs(Ce,{children:[l.jsx(ut,{className:"pb-3",children:l.jsx(ht,{className:"text-sm",children:"Property Details"})}),l.jsxs(ze,{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Area:"}),l.jsx("span",{children:t.propertyOptions?.area?`${t.propertyOptions.area} sqft`:"Not set"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Bedrooms:"}),l.jsx("span",{children:t.propertyOptions?.bedrooms||"Not set"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Bathrooms:"}),l.jsx("span",{children:t.propertyOptions?.bathrooms||"Not set"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Furnishing:"}),l.jsx("span",{className:"capitalize",children:t.propertyOptions?.furnishing?.replace("_"," ")||"Not set"})]})]})]}),l.jsxs(Ce,{children:[l.jsx(ut,{className:"pb-3",children:l.jsx(ht,{className:"text-sm",children:"Pricing"})}),l.jsxs(ze,{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:t.listingType==="rent"?"Monthly rent:":"Sale price:"}),l.jsx("span",{className:"font-medium",children:t.pricing?.basePrice?e(t.pricing.basePrice,t.pricing.currency):"Not set"})]}),t.cleaningFee&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Cleaning fee:"}),l.jsx("span",{children:e(t.cleaningFee,t.pricing?.currency)})]}),t.securityDeposit&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Security deposit:"}),l.jsx("span",{children:e(t.securityDeposit,t.pricing?.currency)})]})]})]})]}),l.jsxs(Ce,{children:[l.jsx(ut,{children:l.jsx(ht,{className:"text-sm",children:"Listing Completion"})}),l.jsx(ze,{children:l.jsx("div",{className:"space-y-3",children:[{label:"Basic Information",completed:!!(t.title&&t.description&&t.listingType)},{label:"Location",completed:!!(t.location?.city&&t.location?.district)},{label:"Property Details",completed:!!(t.propertyOptions?.area&&t.propertyOptions?.bedrooms&&t.propertyOptions?.bathrooms)},{label:"Photos",completed:!!(t.photos&&t.photos.length>=5)},{label:"Pricing",completed:!!t.pricing?.basePrice}].map((r,i)=>l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-4 h-4 rounded-full ${r.completed?"bg-green-500":"bg-gray-300"}`,children:r.completed&&l.jsx("div",{className:"w-2 h-2 bg-white rounded-full mx-auto mt-1"})}),l.jsx("span",{className:`text-sm ${r.completed?"text-gray-900":"text-gray-500"}`,children:r.label})]},i))})})]}),l.jsxs("div",{className:"space-y-3",children:[!t.title&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:l.jsx("p",{className:"text-sm text-red-800",children:"⚠️ Property title is required"})}),!t.description&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:l.jsx("p",{className:"text-sm text-red-800",children:"⚠️ Property description is required"})}),(!t.photos||t.photos.length<5)&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:l.jsx("p",{className:"text-sm text-red-800",children:"⚠️ At least 5 photos are required"})}),!t.pricing?.basePrice&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:l.jsx("p",{className:"text-sm text-red-800",children:"⚠️ Pricing information is required"})})]})]})},XU=()=>{const{user:t,userProfile:e}=Mn(),n=Ti(),[r,i]=E.useState(0),[a,c]=E.useState(!1),[d,f]=E.useState({title:"",description:"",descriptionRich:"",listingType:"rent",propertyCategory:"residential",subCategory:"",location:{city:"",district:"",address:"",lat:null,lng:null},propertyOptions:{area:"",bedrooms:"",bathrooms:"",floors:"",facing:"",readyStatus:"",ownership:"",furnishing:""},amenities:[],photos:[],coverPhoto:"",videoUrl:"",extras:{pool:!1,balcony:!1,elevator:!1,parking:!1,garden:!1,security:!1},policies:{rules:"",restrictions:"",cancellationPolicy:"flexible"},pricing:{basePrice:"",currency:"USD",discounts:{weekly:0,monthly:0}},availability:{availableFrom:"",minimumStay:1,maximumStay:365}}),m=[{title:"Basics",component:$6},{title:"Location",component:q6},{title:"Details",component:W6},{title:"Amenities",component:H6},{title:"Media",component:HU},{title:"Property Options",component:KU},{title:"Policies",component:GU},{title:"Pricing & Availability",component:QU},{title:"Preview",component:YU}];if(e?.role!=="owner"||e?.kycStatus!=="approved")return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(Ce,{className:"border-red-200 bg-red-50",children:l.jsxs(ut,{children:[l.jsx(ht,{className:"text-red-800",children:"Access Denied"}),l.jsx(Hr,{className:"text-red-700",children:e?.role!=="owner"?"Only property owners can create listings.":"Please complete KYC verification to create listings."})]})})});const v=S=>{f(k=>({...k,...S}))},g=()=>{r<m.length-1&&i(r+1)},_=()=>{r>0&&i(r-1)},b=async S=>{const k=S.map(async(P,O)=>{const B=by(Ny,`listings/${t.uid}/${Date.now()}_${O}_${P.name}`),K=await wy(B,P);return _y(K.ref)});return Promise.all(k)},j=async(S=!1)=>{c(!0);try{let k=[];d.photos.length>0&&(k=await b(d.photos));const P={...d,ownerId:t.uid,photos:k,coverPhoto:k[0]||"",status:S?"draft":"published",rating:0,reviewsCount:0,createdAt:js(),updatedAt:js()};delete P.photos,P.photos=k;const O=await Vf(Pn(it,"listings"),P);He.success(`Listing ${S?"saved as draft":"published"} successfully!`),n("/dashboard/listings")}catch(k){console.error("Error creating listing:",k),He.error("Failed to create listing. Please try again.")}finally{c(!1)}},T=m[r].component;return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Listing"}),l.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",r+1," of ",m.length]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:m.map((S,k)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${k<r?"bg-green-500 text-white":k===r?"bg-primary-500 text-white":"bg-gray-200 text-gray-600"}`,children:k<r?l.jsx(Hf,{className:"h-4 w-4"}):k+1}),k<m.length-1&&l.jsx("div",{className:`w-12 h-1 mx-2 ${k<r?"bg-green-500":"bg-gray-200"}`})]},k))}),l.jsx("div",{className:"mt-2 text-sm font-medium text-gray-700",children:m[r].title})]}),l.jsx(Ce,{className:"mb-8",children:l.jsx(ze,{className:"p-6",children:l.jsx(T,{formData:d,updateFormData:v})})}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs(Ae,{variant:"outline",onClick:_,disabled:r===0,className:"flex items-center space-x-2",children:[l.jsx(cS,{className:"h-4 w-4"}),l.jsx("span",{children:"Previous"})]}),l.jsx("div",{className:"flex space-x-3",children:r===m.length-1?l.jsxs(l.Fragment,{children:[l.jsx(Ae,{variant:"outline",onClick:()=>j(!0),disabled:a,children:"Save as Draft"}),l.jsx(Ae,{onClick:()=>j(!1),disabled:a,className:"flex items-center space-x-2",children:l.jsx("span",{children:a?"Publishing...":"Publish Listing"})})]}):l.jsxs(Ae,{onClick:g,className:"flex items-center space-x-2",children:[l.jsx("span",{children:"Next"}),l.jsx(jy,{className:"h-4 w-4"})]})})]})]})},JU=()=>{const{id:t}=df(),e=Ti(),{user:n}=Mn(),[r,i]=E.useState(null),[a,c]=E.useState(!0),[d,f]=E.useState(!1),[m,v]=E.useState({checkIn:"",checkOut:"",guests:1,message:""});E.useEffect(()=>{t&&(async()=>{try{const k=await Yc(En(it,"listings",t));k.exists()?i({id:k.id,...k.data()}):(He.error("Listing not found"),e("/search"))}catch(k){console.error("Error fetching listing:",k),He.error("Failed to load listing")}finally{c(!1)}})()},[t,e]);const g=()=>{if(!m.checkIn||!m.checkOut)return 0;const S=new Date(m.checkIn),k=new Date(m.checkOut),P=Math.abs(k-S);return Math.ceil(P/(1e3*60*60*24))},_=()=>{const S=g(),k=r?.pricing?.basePrice||0,P=r?.pricing?.cleaningFee||0,O=Math.round(k*S*.14);return k*S+P+O},b=async S=>{if(S.preventDefault(),!n){He.error("Please login to make a booking"),e("/auth/login");return}if(!m.checkIn||!m.checkOut){He.error("Please select check-in and check-out dates");return}if(new Date(m.checkIn)>=new Date(m.checkOut)){He.error("Check-out date must be after check-in date");return}if(m.guests<1){He.error("Please specify number of guests");return}f(!0);try{const k=g(),P=_(),O={listingId:t,guestId:n.uid,hostId:r.ownerId,checkIn:m.checkIn,checkOut:m.checkOut,guests:parseInt(m.guests),nights:k,pricing:{basePrice:r.pricing.basePrice,cleaningFee:r.pricing.cleaningFee||0,serviceFee:Math.round(r.pricing.basePrice*k*.14),total:P},message:m.message,status:"pending",createdAt:js(),expiresAt:new Date(Date.now()+1440*60*1e3),listingTitle:r.title,listingImage:r.coverPhoto||r.photos?.[0]},B=await Vf(Pn(it,"bookings"),O);He.success("Booking request sent! You will receive a response within 24 hours."),e(`/booking-confirmation/${B.id}`)}catch(k){console.error("Error creating booking:",k),He.error("Failed to create booking request")}finally{f(!1)}};if(a)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});if(!r)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Listing not found"}),l.jsx(Ae,{onClick:()=>e("/search"),children:"Back to Search"})]})});const j=g(),T=_();return l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx(Ae,{variant:"outline",onClick:()=>e(`/property/${t}`),className:"mb-4",children:"← Back to Property"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Request to Book"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{children:l.jsxs(Ce,{children:[l.jsx(ut,{children:l.jsx(ht,{children:"Your Trip"})}),l.jsx(ze,{children:l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in"}),l.jsx(dt,{type:"date",value:m.checkIn,onChange:S=>v(k=>({...k,checkIn:S.target.value})),min:new Date().toISOString().split("T")[0],required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out"}),l.jsx(dt,{type:"date",value:m.checkOut,onChange:S=>v(k=>({...k,checkOut:S.target.value})),min:m.checkIn||new Date().toISOString().split("T")[0],required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guests"}),l.jsx(dt,{type:"number",min:"1",max:r.details?.maxGuests||10,value:m.guests,onChange:S=>v(k=>({...k,guests:S.target.value})),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message to Host (Optional)"}),l.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:"4",placeholder:"Tell the host about your trip, who's coming, and why you're excited to stay...",value:m.message,onChange:S=>v(k=>({...k,message:S.target.value}))})]}),l.jsx(Ae,{type:"submit",className:"w-full",disabled:d,children:d?"Sending Request...":"Request to Book"})]})})]})}),l.jsxs("div",{children:[l.jsx(Ce,{className:"mb-6",children:l.jsx(ze,{className:"p-6",children:l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("img",{src:r.coverPhoto||r.photos?.[0]||"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=300&q=80",alt:r.title,className:"w-24 h-24 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2",children:r.title}),l.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[l.jsx(Bs,{className:"h-4 w-4 mr-1"}),l.jsxs("span",{className:"text-sm",children:[r.location?.district,", ",r.location?.city]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ws,{className:"h-4 w-4 fill-yellow-400 text-yellow-400 mr-1"}),l.jsxs("span",{className:"text-sm font-medium",children:[r.rating||4.5," (",r.reviewsCount||0," reviews)"]})]})]})]})})}),l.jsxs(Ce,{children:[l.jsx(ut,{children:l.jsx(ht,{children:"Price Details"})}),l.jsxs(ze,{children:[j>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["$",r.pricing?.basePrice||0," x ",j," nights"]}),l.jsxs("span",{children:["$",(r.pricing?.basePrice||0)*j]})]}),r.pricing?.cleaningFee>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Cleaning fee"}),l.jsxs("span",{children:["$",r.pricing.cleaningFee]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Service fee"}),l.jsxs("span",{children:["$",Math.round((r.pricing?.basePrice||0)*j*.14)]})]}),l.jsx("hr",{}),l.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",T]})]})]}),j===0&&l.jsx("p",{className:"text-gray-500 text-center py-4",children:"Select dates to see pricing"})]})]}),l.jsx(Ce,{className:"mt-6",children:l.jsxs(ze,{className:"p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Booking Policies"}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(fi,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),l.jsx("span",{children:"Host has 24 hours to respond to your request"})]}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(gr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),l.jsx("span",{children:"Free cancellation before check-in"})]}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(bi,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),l.jsxs("span",{children:["Maximum ",r.details?.maxGuests||10," guests allowed"]})]})]})]})})]})]})]})})},ZU=()=>{const{id:t}=df(),e=Ti(),{user:n}=Mn(),[r,i]=E.useState(null),[a,c]=E.useState(!0);E.useEffect(()=>{if(!n){e("/auth/login");return}if(!t){e("/dashboard");return}const g=bl(En(it,"bookings",t),_=>{if(_.exists()){const b={id:_.id,..._.data()};if(b.guestId!==n.uid&&b.hostId!==n.uid){He.error("You are not authorized to view this booking"),e("/dashboard");return}i(b)}else He.error("Booking not found"),e("/dashboard");c(!1)},_=>{console.error("Error fetching booking:",_),He.error("Failed to load booking details"),c(!1)});return()=>g()},[t,n,e]);const d=g=>{switch(g){case"pending":return l.jsx(fi,{className:"h-8 w-8 text-yellow-500"});case"approved":return l.jsx(mo,{className:"h-8 w-8 text-green-500"});case"rejected":return l.jsx(Jo,{className:"h-8 w-8 text-red-500"});case"expired":return l.jsx(Jo,{className:"h-8 w-8 text-gray-500"});default:return l.jsx(fi,{className:"h-8 w-8 text-yellow-500"})}},f=g=>{switch(g){case"pending":return{title:"Booking Request Sent",message:"Your booking request has been sent to the host. You will receive a response within 24 hours.",color:"text-yellow-600"};case"approved":return{title:"Booking Confirmed!",message:"Congratulations! Your booking has been approved by the host. You will receive further instructions via email.",color:"text-green-600"};case"rejected":return{title:"Booking Declined",message:"Unfortunately, the host has declined your booking request. Please try booking different dates or another property.",color:"text-red-600"};case"expired":return{title:"Booking Request Expired",message:"Your booking request has expired as the host did not respond within 24 hours. Please try booking again.",color:"text-gray-600"};default:return{title:"Booking Status Unknown",message:"There was an issue loading your booking status.",color:"text-gray-600"}}},m=g=>new Date(g).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if(a)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});if(!r)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Booking not found"}),l.jsx(Ae,{onClick:()=>e("/dashboard"),children:"Back to Dashboard"})]})});const v=f(r.status);return l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"flex justify-center mb-4",children:d(r.status)}),l.jsx("h1",{className:`text-3xl font-bold mb-2 ${v.color}`,children:v.title}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:v.message})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(Ce,{children:[l.jsx(ut,{children:l.jsx(ht,{children:"Booking Details"})}),l.jsxs(ze,{className:"space-y-6",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("img",{src:r.listingImage||"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=300&q=80",alt:r.listingTitle,className:"w-20 h-20 object-cover rounded-lg"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:r.listingTitle}),l.jsxs("p",{className:"text-gray-600",children:["Booking ID: ",r.id]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(gr,{className:"h-5 w-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Check-in"}),l.jsx("p",{className:"text-gray-600",children:m(r.checkIn)})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(gr,{className:"h-5 w-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Check-out"}),l.jsx("p",{className:"text-gray-600",children:m(r.checkOut)})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(bi,{className:"h-5 w-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Guests"}),l.jsxs("p",{className:"text-gray-600",children:[r.guests," guest",r.guests>1?"s":""]})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(fi,{className:"h-5 w-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Duration"}),l.jsxs("p",{className:"text-gray-600",children:[r.nights," night",r.nights>1?"s":""]})]})]})]}),r.message&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Message to Host"}),l.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-lg",children:r.message})]})]})]}),l.jsxs(Ce,{children:[l.jsx(ut,{children:l.jsx(ht,{children:"Price Breakdown"})}),l.jsxs(ze,{children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:["$",r.pricing.basePrice," x ",r.nights," nights"]}),l.jsxs("span",{children:["$",r.pricing.basePrice*r.nights]})]}),r.pricing.cleaningFee>0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Cleaning fee"}),l.jsxs("span",{children:["$",r.pricing.cleaningFee]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Service fee"}),l.jsxs("span",{children:["$",r.pricing.serviceFee]})]}),l.jsx("hr",{}),l.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",r.pricing.total]})]})]}),l.jsxs("div",{className:"mt-8 pt-6 border-t",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Booking Timeline"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(mo,{className:"h-5 w-5 text-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Request Sent"}),l.jsx("p",{className:"text-sm text-gray-600",children:r.createdAt?.toDate?.()?.toLocaleDateString()||"Just now"})]})]}),r.status==="approved"&&l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(mo,{className:"h-5 w-5 text-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Booking Approved"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Host accepted your request"})]})]}),r.status==="rejected"&&l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Jo,{className:"h-5 w-5 text-red-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Booking Declined"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Host declined your request"})]})]}),r.status==="pending"&&l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(fi,{className:"h-5 w-5 text-yellow-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Awaiting Response"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Expires: ",new Date(r.expiresAt.toDate()).toLocaleDateString()]})]})]})]})]})]})]})]}),l.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Ae,{variant:"outline",onClick:()=>e("/dashboard"),children:"Back to Dashboard"}),r.status==="approved"&&l.jsx(xt,{to:`/property/${r.listingId}`,children:l.jsx(Ae,{children:"View Property"})}),(r.status==="rejected"||r.status==="expired")&&l.jsx(xt,{to:"/search",children:l.jsx(Ae,{children:"Find Another Property"})}),r.status==="pending"&&l.jsx(xt,{to:`/property/${r.listingId}`,children:l.jsx(Ae,{variant:"outline",children:"View Property"})})]})]})})},Wy=({className:t,variant:e="default",...n})=>{const r={default:"bg-primary-100 text-primary-800",secondary:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800"};return l.jsx("span",{className:Gn("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r[e],t),...n})},e9=()=>{const{user:t,userProfile:e}=Mn(),[n,r]=E.useState([]),[i,a]=E.useState(!0),[c,d]=E.useState("guest");E.useEffect(()=>t?(()=>{const T=Mt(Pn(it,"bookings"),Kt("guestId","==",t.uid),$g("createdAt","desc")),S=Mt(Pn(it,"bookings"),Kt("hostId","==",t.uid),$g("createdAt","desc"));let k=[],P=[];const O=bl(T,J=>{k=J.docs.map(R=>({id:R.id,...R.data(),type:"guest"})),K()});let B=()=>{};e?.role==="owner"&&(B=bl(S,J=>{P=J.docs.map(R=>({id:R.id,...R.data(),type:"host"})),K()}));const K=()=>{const J=[...k,...P];r(J),a(!1)};return()=>{O(),B()}})():void 0,[t,e]);const f=async(b,j)=>{try{const T=En(it,"bookings",b);await ul(T,{status:j,updatedAt:new Date}),He.success(`Booking ${j==="approved"?"approved":"rejected"} successfully`)}catch(T){console.error("Error updating booking:",T),He.error("Failed to update booking")}},m=b=>{const j={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return l.jsx(Wy,{className:j[b]||j.pending,children:b.charAt(0).toUpperCase()+b.slice(1)})},v=b=>new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),g=n.filter(b=>b.type==="guest"),_=n.filter(b=>b.type==="host");return i?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"My Bookings"}),l.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[l.jsxs("button",{onClick:()=>d("guest"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${c==="guest"?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["My Trips (",g.length,")"]}),e?.role==="owner"&&l.jsxs("button",{onClick:()=>d("host"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${c==="host"?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Hosting Requests (",_.length,")"]})]})]}),c==="guest"&&l.jsx("div",{className:"space-y-6",children:g.length===0?l.jsx(Ce,{children:l.jsxs(ze,{className:"text-center py-12",children:[l.jsx(gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookings yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Start exploring and book your first stay!"}),l.jsx(xt,{to:"/search",children:l.jsx(Ae,{children:"Browse Properties"})})]})}):g.map(b=>l.jsx(Ce,{className:"overflow-hidden",children:l.jsx(ze,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("img",{src:b.listingImage||"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=300&q=80",alt:b.listingTitle,className:"w-20 h-20 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:b.listingTitle}),m(b.status)]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(gr,{className:"h-4 w-4"}),l.jsxs("span",{children:[v(b.checkIn)," - ",v(b.checkOut)]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(bi,{className:"h-4 w-4"}),l.jsxs("span",{children:[b.guests," guest",b.guests>1?"s":""]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(fi,{className:"h-4 w-4"}),l.jsxs("span",{children:[b.nights," night",b.nights>1?"s":""]})]})]})]})]}),l.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",b.pricing.total]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]}),l.jsx(xt,{to:`/booking-confirmation/${b.id}`,children:l.jsxs(Ae,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[l.jsx(Hg,{className:"h-4 w-4"}),l.jsx("span",{children:"View Details"})]})})]})]})})},b.id))}),c==="host"&&e?.role==="owner"&&l.jsx("div",{className:"space-y-6",children:_.length===0?l.jsx(Ce,{children:l.jsxs(ze,{className:"text-center py-12",children:[l.jsx(gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No booking requests"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"When guests request to book your properties, they'll appear here."}),l.jsx(xt,{to:"/listings/new",children:l.jsx(Ae,{children:"Create a Listing"})})]})}):_.map(b=>l.jsx(Ce,{className:"overflow-hidden",children:l.jsx(ze,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("img",{src:b.listingImage||"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=300&q=80",alt:b.listingTitle,className:"w-20 h-20 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:b.listingTitle}),m(b.status)]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(gr,{className:"h-4 w-4"}),l.jsxs("span",{children:[v(b.checkIn)," - ",v(b.checkOut)]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(bi,{className:"h-4 w-4"}),l.jsxs("span",{children:[b.guests," guest",b.guests>1?"s":""]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(fi,{className:"h-4 w-4"}),l.jsxs("span",{children:[b.nights," night",b.nights>1?"s":""]})]})]}),b.message&&l.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:l.jsxs("p",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"font-medium",children:"Guest message:"})," ",b.message]})})]})]}),l.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[l.jsxs("div",{className:"text-right mb-2",children:[l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",b.pricing.total]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total earnings"})]}),l.jsxs("div",{className:"flex space-x-2",children:[b.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsxs(Ae,{size:"sm",onClick:()=>f(b.id,"approved"),className:"flex items-center space-x-1",children:[l.jsx(mo,{className:"h-4 w-4"}),l.jsx("span",{children:"Accept"})]}),l.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>f(b.id,"rejected"),className:"flex items-center space-x-1",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("span",{children:"Decline"})]})]}),l.jsx(xt,{to:`/booking-confirmation/${b.id}`,children:l.jsxs(Ae,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[l.jsx(Hg,{className:"h-4 w-4"}),l.jsx("span",{children:"View"})]})})]})]})]})})},b.id))})]})})},t9=()=>{const{userProfile:t}=Mn(),[e,n]=E.useState({totalUsers:0,totalListings:0,pendingKYC:0,totalBookings:0,activeReports:0}),[r,i]=E.useState(!0);if(E.useEffect(()=>{const c=async()=>{try{const f=(await hi(Pn(it,"profiles"))).size,v=(await hi(Pn(it,"listings"))).size,g=Mt(Pn(it,"kycRequests"),Kt("status","==","pending")),b=(await hi(g)).size,T=(await hi(Pn(it,"bookings"))).size;n({totalUsers:f,totalListings:v,pendingKYC:b,totalBookings:T,activeReports:0})}catch(d){console.error("Error fetching admin stats:",d)}finally{i(!1)}};t?.role==="admin"&&c()},[t]),t?.role!=="admin")return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx(Ce,{className:"w-full max-w-md",children:l.jsxs(ze,{className:"text-center py-12",children:[l.jsx(VL,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the admin dashboard."})]})})});const a=[{title:"KYC Reviews",description:`${e.pendingKYC} pending reviews`,icon:El,link:"/admin/kyc",color:"bg-orange-500",urgent:e.pendingKYC>0},{title:"User Management",description:`${e.totalUsers} total users`,icon:bi,link:"/admin/users",color:"bg-blue-500"},{title:"Listings Management",description:`${e.totalListings} total listings`,icon:qr,link:"/admin/listings",color:"bg-green-500"},{title:"Bookings Overview",description:`${e.totalBookings} total bookings`,icon:gr,link:"/admin/bookings",color:"bg-purple-500"},{title:"Reports & Issues",description:`${e.activeReports} active reports`,icon:wL,link:"/admin/reports",color:"bg-red-500"},{title:"Analytics",description:"Platform insights",icon:BL,link:"/admin/analytics",color:"bg-indigo-500"},{title:"Content Management",description:"Amenities, categories",icon:PL,link:"/admin/content",color:"bg-teal-500"}];return r?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage platform operations and monitor system health"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx(Ce,{children:l.jsx(ze,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(bi,{className:"h-8 w-8 text-blue-500"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalUsers})]})]})})}),l.jsx(Ce,{children:l.jsx(ze,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(qr,{className:"h-8 w-8 text-green-500"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Listings"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalListings})]})]})})}),l.jsx(Ce,{children:l.jsx(ze,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(El,{className:"h-8 w-8 text-orange-500"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending KYC"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.pendingKYC})]})]})})}),l.jsx(Ce,{children:l.jsx(ze,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(gr,{className:"h-8 w-8 text-purple-500"}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Bookings"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalBookings})]})]})})})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((c,d)=>{const f=c.icon;return l.jsx(xt,{to:c.link,children:l.jsx(Ce,{className:`hover:shadow-lg transition-shadow cursor-pointer ${c.urgent?"ring-2 ring-orange-200":""}`,children:l.jsxs(ut,{className:"text-center",children:[l.jsx("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${c.color}`,children:l.jsx(f,{className:"h-8 w-8 text-white"})}),l.jsx(ht,{className:"text-lg",children:c.title}),l.jsx("p",{className:"text-sm text-gray-600",children:c.description}),c.urgent&&l.jsx("div",{className:"mt-2",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Needs Attention"})})]})})},d)})})]})})},n9=()=>{const{userProfile:t}=Mn(),[e,n]=E.useState([]),[r,i]=E.useState(!0),[a,c]=E.useState({});E.useEffect(()=>{if(t?.role!=="admin")return;const v=Mt(Pn(it,"kycRequests"),Kt("status","in",["pending","under_review"])),g=bl(v,_=>{const b=_.docs.map(j=>({id:j.id,...j.data()}));n(b),i(!1)});return()=>g()},[t]);const d=async(v,g,_="")=>{c(b=>({...b,[v]:!0}));try{const b=En(it,"kycRequests",v),j=await Yc(b);if(!j.exists()){He.error("KYC request not found");return}const S=j.data().userId;if(await ul(b,{status:g,reviewedAt:new Date,reviewedBy:t.uid,rejectionReason:g==="rejected"?_:null,updatedAt:new Date}),g==="approved"){const k=En(it,"profiles",S);await ul(k,{role:"owner",kycStatus:"approved",kycApprovedAt:new Date,updatedAt:new Date})}else if(g==="rejected"){const k=En(it,"profiles",S);await ul(k,{kycStatus:"rejected",kycRejectedAt:new Date,updatedAt:new Date})}He.success(`KYC request ${g} successfully`)}catch(b){console.error("Error processing KYC:",b),He.error("Failed to process KYC request")}finally{c(b=>({...b,[v]:!1}))}},f=v=>{const g={pending:"bg-yellow-100 text-yellow-800",under_review:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"};return l.jsx(Wy,{className:g[v]||g.pending,children:v.replace("_"," ").charAt(0).toUpperCase()+v.replace("_"," ").slice(1)})},m=v=>v?(v.toDate?v.toDate():new Date(v)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return t?.role!=="admin"?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx(Ce,{className:"w-full max-w-md",children:l.jsxs(ze,{className:"text-center py-12",children:[l.jsx(Jo,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to access KYC reviews."})]})})}):r?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"KYC Reviews"}),l.jsx("p",{className:"text-gray-600",children:"Review and approve KYC verification requests"})]}),e.length===0?l.jsx(Ce,{children:l.jsxs(ze,{className:"text-center py-12",children:[l.jsx(El,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No pending KYC requests"}),l.jsx("p",{className:"text-gray-600",children:"All KYC requests have been processed."})]})}):l.jsx("div",{className:"space-y-6",children:e.map(v=>l.jsxs(Ce,{className:"overflow-hidden",children:[l.jsx(ut,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(ht,{className:"flex items-center space-x-2",children:[l.jsx(Jc,{className:"h-5 w-5"}),l.jsx("span",{children:v.personalInfo?.fullName||"Unknown User"})]}),f(v.status)]})}),l.jsx(ze,{children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Personal Information"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Full Name:"}),l.jsx("span",{className:"font-medium",children:v.personalInfo?.fullName})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Date of Birth:"}),l.jsx("span",{className:"font-medium",children:v.personalInfo?.dateOfBirth})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Nationality:"}),l.jsx("span",{className:"font-medium",children:v.personalInfo?.nationality})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Phone:"}),l.jsx("span",{className:"font-medium",children:v.personalInfo?.phoneNumber})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Address:"}),l.jsx("span",{className:"font-medium text-right max-w-xs",children:v.personalInfo?.address})]})]}),l.jsxs("div",{className:"pt-4 border-t",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Business Information"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Business Type:"}),l.jsx("span",{className:"font-medium",children:v.businessInfo?.businessType})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Experience:"}),l.jsx("span",{className:"font-medium",children:v.businessInfo?.experience})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Properties:"}),l.jsx("span",{className:"font-medium",children:v.businessInfo?.propertyCount})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Documents"}),l.jsx("div",{className:"space-y-3",children:v.fileUrl?l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(El,{className:"h-5 w-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:v.documentType?.replace("_"," ").toUpperCase()||"Identity Document"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Submitted document"})]})]}),l.jsxs(Ae,{variant:"outline",size:"sm",onClick:()=>window.open(v.fileUrl,"_blank"),className:"flex items-center space-x-1",children:[l.jsx(Hg,{className:"h-4 w-4"}),l.jsx("span",{children:"View"})]})]}):l.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-center text-gray-500",children:"No documents found"})}),l.jsxs("div",{className:"pt-4 border-t",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[l.jsx(gr,{className:"h-4 w-4"}),l.jsxs("span",{children:["Submitted: ",m(v.createdAt)]})]}),v.status==="pending"&&l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs(Ae,{onClick:()=>d(v.id,"approved"),disabled:a[v.id],className:"flex-1 flex items-center justify-center space-x-2",children:[l.jsx(mo,{className:"h-4 w-4"}),l.jsx("span",{children:"Approve"})]}),l.jsxs(Ae,{variant:"outline",onClick:()=>{const g=prompt("Please provide a reason for rejection:");g&&d(v.id,"rejected",g)},disabled:a[v.id],className:"flex-1 flex items-center justify-center space-x-2",children:[l.jsx(Jo,{className:"h-4 w-4"}),l.jsx("span",{children:"Reject"})]})]}),a[v.id]&&l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600 mt-2",children:[l.jsx(fi,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{children:"Processing..."})]})]})]})]})})]},v.id))})]})})},r9=()=>{const{user:t}=Mn(),[e,n]=E.useState([]),[r,i]=E.useState(!0);E.useEffect(()=>{if(!t)return;const c=Pn(it,"profiles",t.uid,"favorites"),d=bl(c,async f=>{const m=[];for(const v of f.docs)try{const g=En(it,"listings",v.id),_=await Yc(g);_.exists()&&m.push({id:_.id,..._.data(),favoriteId:v.id,favoritedAt:v.data().createdAt})}catch(g){console.error("Error fetching favorite listing:",g)}n(m),i(!1)});return()=>d()},[t]);const a=async c=>{try{await c4(En(it,"profiles",t.uid,"favorites",c)),He.success("Removed from favorites")}catch(d){console.error("Error removing favorite:",d),He.error("Failed to remove favorite")}};return r?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-2",children:[l.jsx(Xc,{className:"h-8 w-8 text-red-500"}),l.jsx("span",{children:"My Favorites"})]}),l.jsx("p",{className:"text-gray-600",children:"Properties you've saved for later"})]}),e.length===0?l.jsx(Ce,{children:l.jsxs(ze,{className:"text-center py-12",children:[l.jsx(Xc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No favorites yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Start exploring and save properties you love!"}),l.jsx(Ae,{onClick:()=>window.location.href="/search",children:"Browse Properties"})]})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(c=>l.jsxs("div",{className:"relative",children:[l.jsx(XT,{listing:c}),l.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>a(c.id),className:"absolute top-2 right-2 bg-white/90 backdrop-blur-sm hover:bg-white",children:l.jsx(UL,{className:"h-4 w-4 text-red-500"})})]},c.id))})]})})},s9=({id:t,images:e=[],title:n,location:r,price:i,rating:a,dates:c,isFavorite:d=!1,onFavoriteToggle:f,onClick:m})=>{const[v,g]=E.useState(0),[_,b]=E.useState(!0),j=P=>{P.stopPropagation(),f?.(t)},T=()=>{m?.(t)},S=P=>{P.stopPropagation(),g(O=>O===e.length-1?0:O+1)},k=P=>{P.stopPropagation(),g(O=>O===0?e.length-1:O-1)};return l.jsxs("div",{className:"property-card group cursor-pointer",onClick:T,children:[l.jsxs("div",{className:"property-card__image-container",children:[l.jsxs("div",{className:"property-card__image-wrapper",children:[e.length>0&&l.jsx("img",{src:e[v],alt:n,className:`property-card__image ${_?"loading":""}`,onLoad:()=>b(!1),onError:()=>b(!1)}),_&&l.jsx("div",{className:"property-card__image-placeholder",children:l.jsx("div",{className:"animate-pulse bg-gray-200 w-full h-full rounded-xl"})})]}),l.jsx("button",{className:`property-card__favorite-btn ${d?"active":""}`,onClick:j,"aria-label":d?"Remove from favorites":"Add to favorites",children:l.jsx(Xc,{className:`w-6 h-6 ${d?"fill-red-500 text-red-500":"text-white"}`})}),l.jsx("div",{className:"property-card__badge",children:"Guest favorite"}),e.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"property-card__nav-btn property-card__nav-btn--prev",onClick:k,"aria-label":"Previous image",children:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:l.jsx("path",{d:"M7.5 9L4.5 6L7.5 3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("button",{className:"property-card__nav-btn property-card__nav-btn--next",onClick:S,"aria-label":"Next image",children:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:l.jsx("path",{d:"M4.5 3L7.5 6L4.5 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e.length>1&&l.jsx("div",{className:"property-card__dots",children:e.map((P,O)=>l.jsx("button",{className:`property-card__dot ${O===v?"active":""}`,onClick:B=>{B.stopPropagation(),g(O)},"aria-label":`Go to image ${O+1}`},O))})]}),l.jsxs("div",{className:"property-card__content",children:[l.jsxs("div",{className:"property-card__header",children:[l.jsx("h3",{className:"property-card__title",children:n}),a&&l.jsxs("div",{className:"property-card__rating",children:[l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:l.jsx("path",{d:"M6 1L7.545 4.13L11 4.635L8.5 7.07L9.09 10.5L6 8.885L2.91 10.5L3.5 7.07L1 4.635L4.455 4.13L6 1Z",fill:"currentColor"})}),l.jsx("span",{children:a})]})]}),l.jsx("p",{className:"property-card__location",children:r}),l.jsx("p",{className:"property-card__dates",children:c}),l.jsxs("div",{className:"property-card__price",children:[l.jsxs("span",{className:"property-card__price-amount",children:["$",i]}),l.jsx("span",{className:"property-card__price-period",children:" night"})]})]})]})},i9=({properties:t=[],onPropertyClick:e,onFavoriteToggle:n})=>{const[r,i]=E.useState(new Set),a=c=>{const d=new Set(r);d.has(c)?d.delete(c):d.add(c),i(d),n?.(c,d.has(c))};return t.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-500",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🏠"}),l.jsx("h3",{className:"text-xl font-medium mb-2",children:"No properties found"}),l.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria"})]}):l.jsx("div",{className:"property-grid",children:t.map(c=>l.jsx(s9,{id:c.id,images:c.images,title:c.title,location:c.location,price:c.price,rating:c.rating,dates:c.dates,isFavorite:r.has(c.id),onFavoriteToggle:a,onClick:e},c.id))})},o9=()=>{const t=[{id:1,images:["https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1560449752-c4715c3d9c5f?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1560448075-bb485b067938?w=400&h=400&fit=crop"],title:"Apartment in Marsa Dubai",location:"Dubai, UAE",dates:"for 2 nights",price:380,rating:4.87},{id:2,images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=400&h=400&fit=crop"],title:"Apartment in Dubai",location:"Dubai Marina, UAE",dates:"for 2 nights",price:493,rating:5},{id:3,images:["https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=400&h=400&fit=crop"],title:"Apartment in Downtown Dubai",location:"Downtown Dubai, UAE",dates:"for 2 nights",price:603,rating:4.98},{id:4,images:["https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1560185007-cde436f6a4d0?w=400&h=400&fit=crop"],title:"Apartment in Downtown Dubai",location:"Business Bay, UAE",dates:"for 2 nights",price:528,rating:4.84},{id:5,images:["https://images.unsplash.com/photo-1484154218962-a197022b5858?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1502672023488-70e25813eb80?w=400&h=400&fit=crop"],title:"Apartment in Marylebone",location:"London, UK",dates:"for 2 nights",price:1789,rating:4.82},{id:6,images:["https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=400&fit=crop"],title:"Room in Islington",location:"London, UK",dates:"for 2 nights",price:1235,rating:4.98},{id:7,images:["https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1540518614846-7eded433c457?w=400&h=400&fit=crop"],title:"Room in Covent Garden",location:"London, UK",dates:"for 2 nights",price:967,rating:4.9},{id:8,images:["https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?w=400&h=400&fit=crop"],title:"Room in Camden",location:"London, UK",dates:"for 2 nights",price:969,rating:5}],e=r=>{console.log("Property clicked:",r)},n=(r,i)=>{console.log("Favorite toggled:",r,i)};return l.jsx("div",{className:"clay-bg",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("div",{className:"mb-8 clay-card",children:l.jsx(JT,{})}),l.jsx("div",{className:"clay-card",children:l.jsx(i9,{properties:t,onPropertyClick:e,onFavoriteToggle:n})})]})})},a9=({price:t,rating:e,reviewCount:n,onReserve:r})=>{const[i,a]=E.useState(""),[c,d]=E.useState(""),[f,m]=E.useState(1),v=()=>{if(!i||!c){alert("Please select check-in and check-out dates");return}const b=Math.ceil((new Date(c)-new Date(i))/(1e3*60*60*24)),j=b*t;r({checkIn:i,checkOut:c,guests:f,nights:b,totalPrice:j})},g=i&&c?Math.ceil((new Date(c)-new Date(i))/(1e3*60*60*24)):0,_=g*t;return l.jsxs(Ce,{className:"p-6 rounded-[18px] shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-2xl font-bold",children:["$",t]}),l.jsx("span",{className:"text-muted-foreground",children:" / night"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ws,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),l.jsx("span",{className:"font-medium",children:e}),l.jsxs("span",{className:"text-muted-foreground",children:["(",n,")"]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Check-in"}),l.jsx("input",{type:"date",value:i,onChange:b=>a(b.target.value),className:"w-full p-2 border rounded-lg text-sm",min:new Date().toISOString().split("T")[0]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Check-out"}),l.jsx("input",{type:"date",value:c,onChange:b=>d(b.target.value),className:"w-full p-2 border rounded-lg text-sm",min:i||new Date().toISOString().split("T")[0]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Guests"}),l.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg",children:[l.jsx(bi,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("select",{value:f,onChange:b=>m(parseInt(b.target.value)),className:"flex-1 bg-transparent outline-none",children:[1,2,3,4,5,6,7,8].map(b=>l.jsxs("option",{value:b,children:[b," guest",b>1?"s":""]},b))})]})]}),l.jsx(Ae,{onClick:v,className:"w-full",children:"Reserve"}),g>0&&l.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:["$",t," × ",g," nights"]}),l.jsxs("span",{children:["$",t*g]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Service fee"}),l.jsx("span",{children:"$25"})]}),l.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",_+25]})]})]})]})]})},l9=({latitude:t,longitude:e,address:n,title:r})=>l.jsxs(Ce,{className:"rounded-[18px] p-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Location"}),l.jsx("div",{className:"relative bg-gray-100 rounded-lg h-64 mb-4 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Bs,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Map will be displayed here"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Coordinates: ",t,", ",e]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium",children:r}),l.jsxs("p",{className:"text-muted-foreground flex items-center gap-2",children:[l.jsx(Bs,{className:"h-4 w-4"}),n]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"The exact location will be provided after booking confirmation."})]})]}),c9=({propertyId:t})=>{const[e,n]=E.useState(!1),r=[{id:1,user:{name:"John Smith",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&w=150&q=80"},rating:5,comment:"Amazing place! The view was breathtaking and the host was very accommodating. Would definitely stay here again.",date:"2024-01-15"},{id:2,user:{name:"Emily Johnson",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?auto=format&fit=crop&w=150&q=80"},rating:4,comment:"Great location and beautiful property. The kitchen was well-equipped and the beds were comfortable.",date:"2024-01-10"},{id:3,user:{name:"Michael Brown",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=150&q=80"},rating:5,comment:"Perfect for our family vacation. The kids loved the beach access and we enjoyed the peaceful evenings on the deck.",date:"2024-01-05"},{id:4,user:{name:"Sarah Davis",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=150&q=80"},rating:4,comment:"Clean, spacious, and exactly as described. The host responded quickly to our questions.",date:"2023-12-28"}],i=e?r:r.slice(0,3),a=r.reduce((d,f)=>d+f.rating,0)/r.length,c=d=>Array.from({length:5},(f,m)=>l.jsx(Ws,{className:`h-4 w-4 ${m<d?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},m));return l.jsxs(Ce,{className:"rounded-[18px] p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Reviews"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex items-center gap-1",children:c(Math.round(a))}),l.jsx("span",{className:"font-medium",children:a.toFixed(1)}),l.jsxs("span",{className:"text-muted-foreground",children:["(",r.length," reviews)"]})]})]})}),l.jsx("div",{className:"space-y-6",children:i.map(d=>l.jsx("div",{className:"border-b border-gray-100 last:border-b-0 pb-6 last:pb-0",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsxs($f,{className:"h-10 w-10",children:[l.jsx(qf,{src:d.user.avatar}),l.jsx(Wf,{children:d.user.name.charAt(0)})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h4",{className:"font-medium",children:d.user.name}),l.jsx("div",{className:"flex items-center gap-1",children:c(d.rating)})]}),l.jsx("p",{className:"text-muted-foreground mb-2",children:d.comment}),l.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(d.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})},d.id))}),r.length>3&&l.jsx("div",{className:"mt-6 pt-6 border-t",children:l.jsx(Ae,{variant:"outline",onClick:()=>n(!e),className:"w-full",children:e?"Show Less":`Show All ${r.length} Reviews`})})]})},u9=({currentListingId:t,price:e,location:n})=>{const i=[{id:"2",title:"Modern Beach House",price_per_night:220,rating:4.7,reviewCount:89,city:"Miami Beach",max_guests:4,bedrooms:2,bathrooms:2,image:"https://images.unsplash.com/photo-1520637836862-4d197d17c55a?auto=format&fit=crop&w=400&q=80"},{id:"3",title:"Luxury Ocean View Condo",price_per_night:280,rating:4.9,reviewCount:124,city:"Miami Beach",max_guests:6,bedrooms:3,bathrooms:2,image:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?auto=format&fit=crop&w=400&q=80"},{id:"4",title:"Cozy Beachfront Apartment",price_per_night:180,rating:4.6,reviewCount:67,city:"Miami Beach",max_guests:4,bedrooms:2,bathrooms:1,image:"https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?auto=format&fit=crop&w=400&q=80"},{id:"5",title:"Stylish Downtown Loft",price_per_night:195,rating:4.5,reviewCount:43,city:"Miami Beach",max_guests:5,bedrooms:2,bathrooms:2,image:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=400&q=80"}].filter(a=>a.id!==t);return l.jsxs(Ce,{className:"rounded-[18px] p-6",children:[l.jsxs("h3",{className:"text-xl font-semibold mb-6",children:["Similar listings in ",n]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(a=>l.jsx(xt,{to:`/listing/${a.id}`,children:l.jsxs(Ce,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:a.image,alt:a.title,className:"w-full h-48 object-cover"}),l.jsxs(Wy,{className:"absolute top-3 right-3 bg-white text-black",children:["$",a.price_per_night,"/night"]})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"font-semibold text-lg truncate",children:a.title}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ws,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),l.jsx("span",{className:"text-sm font-medium",children:a.rating})]})]}),l.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground mb-3",children:[l.jsx(Bs,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:a.city})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(bi,{className:"h-4 w-4"}),l.jsxs("span",{children:[a.max_guests," guests"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Su,{className:"h-4 w-4"}),l.jsxs("span",{children:[a.bedrooms," bed"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Nu,{className:"h-4 w-4"}),l.jsxs("span",{children:[a.bathrooms," bath"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.reviewCount," reviews"]}),l.jsx(Ae,{size:"sm",variant:"outline",children:"View Details"})]})]})]})},a.id))})]})};function d9(t){return Object.prototype.toString.call(t)==="[object Object]"}function qb(t){return d9(t)||Array.isArray(t)}function h9(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Hy(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),a=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==a?!1:n.every(c=>{const d=t[c],f=e[c];return typeof d=="function"?`${d}`==`${f}`:!qb(d)||!qb(f)?d===f:Hy(d,f)})}function Wb(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function f9(t,e){if(t.length!==e.length)return!1;const n=Wb(t),r=Wb(e);return n.every((i,a)=>{const c=r[a];return Hy(i,c)})}function Ky(t){return typeof t=="number"}function cv(t){return typeof t=="string"}function rp(t){return typeof t=="boolean"}function Hb(t){return Object.prototype.toString.call(t)==="[object Object]"}function zt(t){return Math.abs(t)}function Gy(t){return Math.sign(t)}function Mc(t,e){return zt(t-e)}function p9(t,e){if(t===0||e===0||zt(t)<=zt(e))return 0;const n=Mc(zt(t),zt(e));return zt(n/t)}function m9(t){return Math.round(t*100)/100}function su(t){return iu(t).map(Number)}function as(t){return t[Ru(t)]}function Ru(t){return Math.max(0,t.length-1)}function Qy(t,e){return e===Ru(t)}function Kb(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function iu(t){return Object.keys(t)}function dj(t,e){return[t,e].reduce((n,r)=>(iu(r).forEach(i=>{const a=n[i],c=r[i],d=Hb(a)&&Hb(c);n[i]=d?dj(a,c):c}),n),{})}function uv(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function g9(t,e){const n={start:r,center:i,end:a};function r(){return 0}function i(f){return a(f)/2}function a(f){return e-f}function c(f,m){return cv(t)?n[t](f):t(e,f,m)}return{measure:c}}function ou(){let t=[];function e(i,a,c,d={passive:!0}){let f;if("addEventListener"in i)i.addEventListener(a,c,d),f=()=>i.removeEventListener(a,c,d);else{const m=i;m.addListener(c),f=()=>m.removeListener(c)}return t.push(f),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function v9(t,e,n,r){const i=ou(),a=1e3/60;let c=null,d=0,f=0;function m(){i.add(t,"visibilitychange",()=>{t.hidden&&j()})}function v(){b(),i.clear()}function g(S){if(!f)return;c||(c=S,n(),n());const k=S-c;for(c=S,d+=k;d>=a;)n(),d-=a;const P=d/a;r(P),f&&(f=e.requestAnimationFrame(g))}function _(){f||(f=e.requestAnimationFrame(g))}function b(){e.cancelAnimationFrame(f),c=null,d=0,f=0}function j(){c=null,d=0}return{init:m,destroy:v,start:_,stop:b,update:n,render:r}}function y9(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",a=r?"x":"y",c=!r&&n?-1:1,d=v(),f=g();function m(j){const{height:T,width:S}=j;return r?T:S}function v(){return r?"top":n?"right":"left"}function g(){return r?"bottom":n?"left":"right"}function _(j){return j*c}return{scroll:i,cross:a,startEdge:d,endEdge:f,measureSize:m,direction:_}}function aa(t=0,e=0){const n=zt(t-e);function r(m){return m<t}function i(m){return m>e}function a(m){return r(m)||i(m)}function c(m){return a(m)?r(m)?t:e:m}function d(m){return n?m-n*Math.ceil((m-e)/n):m}return{length:n,max:e,min:t,constrain:c,reachedAny:a,reachedMax:i,reachedMin:r,removeOffset:d}}function hj(t,e,n){const{constrain:r}=aa(0,t),i=t+1;let a=c(e);function c(_){return n?zt((i+_)%i):r(_)}function d(){return a}function f(_){return a=c(_),g}function m(_){return v().set(d()+_)}function v(){return hj(t,d(),n)}const g={get:d,set:f,add:m,clone:v};return g}function x9(t,e,n,r,i,a,c,d,f,m,v,g,_,b,j,T,S,k,P){const{cross:O,direction:B}=t,K=["INPUT","SELECT","TEXTAREA"],J={passive:!1},R=ou(),C=ou(),D=aa(50,225).constrain(b.measure(20)),L={mouse:300,touch:400},V={mouse:500,touch:600},U=j?43:25;let M=!1,oe=0,_e=0,ue=!1,he=!1,Y=!1,Q=!1;function ne(ve){if(!P)return;function qe(wt){(rp(P)||P(ve,wt))&&Ee(wt)}const Ze=e;R.add(Ze,"dragstart",wt=>wt.preventDefault(),J).add(Ze,"touchmove",()=>{},J).add(Ze,"touchend",()=>{}).add(Ze,"touchstart",qe).add(Ze,"mousedown",qe).add(Ze,"touchcancel",ge).add(Ze,"contextmenu",ge).add(Ze,"click",Le,!0)}function z(){R.clear(),C.clear()}function Z(){const ve=Q?n:e;C.add(ve,"touchmove",we,J).add(ve,"touchend",ge).add(ve,"mousemove",we,J).add(ve,"mouseup",ge)}function se(ve){const qe=ve.nodeName||"";return K.includes(qe)}function fe(){return(j?V:L)[Q?"mouse":"touch"]}function xe(ve,qe){const Ze=g.add(Gy(ve)*-1),wt=v.byDistance(ve,!j).distance;return j||zt(ve)<D?wt:S&&qe?wt*.5:v.byIndex(Ze.get(),0).distance}function Ee(ve){const qe=uv(ve,r);Q=qe,Y=j&&qe&&!ve.buttons&&M,M=Mc(i.get(),c.get())>=2,!(qe&&ve.button!==0)&&(se(ve.target)||(ue=!0,a.pointerDown(ve),m.useFriction(0).useDuration(0),i.set(c),Z(),oe=a.readPoint(ve),_e=a.readPoint(ve,O),_.emit("pointerDown")))}function we(ve){if(!uv(ve,r)&&ve.touches.length>=2)return ge(ve);const Ze=a.readPoint(ve),wt=a.readPoint(ve,O),qt=Mc(Ze,oe),vt=Mc(wt,_e);if(!he&&!Q&&(!ve.cancelable||(he=qt>vt,!he)))return ge(ve);const on=a.pointerMove(ve);qt>T&&(Y=!0),m.useFriction(.3).useDuration(.75),d.start(),i.add(B(on)),ve.preventDefault()}function ge(ve){const Ze=v.byDistance(0,!1).index!==g.get(),wt=a.pointerUp(ve)*fe(),qt=xe(B(wt),Ze),vt=p9(wt,qt),on=U-10*vt,ft=k+vt/50;he=!1,ue=!1,C.clear(),m.useDuration(on).useFriction(ft),f.distance(qt,!j),Q=!1,_.emit("pointerUp")}function Le(ve){Y&&(ve.stopPropagation(),ve.preventDefault(),Y=!1)}function Ge(){return ue}return{init:ne,destroy:z,pointerDown:Ge}}function w9(t,e){let r,i;function a(g){return g.timeStamp}function c(g,_){const j=`client${(_||t.scroll)==="x"?"X":"Y"}`;return(uv(g,e)?g:g.touches[0])[j]}function d(g){return r=g,i=g,c(g)}function f(g){const _=c(g)-c(i),b=a(g)-a(r)>170;return i=g,b&&(r=g),_}function m(g){if(!r||!i)return 0;const _=c(i)-c(r),b=a(g)-a(r),j=a(g)-a(i)>170,T=_/b;return b&&!j&&zt(T)>.1?T:0}return{pointerDown:d,pointerMove:f,pointerUp:m,readPoint:c}}function _9(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:a,offsetHeight:c}=n;return{top:r,right:i+a,bottom:r+c,left:i,width:a,height:c}}return{measure:t}}function b9(t){function e(r){return t*(r/100)}return{measure:e}}function E9(t,e,n,r,i,a,c){const d=[t].concat(r);let f,m,v=[],g=!1;function _(S){return i.measureSize(c.measure(S))}function b(S){if(!a)return;m=_(t),v=r.map(_);function k(P){for(const O of P){if(g)return;const B=O.target===t,K=r.indexOf(O.target),J=B?m:v[K],R=_(B?t:r[K]);if(zt(R-J)>=.5){S.reInit(),e.emit("resize");break}}}f=new ResizeObserver(P=>{(rp(a)||a(S,P))&&k(P)}),n.requestAnimationFrame(()=>{d.forEach(P=>f.observe(P))})}function j(){g=!0,f&&f.disconnect()}return{init:b,destroy:j}}function N9(t,e,n,r,i,a){let c=0,d=0,f=i,m=a,v=t.get(),g=0;function _(){const J=r.get()-t.get(),R=!f;let C=0;return R?(c=0,n.set(r),t.set(r),C=J):(n.set(t),c+=J/f,c*=m,v+=c,t.add(c),C=v-g),d=Gy(C),g=v,K}function b(){const J=r.get()-e.get();return zt(J)<.001}function j(){return f}function T(){return d}function S(){return c}function k(){return O(i)}function P(){return B(a)}function O(J){return f=J,K}function B(J){return m=J,K}const K={direction:T,duration:j,velocity:S,seek:_,settled:b,useBaseFriction:P,useBaseDuration:k,useFriction:B,useDuration:O};return K}function S9(t,e,n,r,i){const a=i.measure(10),c=i.measure(50),d=aa(.1,.99);let f=!1;function m(){return!(f||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function v(b){if(!m())return;const j=t.reachedMin(e.get())?"min":"max",T=zt(t[j]-e.get()),S=n.get()-e.get(),k=d.constrain(T/c);n.subtract(S*k),!b&&zt(S)<a&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function g(b){f=!b}return{shouldConstrain:m,constrain:v,toggleActive:g}}function T9(t,e,n,r,i){const a=aa(-e+t,0),c=g(),d=v(),f=_();function m(j,T){return Mc(j,T)<=1}function v(){const j=c[0],T=as(c),S=c.lastIndexOf(j),k=c.indexOf(T)+1;return aa(S,k)}function g(){return n.map((j,T)=>{const{min:S,max:k}=a,P=a.constrain(j),O=!T,B=Qy(n,T);return O?k:B||m(S,P)?S:m(k,P)?k:P}).map(j=>parseFloat(j.toFixed(3)))}function _(){if(e<=t+i)return[a.max];if(r==="keepSnaps")return c;const{min:j,max:T}=d;return c.slice(j,T)}return{snapsContained:f,scrollContainLimit:d}}function j9(t,e,n){const r=e[0],i=n?r-t:as(e);return{limit:aa(i,r)}}function k9(t,e,n,r){const a=e.min+.1,c=e.max+.1,{reachedMin:d,reachedMax:f}=aa(a,c);function m(_){return _===1?f(n.get()):_===-1?d(n.get()):!1}function v(_){if(!m(_))return;const b=t*(_*-1);r.forEach(j=>j.add(b))}return{loop:v}}function I9(t){const{max:e,length:n}=t;function r(a){const c=a-e;return n?c/-n:0}return{get:r}}function C9(t,e,n,r,i){const{startEdge:a,endEdge:c}=t,{groupSlides:d}=i,f=g().map(e.measure),m=_(),v=b();function g(){return d(r).map(T=>as(T)[c]-T[0][a]).map(zt)}function _(){return r.map(T=>n[a]-T[a]).map(T=>-zt(T))}function b(){return d(m).map(T=>T[0]).map((T,S)=>T+f[S])}return{snaps:m,snapsAligned:v}}function A9(t,e,n,r,i,a){const{groupSlides:c}=i,{min:d,max:f}=r,m=v();function v(){const _=c(a),b=!t||e==="keepSnaps";return n.length===1?[a]:b?_:_.slice(d,f).map((j,T,S)=>{const k=!T,P=Qy(S,T);if(k){const O=as(S[0])+1;return Kb(O)}if(P){const O=Ru(a)-as(S)[0]+1;return Kb(O,as(S)[0])}return j})}return{slideRegistry:m}}function R9(t,e,n,r,i){const{reachedAny:a,removeOffset:c,constrain:d}=r;function f(j){return j.concat().sort((T,S)=>zt(T)-zt(S))[0]}function m(j){const T=t?c(j):d(j),S=e.map((P,O)=>({diff:v(P-T,0),index:O})).sort((P,O)=>zt(P.diff)-zt(O.diff)),{index:k}=S[0];return{index:k,distance:T}}function v(j,T){const S=[j,j+n,j-n];if(!t)return j;if(!T)return f(S);const k=S.filter(P=>Gy(P)===T);return k.length?f(k):as(S)-n}function g(j,T){const S=e[j]-i.get(),k=v(S,T);return{index:j,distance:k}}function _(j,T){const S=i.get()+j,{index:k,distance:P}=m(S),O=!t&&a(S);if(!T||O)return{index:k,distance:j};const B=e[k]-P,K=j+v(B,0);return{index:k,distance:K}}return{byDistance:_,byIndex:g,shortcut:v}}function P9(t,e,n,r,i,a,c){function d(g){const _=g.distance,b=g.index!==e.get();a.add(_),_&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),b&&(n.set(e.get()),e.set(g.index),c.emit("select"))}function f(g,_){const b=i.byDistance(g,_);d(b)}function m(g,_){const b=e.clone().set(g),j=i.byIndex(b.get(),_);d(j)}return{distance:f,index:m}}function D9(t,e,n,r,i,a,c,d){const f={passive:!0,capture:!0};let m=0;function v(b){if(!d)return;function j(T){if(new Date().getTime()-m>10)return;c.emit("slideFocusStart"),t.scrollLeft=0;const P=n.findIndex(O=>O.includes(T));Ky(P)&&(i.useDuration(0),r.index(P,0),c.emit("slideFocus"))}a.add(document,"keydown",g,!1),e.forEach((T,S)=>{a.add(T,"focus",k=>{(rp(d)||d(b,k))&&j(S)},f)})}function g(b){b.code==="Tab"&&(m=new Date().getTime())}return{init:v}}function Cc(t){let e=t;function n(){return e}function r(f){e=c(f)}function i(f){e+=c(f)}function a(f){e-=c(f)}function c(f){return Ky(f)?f:f.get()}return{get:n,set:r,add:i,subtract:a}}function fj(t,e){const n=t.scroll==="x"?c:d,r=e.style;let i=null,a=!1;function c(_){return`translate3d(${_}px,0px,0px)`}function d(_){return`translate3d(0px,${_}px,0px)`}function f(_){if(a)return;const b=m9(t.direction(_));b!==i&&(r.transform=n(b),i=b)}function m(_){a=!_}function v(){a||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:v,to:f,toggleActive:m}}function O9(t,e,n,r,i,a,c,d,f){const v=su(i),g=su(i).reverse(),_=k().concat(P());function b(R,C){return R.reduce((D,L)=>D-i[L],C)}function j(R,C){return R.reduce((D,L)=>b(D,C)>0?D.concat([L]):D,[])}function T(R){return a.map((C,D)=>({start:C-r[D]+.5+R,end:C+e-.5+R}))}function S(R,C,D){const L=T(C);return R.map(V=>{const U=D?0:-n,M=D?n:0,oe=D?"end":"start",_e=L[V][oe];return{index:V,loopPoint:_e,slideLocation:Cc(-1),translate:fj(t,f[V]),target:()=>d.get()>_e?U:M}})}function k(){const R=c[0],C=j(g,R);return S(C,n,!1)}function P(){const R=e-c[0]-1,C=j(v,R);return S(C,-n,!0)}function O(){return _.every(({index:R})=>{const C=v.filter(D=>D!==R);return b(C,e)<=.1})}function B(){_.forEach(R=>{const{target:C,translate:D,slideLocation:L}=R,V=C();V!==L.get()&&(D.to(V),L.set(V))})}function K(){_.forEach(R=>R.translate.clear())}return{canLoop:O,clear:K,loop:B,loopPoints:_}}function M9(t,e,n){let r,i=!1;function a(f){if(!n)return;function m(v){for(const g of v)if(g.type==="childList"){f.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(v=>{i||(rp(n)||n(f,v))&&m(v)}),r.observe(t,{childList:!0})}function c(){r&&r.disconnect(),i=!0}return{init:a,destroy:c}}function L9(t,e,n,r){const i={};let a=null,c=null,d,f=!1;function m(){d=new IntersectionObserver(j=>{f||(j.forEach(T=>{const S=e.indexOf(T.target);i[S]=T}),a=null,c=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(j=>d.observe(j))}function v(){d&&d.disconnect(),f=!0}function g(j){return iu(i).reduce((T,S)=>{const k=parseInt(S),{isIntersecting:P}=i[k];return(j&&P||!j&&!P)&&T.push(k),T},[])}function _(j=!0){if(j&&a)return a;if(!j&&c)return c;const T=g(j);return j&&(a=T),j||(c=T),T}return{init:m,destroy:v,get:_}}function F9(t,e,n,r,i,a){const{measureSize:c,startEdge:d,endEdge:f}=t,m=n[0]&&i,v=j(),g=T(),_=n.map(c),b=S();function j(){if(!m)return 0;const P=n[0];return zt(e[d]-P[d])}function T(){if(!m)return 0;const P=a.getComputedStyle(as(r));return parseFloat(P.getPropertyValue(`margin-${f}`))}function S(){return n.map((P,O,B)=>{const K=!O,J=Qy(B,O);return K?_[O]+v:J?_[O]+g:B[O+1][d]-P[d]}).map(zt)}return{slideSizes:_,slideSizesWithGaps:b,startGap:v,endGap:g}}function V9(t,e,n,r,i,a,c,d,f){const{startEdge:m,endEdge:v,direction:g}=t,_=Ky(n);function b(k,P){return su(k).filter(O=>O%P===0).map(O=>k.slice(O,O+P))}function j(k){return k.length?su(k).reduce((P,O,B)=>{const K=as(P)||0,J=K===0,R=O===Ru(k),C=i[m]-a[K][m],D=i[m]-a[O][v],L=!r&&J?g(c):0,V=!r&&R?g(d):0,U=zt(D-V-(C+L));return B&&U>e+f&&P.push(O),R&&P.push(k.length),P},[]).map((P,O,B)=>{const K=Math.max(B[O-1]||0);return k.slice(K,P)}):[]}function T(k){return _?b(k,n):j(k)}return{groupSlides:T}}function U9(t,e,n,r,i,a,c){const{align:d,axis:f,direction:m,startIndex:v,loop:g,duration:_,dragFree:b,dragThreshold:j,inViewThreshold:T,slidesToScroll:S,skipSnaps:k,containScroll:P,watchResize:O,watchSlides:B,watchDrag:K,watchFocus:J}=a,R=2,C=_9(),D=C.measure(e),L=n.map(C.measure),V=y9(f,m),U=V.measureSize(D),M=b9(U),oe=g9(d,U),_e=!g&&!!P,ue=g||!!P,{slideSizes:he,slideSizesWithGaps:Y,startGap:Q,endGap:ne}=F9(V,D,L,n,ue,i),z=V9(V,U,S,g,D,L,Q,ne,R),{snaps:Z,snapsAligned:se}=C9(V,oe,D,L,z),fe=-as(Z)+as(Y),{snapsContained:xe,scrollContainLimit:Ee}=T9(U,fe,se,P,R),we=_e?xe:se,{limit:ge}=j9(fe,we,g),Le=hj(Ru(we),v,g),Ge=Le.clone(),$e=su(n),ve=({dragHandler:pt,scrollBody:vn,scrollBounds:Wt,options:{loop:Ln}})=>{Ln||Wt.constrain(pt.pointerDown()),vn.seek()},qe=({scrollBody:pt,translate:vn,location:Wt,offsetLocation:Ln,previousLocation:tr,scrollLooper:nr,slideLooper:rr,dragHandler:xr,animation:Sn,eventHandler:en,scrollBounds:fs,options:{loop:Tn}},Fn)=>{const Rr=pt.settled(),Pe=!fs.shouldConstrain(),_t=Tn?Rr:Rr&&Pe,bt=_t&&!xr.pointerDown();bt&&Sn.stop();const Yt=Wt.get()*Fn+tr.get()*(1-Fn);Ln.set(Yt),Tn&&(nr.loop(pt.direction()),rr.loop()),vn.to(Ln.get()),bt&&en.emit("settle"),_t||en.emit("scroll")},Ze=v9(r,i,()=>ve(cn),pt=>qe(cn,pt)),wt=.68,qt=we[Le.get()],vt=Cc(qt),on=Cc(qt),ft=Cc(qt),Pt=Cc(qt),an=N9(vt,ft,on,Pt,_,wt),kt=R9(g,we,fe,ge,Pt),ln=P9(Ze,Le,Ge,an,kt,Pt,c),me=I9(ge),Ie=ou(),Ve=L9(e,n,c,T),{slideRegistry:Qe}=A9(_e,P,we,Ee,z,$e),yt=D9(t,n,Qe,ln,an,Ie,c,J),cn={ownerDocument:r,ownerWindow:i,eventHandler:c,containerRect:D,slideRects:L,animation:Ze,axis:V,dragHandler:x9(V,t,r,i,Pt,w9(V,i),vt,Ze,ln,an,kt,Le,c,M,b,j,k,wt,K),eventStore:Ie,percentOfView:M,index:Le,indexPrevious:Ge,limit:ge,location:vt,offsetLocation:ft,previousLocation:on,options:a,resizeHandler:E9(e,c,i,n,V,O,C),scrollBody:an,scrollBounds:S9(ge,ft,Pt,an,M),scrollLooper:k9(fe,ge,ft,[vt,ft,on,Pt]),scrollProgress:me,scrollSnapList:we.map(me.get),scrollSnaps:we,scrollTarget:kt,scrollTo:ln,slideLooper:O9(V,U,fe,he,Y,Z,we,ft,n),slideFocus:yt,slidesHandler:M9(e,c,B),slidesInView:Ve,slideIndexes:$e,slideRegistry:Qe,slidesToScroll:z,target:Pt,translate:fj(V,e)};return cn}function B9(){let t={},e;function n(m){e=m}function r(m){return t[m]||[]}function i(m){return r(m).forEach(v=>v(e,m)),f}function a(m,v){return t[m]=r(m).concat([v]),f}function c(m,v){return t[m]=r(m).filter(g=>g!==v),f}function d(){t={}}const f={init:n,emit:i,off:c,on:a,clear:d};return f}const z9={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function $9(t){function e(a,c){return dj(a,c||{})}function n(a){const c=a.breakpoints||{},d=iu(c).filter(f=>t.matchMedia(f).matches).map(f=>c[f]).reduce((f,m)=>e(f,m),{});return e(a,d)}function r(a){return a.map(c=>iu(c.breakpoints||{})).reduce((c,d)=>c.concat(d),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function q9(t){let e=[];function n(a,c){return e=c.filter(({options:d})=>t.optionsAtMedia(d).active!==!1),e.forEach(d=>d.init(a,t)),c.reduce((d,f)=>Object.assign(d,{[f.name]:f}),{})}function r(){e=e.filter(a=>a.destroy())}return{init:n,destroy:r}}function af(t,e,n){const r=t.ownerDocument,i=r.defaultView,a=$9(i),c=q9(a),d=ou(),f=B9(),{mergeOptions:m,optionsAtMedia:v,optionsMediaQueries:g}=a,{on:_,off:b,emit:j}=f,T=V;let S=!1,k,P=m(z9,af.globalOptions),O=m(P),B=[],K,J,R;function C(){const{container:$e,slides:ve}=O;J=(cv($e)?t.querySelector($e):$e)||t.children[0];const Ze=cv(ve)?J.querySelectorAll(ve):ve;R=[].slice.call(Ze||J.children)}function D($e){const ve=U9(t,J,R,r,i,$e,f);if($e.loop&&!ve.slideLooper.canLoop()){const qe=Object.assign({},$e,{loop:!1});return D(qe)}return ve}function L($e,ve){S||(P=m(P,$e),O=v(P),B=ve||B,C(),k=D(O),g([P,...B.map(({options:qe})=>qe)]).forEach(qe=>d.add(qe,"change",V)),O.active&&(k.translate.to(k.location.get()),k.animation.init(),k.slidesInView.init(),k.slideFocus.init(Ge),k.eventHandler.init(Ge),k.resizeHandler.init(Ge),k.slidesHandler.init(Ge),k.options.loop&&k.slideLooper.loop(),J.offsetParent&&R.length&&k.dragHandler.init(Ge),K=c.init(Ge,B)))}function V($e,ve){const qe=z();U(),L(m({startIndex:qe},$e),ve),f.emit("reInit")}function U(){k.dragHandler.destroy(),k.eventStore.clear(),k.translate.clear(),k.slideLooper.clear(),k.resizeHandler.destroy(),k.slidesHandler.destroy(),k.slidesInView.destroy(),k.animation.destroy(),c.destroy(),d.clear()}function M(){S||(S=!0,d.clear(),U(),f.emit("destroy"),f.clear())}function oe($e,ve,qe){!O.active||S||(k.scrollBody.useBaseFriction().useDuration(ve===!0?0:O.duration),k.scrollTo.index($e,qe||0))}function _e($e){const ve=k.index.add(1).get();oe(ve,$e,-1)}function ue($e){const ve=k.index.add(-1).get();oe(ve,$e,1)}function he(){return k.index.add(1).get()!==z()}function Y(){return k.index.add(-1).get()!==z()}function Q(){return k.scrollSnapList}function ne(){return k.scrollProgress.get(k.offsetLocation.get())}function z(){return k.index.get()}function Z(){return k.indexPrevious.get()}function se(){return k.slidesInView.get()}function fe(){return k.slidesInView.get(!1)}function xe(){return K}function Ee(){return k}function we(){return t}function ge(){return J}function Le(){return R}const Ge={canScrollNext:he,canScrollPrev:Y,containerNode:ge,internalEngine:Ee,destroy:M,off:b,on:_,emit:j,plugins:xe,previousScrollSnap:Z,reInit:T,rootNode:we,scrollNext:_e,scrollPrev:ue,scrollProgress:ne,scrollSnapList:Q,scrollTo:oe,selectedScrollSnap:z,slideNodes:Le,slidesInView:se,slidesNotInView:fe};return L(e,n),setTimeout(()=>f.emit("init"),0),Ge}af.globalOptions=void 0;function Yy(t={},e=[]){const n=E.useRef(t),r=E.useRef(e),[i,a]=E.useState(),[c,d]=E.useState(),f=E.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return E.useEffect(()=>{Hy(n.current,t)||(n.current=t,f())},[t,f]),E.useEffect(()=>{f9(r.current,e)||(r.current=e,f())},[e,f]),E.useEffect(()=>{if(h9()&&c){af.globalOptions=Yy.globalOptions;const m=af(c,n.current,r.current);return a(m),()=>m.destroy()}else a(void 0)},[c,a]),[d,i]}Yy.globalOptions=void 0;const W9={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function H9(t,e){const n=t.scrollSnapList();return typeof e=="number"?n.map(()=>e):e(n,t)}function K9(t,e){const n=t.rootNode();return e&&e(n)||n}function Xy(t={}){let e,n,r,i,a=null,c=0,d=!1,f=!1,m=!1,v=!1;function g(oe,_e){n=oe;const{mergeOptions:ue,optionsAtMedia:he}=_e,Y=ue(W9,Xy.globalOptions),Q=ue(Y,t);if(e=he(Q),n.scrollSnapList().length<=1)return;v=e.jump,r=!1,i=H9(n,e.delay);const{eventStore:ne,ownerDocument:z}=n.internalEngine(),Z=!!n.internalEngine().options.watchDrag,se=K9(n,e.rootNode);ne.add(z,"visibilitychange",k),Z&&n.on("pointerDown",O),Z&&!e.stopOnInteraction&&n.on("pointerUp",B),e.stopOnMouseEnter&&ne.add(se,"mouseenter",K),e.stopOnMouseEnter&&!e.stopOnInteraction&&ne.add(se,"mouseleave",J),e.stopOnFocusIn&&n.on("slideFocusStart",S),e.stopOnFocusIn&&!e.stopOnInteraction&&ne.add(n.containerNode(),"focusout",T),e.playOnInit&&T()}function _(){n.off("pointerDown",O).off("pointerUp",B).off("slideFocusStart",S),S(),r=!0,d=!1}function b(){const{ownerWindow:oe}=n.internalEngine();oe.clearTimeout(c),c=oe.setTimeout(V,i[n.selectedScrollSnap()]),a=new Date().getTime(),n.emit("autoplay:timerset")}function j(){const{ownerWindow:oe}=n.internalEngine();oe.clearTimeout(c),c=0,a=null,n.emit("autoplay:timerstopped")}function T(){if(!r){if(P()){m=!0;return}d||n.emit("autoplay:play"),b(),d=!0}}function S(){r||(d&&n.emit("autoplay:stop"),j(),d=!1)}function k(){if(P())return m=d,S();m&&T()}function P(){const{ownerDocument:oe}=n.internalEngine();return oe.visibilityState==="hidden"}function O(){f||S()}function B(){f||T()}function K(){f=!0,S()}function J(){f=!1,T()}function R(oe){typeof oe<"u"&&(v=oe),T()}function C(){d&&S()}function D(){d&&T()}function L(){return d}function V(){const{index:oe}=n.internalEngine(),_e=oe.clone().add(1).get(),ue=n.scrollSnapList().length-1,he=e.stopOnLastSnap&&_e===ue;if(n.canScrollNext()?n.scrollNext(v):n.scrollTo(0,v),n.emit("autoplay:select"),he)return S();T()}function U(){if(!a)return null;const oe=i[n.selectedScrollSnap()],_e=new Date().getTime()-a;return oe-_e}return{name:"autoplay",options:t,init:g,destroy:_,play:R,stop:C,reset:D,isPlaying:L,timeUntilNext:U}}Xy.globalOptions=void 0;const G9=()=>{const{id:t}=df(),{user:e,profile:n}=Mn(),{language:r}=Bf(),[i,a]=E.useState(!1),[c,d]=E.useState(!1),f=E.useCallback(async()=>{if(!(!e||!n||!t))try{console.log("Mock check favorite for listing:",t),a(!1)}catch(k){console.error("Error checking favorite status:",k)}},[e,n,t]),m={id:t||"1",title:"Beautiful Waterfront Villa",description:"Experience luxury living in this stunning waterfront villa with panoramic views of the ocean. This property features modern amenities, spacious rooms, and direct beach access. Perfect for families or groups looking for an unforgettable vacation experience.",price_per_night:250,max_guests:6,bedrooms:3,bathrooms:2,city:"Miami Beach",location:"Miami Beach, Florida, USA",latitude:25.7907,longitude:-80.13,rating:4.8,reviewCount:156,images:["https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=1200&q=80","https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?auto=format&fit=crop&w=1200&q=80","https://images.unsplash.com/photo-1571896349842-33c89424de2d?auto=format&fit=crop&w=1200&q=80"],host:{full_name:"Sarah Johnson",avatar_url:"https://images.unsplash.com/photo-1494790108755-2616b612b786?auto=format&fit=crop&w=150&q=80",created_at:"2023-01-01"}},[v,g]=Yy({loop:!0},[Xy({delay:5e3,stopOnInteraction:!1})]),[_,b]=E.useState(0);E.useEffect(()=>{if(!g)return;const k=()=>{b(g.selectedScrollSnap())};return g.on("select",k),()=>{g.off("select",k)}},[g]),E.useEffect(()=>{f()},[f]);const j=async()=>{if(!e){lh.error("Please sign in to save favorites");return}d(!0);try{console.log("Mock toggle favorite for listing:",t),a(!i),lh.success(i?"Removed from favorites":"Added to favorites")}catch(k){console.error("Error toggling favorite:",k),lh.error("Failed to update favorites")}finally{d(!1)}},T=E.useCallback(()=>g&&g.scrollPrev(),[g]),S=E.useCallback(()=>g&&g.scrollNext(),[g]);return l.jsx("div",{className:"min-h-screen bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:m.title}),l.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ws,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),l.jsx("span",{className:"font-medium",children:m.rating}),l.jsxs("span",{children:["(",m.reviewCount," reviews)"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Bs,{className:"h-4 w-4"}),l.jsx("span",{children:m.city})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Ae,{variant:"outline",size:"sm",onClick:j,disabled:c,className:"flex items-center gap-2",children:[l.jsx(Xc,{className:`h-4 w-4 ${i?"fill-red-500 text-red-500":""}`}),i?"Saved":"Save"]}),l.jsxs(Ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(FL,{className:"h-4 w-4"}),"Share"]})]})]})}),l.jsxs("div",{className:"relative mb-8 rounded-xl overflow-hidden",children:[l.jsx("div",{className:"embla",ref:v,children:l.jsx("div",{className:"embla__container flex",children:m.images.map((k,P)=>l.jsx("div",{className:"embla__slide flex-[0_0_100%] min-w-0",children:l.jsx("img",{src:k,alt:`${m.title} - Photo ${P+1}`,className:"w-full h-[500px] object-cover"})},P))})}),l.jsx(Ae,{onClick:T,variant:"outline",size:"icon",className:"absolute top-1/2 left-4 -translate-y-1/2 bg-white/80 hover:bg-white",children:l.jsx(cS,{className:"h-4 w-4"})}),l.jsx(Ae,{onClick:S,variant:"outline",size:"icon",className:"absolute top-1/2 right-4 -translate-y-1/2 bg-white/80 hover:bg-white",children:l.jsx(jy,{className:"h-4 w-4"})}),l.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:m.images.map((k,P)=>l.jsx("button",{className:`w-2 h-2 rounded-full transition-all ${P===_?"bg-white":"bg-white/50"}`,onClick:()=>g?.scrollTo(P)},P))})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsx(Ce,{className:"rounded-[18px] p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs($f,{className:"h-12 w-12",children:[l.jsx(qf,{src:m.host.avatar_url}),l.jsx(Wf,{children:m.host.full_name?.charAt(0)})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold",children:["Hosted by ",m.host.full_name]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Host since ",new Date(m.host.created_at).getFullYear()]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Ae,{variant:"outline",size:"sm",children:[l.jsx(bL,{className:"h-4 w-4 mr-2"}),"Message"]}),l.jsxs(Ae,{variant:"outline",size:"sm",children:[l.jsx(DL,{className:"h-4 w-4 mr-2"}),"Call"]})]})]})}),l.jsxs(Ce,{className:"rounded-[18px] p-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Property Details"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[l.jsx(bi,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Guests"}),l.jsx("p",{className:"font-medium",children:m.max_guests})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[l.jsx(Su,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Bedrooms"}),l.jsx("p",{className:"font-medium",children:m.bedrooms})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[l.jsx(Nu,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Bathrooms"}),l.jsx("p",{className:"font-medium",children:m.bathrooms})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-medium",children:"What this place offers"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(qL,{className:"h-5 w-5 text-muted-foreground"}),l.jsx("span",{className:"text-sm",children:"Free WiFi"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(NL,{className:"h-5 w-5 text-muted-foreground"}),l.jsx("span",{className:"text-sm",children:"Free parking"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zL,{className:"h-5 w-5 text-muted-foreground"}),l.jsx("span",{className:"text-sm",children:"Kitchen"})]})]})]})]}),l.jsxs(Ce,{className:"rounded-[18px] p-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"About this place"}),l.jsx("p",{className:"text-muted-foreground leading-relaxed",children:m.description})]}),l.jsx(l9,{latitude:m.latitude,longitude:m.longitude,address:m.location,title:m.title}),l.jsx(c9,{propertyId:m.id}),l.jsx(u9,{currentListingId:m.id,price:m.price_per_night,location:m.city})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx("div",{className:"sticky top-6",children:l.jsx(a9,{price:m.price_per_night,rating:m.rating,reviewCount:m.reviewCount,onReserve:k=>{console.log("Mock reservation:",k),lh.success("Reservation functionality coming soon!")}})})})]})]})})};function Q9(){const{loading:t}=Mn();return t?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):l.jsx(SM,{children:l.jsxs("div",{className:"min-h-screen bg-transparent",children:[l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsx(JV,{})}),l.jsxs(gI,{children:[l.jsx(pn,{path:"/",element:l.jsx(o9,{})}),l.jsx(pn,{path:"/home",element:l.jsx(A6,{})}),l.jsx(pn,{path:"/search",element:l.jsx(V6,{})}),l.jsx(pn,{path:"/property/:id",element:l.jsx(U6,{})}),l.jsx(pn,{path:"/listing/:id",element:l.jsx(G9,{})}),l.jsx(pn,{path:"/auth/login",element:l.jsx(R6,{})}),l.jsx(pn,{path:"/auth/register",element:l.jsx(P6,{})}),l.jsx(pn,{path:"/auth/reset",element:l.jsx(D6,{})}),l.jsx(pn,{path:"/dashboard",element:l.jsx(Ns,{children:l.jsx(F6,{})})}),l.jsx(pn,{path:"/kyc",element:l.jsx(Ns,{children:l.jsx(z6,{})})}),l.jsx(pn,{path:"/listings/new",element:l.jsx(Ns,{requiredRole:"owner",requireEmailVerification:!0,children:l.jsx(XU,{})})}),l.jsx(pn,{path:"/book/:id",element:l.jsx(Ns,{requireEmailVerification:!0,children:l.jsx(JU,{})})}),l.jsx(pn,{path:"/booking-confirmation/:id",element:l.jsx(Ns,{children:l.jsx(ZU,{})})}),l.jsx(pn,{path:"/bookings",element:l.jsx(Ns,{children:l.jsx(e9,{})})}),l.jsx(pn,{path:"/profile",element:l.jsx(Ns,{children:l.jsx(B6,{})})}),l.jsx(pn,{path:"/admin",element:l.jsx(Ns,{requiredRole:"admin",children:l.jsx(t9,{})})}),l.jsx(pn,{path:"/admin/kyc",element:l.jsx(Ns,{requiredRole:"admin",children:l.jsx(n9,{})})}),l.jsx(pn,{path:"/favorites",element:l.jsx(Ns,{children:l.jsx(r9,{})})})]}),l.jsx(j6,{})]})})}Sk.createRoot(document.getElementById("root")).render(l.jsx(E.StrictMode,{children:l.jsx(EI,{children:l.jsxs(NM,{children:[l.jsx(Q9,{}),l.jsx(p2,{position:"top-right"})]})})}));
